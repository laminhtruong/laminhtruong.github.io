System.register("chunks:///_virtual/PopupWinner.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts"],(function(e){"use strict";var t,n,i,a,r,l,o,s,u,c,p,b,f,g,h,m,y,P,I,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.defineProperty},function(e){l=e.cclegacy,o=e._decorator,s=e.PageView,u=e.Label,c=e.EditBox,p=e.Vec3,b=e.tween,f=e.UITransform,g=e.view,h=e.Color,m=e.Component},function(e){y=e.EventName,P=e.ActionMain,I=e.ActionBid},function(e){w=e.default}],execute:function(){var d,L,v,x,z,E,T,S,U,N,D,V,_,A,B,C,F,G,H,M,W,O,R;l._RF.push({},"1e6a1GcakxGLJ66iIEe5BZ/","PopupWinner",void 0);var k=o.ccclass,j=o.property;e("PopupWinner",(d=k("PopupWinner"),L=j({type:s}),v=j({type:u}),x=j({type:u}),z=j({type:u}),E=j({type:u}),T=j({type:u}),S=j({type:u}),U=j({type:c}),N=j({type:c}),D=j({type:c}),d((A=t((_=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,i(a(t),"PageView",A,a(t)),i(a(t),"LabelDate",B,a(t)),i(a(t),"LabelHotel",C,a(t)),i(a(t),"LabelPrice",F,a(t)),i(a(t),"LabelName",G,a(t)),i(a(t),"LabelEmail",H,a(t)),i(a(t),"LabelPhone",M,a(t)),i(a(t),"TextName",W,a(t)),i(a(t),"TextEmail",O,a(t)),i(a(t),"TextPhone",R,a(t)),r(a(t),"labelUserInfos",{}),r(a(t),"landingPage",""),t}n(t,e);var l=t.prototype;return l.onEnable=function(){this.node.setScale(new p(0,0,1)),b(this.node).to(.5,{scale:new p(1,1,1)},{easing:"elasticOut"}).start(),this.labelUserInfos.name=this.LabelName,this.labelUserInfos.email=this.LabelEmail,this.labelUserInfos.phone=this.LabelPhone,this.PageView.enabled=!1},l.start=function(){},l.Show=function(e){this.node.active=!0,this.node.getComponent(f).contentSize=g.getVisibleSize(),this.SetInformation(e)},l.Close=function(){var e=this;b(this.node).to(.5,{scale:new p(0,0,1)},{easing:"elasticIn"}).call((function(){return e.node.active=!1})).start()},l.SetInformation=function(e){this.LabelDate.string=e.programInfo.createdTime.split(" ")[1],this.LabelHotel.string=e.programInfo.name,this.LabelPrice.string=e.auctionPrice,this.landingPage=e.programInfo.landingPage,this.SetUserInfo(e,"name"),this.SetUserInfo(e,"email"),this.SetUserInfo(e,"phone")},l.SetUserInfo=function(e,t){var n=this.labelUserInfos[t];null==e[t]?(n.color=new h("#333742"),n.isItalic=!0,n.string="(Bổ sung thông tin)"):(n.color=new h("#FC1283"),n.isItalic=!1,n.string=e[t])},l.Next=function(){this.PageView.enabled=!0,this.PageView.setCurrentPageIndex(1)},l.Accept=function(){w.GetInstance().emit(y.MAIN,{action:P.UPDATE_USER_INFO,name:this.TextName.string,email:this.TextEmail.string,phone:this.TextPhone.string})},l.Info=function(){w.GetInstance().emit(y.BID,{action:I.INFO,url:this.landingPage})},t}(m)).prototype,"PageView",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(_.prototype,"LabelDate",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(_.prototype,"LabelHotel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(_.prototype,"LabelPrice",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(_.prototype,"LabelName",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(_.prototype,"LabelEmail",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(_.prototype,"LabelPhone",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(_.prototype,"TextName",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(_.prototype,"TextEmail",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(_.prototype,"TextPhone",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=_))||V));l._RF.pop()}}}));

System.register("chunks:///_virtual/PopupAgreement.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts"],(function(e){"use strict";var t,n,o,i,r,l,a,c,u,g,s,p,h,b,f,y,d,L,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.WebView,c=e.Toggle,u=e.Button,g=e.Vec3,s=e.tween,p=e.UITransform,h=e.view,b=e.Color,f=e.Sprite,y=e.Component},function(e){d=e.EventName,L=e.ActionMain},function(e){w=e.default}],execute:function(){var m,v,T,A,C,k,M,z,F,I,G,P,S;r._RF.push({},"252de94ShdLxLFIQbxXPCxA","PopupAgreement",void 0);var O=l.ccclass,V=l.property;e("PopupAgreement",(m=O("PopupAgreement"),v=V({type:a}),T=V({type:c}),A=V({type:u}),C=V({type:u}),k=V({type:u}),m((F=t((z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(i(t),"WebView",F,i(t)),o(i(t),"ToggleAgree",I,i(t)),o(i(t),"LoginMyTour",G,i(t)),o(i(t),"LoginGoogle",P,i(t)),o(i(t),"LoginFacebook",S,i(t)),t}n(t,e);var r=t.prototype;return r.onEnable=function(){this.node.setScale(new g(0,0,1)),s(this.node).to(.5,{scale:new g(1,1,1)},{easing:"elasticOut"}).start(),this.node.getComponent(p).contentSize=h.getVisibleSize(),this.WebView.url=window.RULE_URL},r.start=function(){this.ToggleAgree.node.on("toggle",this.OnToggle,this)},r.Show=function(e){this.LoginMyTour.node.active=e,this.LoginGoogle.node.active=!e,this.LoginFacebook.node.active=!e,this.OnToggle(this.ToggleAgree),this.node.active=!0},r.Close=function(){var e=this;s(this.node).to(.5,{scale:new g(0,0,1)},{easing:"elasticIn"}).call((function(){return e.node.active=!1})).start()},r.OnToggle=function(e){var t=e.isChecked?b.WHITE:new b("#808080");this.LoginMyTour.interactable=e.isChecked,this.LoginGoogle.interactable=e.isChecked,this.LoginFacebook.interactable=e.isChecked,this.LoginMyTour.getComponent(f).color=t,this.LoginGoogle.getComponent(f).color=t,this.LoginFacebook.getComponent(f).color=t},r.OnLoginMyTour=function(){w.GetInstance().emit(d.MAIN,{action:L.LOGIN})},t}(y)).prototype,"WebView",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(z.prototype,"ToggleAgree",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(z.prototype,"LoginMyTour",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(z.prototype,"LoginGoogle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(z.prototype,"LoginFacebook",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=z))||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemBidding.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./Utils.ts"],(function(t){"use strict";var e,i,n,r,o,a,l,u,c,p,f,s,g,m,d,b,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.defineProperty},function(t){a=t.cclegacy,l=t._decorator,u=t.Sprite,c=t.Label,p=t.Color,f=t.Component},function(t){s=t.EventName,g=t.ActionBid},function(t){m=t.default},function(t){d=t.StringDateToShortDate,b=t.TextLimit,h=t.FormatPrice}],execute:function(){var y,I,v,D,B,w,z,P,S,_,F,L,x;a._RF.push({},"29b29DhKDpPx6KKXVpIBp3Z","ItemBidding",void 0);var K=l.ccclass,N=l.property;t("ItemBidding",(y=K("ItemBidding"),I=N({type:u}),v=N({type:c}),D=N({type:c}),B=N({type:c}),w=N({type:c}),y((S=e((P=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,n(r(e),"bg",S,r(e)),n(r(e),"time",_,r(e)),n(r(e),"hotel",F,r(e)),n(r(e),"price",L,r(e)),n(r(e),"duplicate",x,r(e)),o(r(e),"item",void 0),e}i(e,t);var a=e.prototype;return a.start=function(){},a.SetInformation=function(t,e){this.bg.color=new p(e%2==0?"#fff8ff":"#ffedfd"),this.time.string=d(t.auctionDate),this.hotel.string=b(t.programInfo.name,25),this.price.string=h(""+t.auctionPrice)+" đ",this.duplicate.string="("+t.duplicateNumber+" người cùng giá)",this.item=t},a.Info=function(){m.GetInstance().emit(s.BID,{action:g.INFO,url:this.item.programInfo.landingPage})},e}(f)).prototype,"bg",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(P.prototype,"time",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(P.prototype,"hotel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(P.prototype,"price",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(P.prototype,"duplicate",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=P))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./PopupWinner.ts","./PopupAgreement.ts","./API.ts","./Loading.ts","./Main.ts","./Timer.ts","./Bid.ts","./PopupError.ts","./PopupInformation.ts","./PopupGift.ts","./PopupHotelDetails.ts","./PopupWarning.ts","./PopupUpdateInfo.ts"],(function(e){"use strict";var t,i,n,o,a,r,s,c,p,u,l,h,f,d,g,m,S,b,I,w,v,P,T,y,A,E,N,G,k,O;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.defineProperty},function(e){r=e.cclegacy,s=e._decorator,c=e.AudioSource,p=e.sys,u=e.Component},function(e){l=e.Profiles,h=e.EventName,f=e.ActionMain,d=e.UserInfos,g=e.ActionLogin,m=e.ActionBid},function(e){S=e.default},function(e){b=e.PopupWinner},function(e){I=e.PopupAgreement},function(e){w=e.default},function(e){v=e.Loading},function(e){P=e.Main},function(e){T=e.default},function(e){y=e.Bid},function(e){A=e.PopupError},function(e){E=e.PopupInformation},function(e){N=e.PopupGift},function(e){G=e.PopupHotelDetails},function(e){k=e.PopupWarning},function(e){O=e.PopupUpdateInfo}],execute:function(){var R,_,M,D,L,U,W,C,B,H,F,z,j,Y,K,J,x,V,X,q,Q,Z,$,ee,te,ie,ne;r._RF.push({},"2df67cPW6dPX48dJVTWAnOy","GameMgr",void 0);var oe,ae=s.ccclass,re=s.property;!function(e){e[e.INIT=0]="INIT",e[e.GET_PROGRAMS=1]="GET_PROGRAMS",e[e.LOGIN=2]="LOGIN",e[e.GET_USER_INFO=3]="GET_USER_INFO",e[e.GET_TURNS=4]="GET_TURNS",e[e.GET_REFERAL=5]="GET_REFERAL",e[e.MAIN=6]="MAIN",e[e.PLAY=7]="PLAY",e[e.BID=8]="BID"}(oe||(oe={}));e("GameMgr",(R=ae("GameMgr"),_=re({type:P}),M=re({type:y}),D=re({type:v}),L=re({type:A}),U=re({type:I}),W=re({type:E}),C=re({type:G}),B=re({type:N}),H=re({type:k}),F=re({type:b}),z=re({type:O}),j=re({type:c}),R((J=t((K=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(o(t),"main",J,o(t)),n(o(t),"bid",x,o(t)),n(o(t),"loading",V,o(t)),n(o(t),"popupError",X,o(t)),n(o(t),"popupAgreement",q,o(t)),n(o(t),"popupInformation",Q,o(t)),n(o(t),"popupHotelDetails",Z,o(t)),n(o(t),"popupGift",$,o(t)),n(o(t),"popupWarning",ee,o(t)),n(o(t),"popupWinner",te,o(t)),n(o(t),"popupUpdateInfo",ie,o(t)),n(o(t),"audioTap",ne,o(t)),a(o(t),"state",void 0),a(o(t),"profiles",new l),a(o(t),"userinfos",null),a(o(t),"timerBiddingHistory",new T),a(o(t),"timerTurnRefresh",new T),a(o(t),"programs",null),a(o(t),"params",void 0),a(o(t),"isAlreadyShowWarning",!1),a(o(t),"isAlreadyCheckWinner",!1),t}i(t,e);var r=t.prototype;return r.start=function(){S.GetInstance().on(h.LOGIN,this.OnLoginAction,this),S.GetInstance().on(h.MAIN,this.OnMainAction,this),S.GetInstance().on(h.BID,this.OnBidAction,this),this.timerBiddingHistory.SetDuration(window.BIDDING_REFRESH_TIME),this.timerTurnRefresh.SetDuration(window.TURN_REFRESH_TIME),this.params=this.ParseUrl(window.location.href),this.SetState(oe.INIT)},r.update=function(e){var t=this;switch(this.state){case oe.INIT:}this.timerBiddingHistory.Update(e),this.timerTurnRefresh.Update(e),this.timerTurnRefresh.IsDone()&&""!=this.profiles.token&&(w.GetTurns(this.profiles.token).then((function(e){var i=t.ParseData(e);i instanceof Object&&(t.userinfos.turns=i.currentTurn,t.main.SetTurn(t.userinfos.turns),t.bid.SetTurn(t.userinfos.turns))})).catch((function(e){})),this.timerTurnRefresh.Reset())},r.SetState=function(e){var t=this;switch(this.state=e,this.state){case oe.INIT:this.main.node.active=!1,this.bid.node.active=!1,this.loading.node.active=!0,this.LoadProfile(),this.SetState(oe.GET_PROGRAMS);break;case oe.GET_PROGRAMS:w.GetPrograms().then((function(e){var i=t.ParseData(e);i instanceof Object?(t.programs=i,""!=t.profiles.token?t.SetState(oe.GET_USER_INFO):t.SetState(oe.LOGIN)):(t.loading.node.active=!1,t.ShowMessage(i))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case oe.LOGIN:this.params.token?this.OnLoginAction({action:g.LOGIN_SUCCESS,data:{token:this.params.token,platform:"mytour"}}):this.SetState(oe.MAIN);break;case oe.GET_USER_INFO:w.GetUserInfo(this.profiles.token).then((function(e){var i=t.ParseData(e);i instanceof Object?(t.userinfos=new d,t.userinfos.name=i.name,t.userinfos.email=i.email,t.userinfos.image=i.image,t.SetState(oe.GET_TURNS)):(t.loading.node.active=!1,t.ShowMessage(i))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case oe.GET_TURNS:w.GetTurns(this.profiles.token).then((function(e){var i=t.ParseData(e);i instanceof Object?(t.userinfos.turns=i.currentTurn,t.SetState(oe.GET_REFERAL)):(t.loading.node.active=!1,t.ShowMessage(i))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case oe.GET_REFERAL:w.GetReferralCode(this.profiles.token).then((function(e){var i=t.ParseData(e);i instanceof Object?(t.userinfos.code=i.referralCode,t.SetState(oe.MAIN)):(t.loading.node.active=!1,t.ShowMessage(i))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case oe.MAIN:this.loading.node.active=!1,this.main.node.active=!0,this.main.SetInformation({userinfos:this.userinfos,programData:this.programs,token:this.profiles.token}),this.timerBiddingHistory.Reset(),S.GetInstance().emit(h.MAIN,{action:f.CHECK_ATTENDANCE}),this.SetState(oe.PLAY);break;case oe.PLAY:this.isAlreadyCheckWinner?this.isAlreadyShowWarning||this.popupWinner.node.active||"mobile"!=this.params.platform&&(this.profiles.download++,this.SaveProfiles(),this.profiles.download%window.DOWNLOAD_MULTIPLY==1&&this.popupWarning.Show(),this.isAlreadyShowWarning=!0):this.profiles.token&&(w.VerifyWinner(this.profiles.token).then((function(e){var i=t.ParseData(e);i instanceof Object&&i.needToVerify&&t.popupWinner.Show(i.winnerInfo)})).catch((function(e){})),this.isAlreadyCheckWinner=!0)}},r.Bid=function(e){var t=this;this.programs.currentProgram&&null!=this.programs.currentProgram&&(e*=100,this.loading.node.active=!0,w.Bid(this.programs.currentProgram.id,e,this.profiles.token).then((function(i){var n=t.ParseData(i);n instanceof Object?(t.userinfos.turns=n.currentTurn,t.main.SetTurn(t.userinfos.turns),t.bid.SetTurn(t.userinfos.turns),t.bid.Deal(),t.loading.node.active=!1,t.main.AddBidding(e)):(t.loading.node.active=!1,t.ShowMessage(n))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)})))},r.LoadProfile=function(){try{var e=JSON.parse(p.localStorage.getItem("profiles"));null!=e&&(this.profiles=e)}catch(e){}},r.SaveProfiles=function(){p.localStorage.setItem("profiles",JSON.stringify(this.profiles))},r.ShowMessage=function(e){this.popupError.Show(e)},r.ParseData=function(e){try{return 200==(e=JSON.parse(e)).code?e.data:e.message}catch(e){return"Data Invalid"}},r.ParseUrl=function(e){for(var t,i=/[?&]([^=#]+)=([^&#]*)/g,n={};t=i.exec(e);)n[t[1]]=decodeURIComponent(t[2]);return n},r.Share=function(e){"mobile"==this.params.platform?window.location.href="gh://sharing?content="+e:this.ShareFallback(e)},r.ShareNative=function(e){navigator.share({url:e})},r.ShareFallback=function(e){var t=document.querySelector("web-social-share");if(t&&window){var i={displayNames:!0,config:[{facebook:{socialShareUrl:e,socialSharePopupWidth:400,socialSharePopupHeight:400}},{twitter:{socialShareUrl:e,socialSharePopupWidth:300,socialSharePopupHeight:400}},{whatsapp:{socialShareUrl:e}},{copy:{socialShareUrl:e}}]};t.share=i,t.show=!0}},r.OnLoginAction=function(e){var t=this;switch(e.action){case g.LOGIN:this.audioTap.play(),this.loading.node.active=!0,this.popupAgreement.Close();break;case g.LOGIN_SUCCESS:var i=e.data;w.Login(i.token,i.platform,this.params.code||"").then((function(e){var i=t.ParseData(e);i instanceof Object?(t.profiles.token=i.token,t.SaveProfiles(),t.SetState(oe.GET_USER_INFO)):(t.loading.node.active=!1,t.ShowMessage(i))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case g.LOGIN_FAIL:this.loading.node.active=!1}},r.OnMainAction=function(e){var t=this;switch(e.action){case f.PLAY:this.audioTap.play(),""!=this.profiles.token?this.programs.currentProgram&&null!=this.programs.currentProgram?this.bid.node.active||(this.bid.SetInformation(this.programs.currentProgram,this.userinfos.turns),this.bid.Show((function(){t.main.node.active=!1}))):this.ShowMessage("Không có chương trình nào đang diễn ra"):this.popupAgreement.Show("mobile"==this.params.platform);break;case f.LOGIN:this.audioTap.play(),window.location.href="gh://redirect-to-login";break;case f.SHARE:this.audioTap.play();var i=window.SHARE_URL;this.Share(i+"/?code="+this.userinfos.code);break;case f.INFO:this.audioTap.play(),this.popupInformation.Show();break;case f.CHECK_ATTENDANCE:if(this.programs.currentProgram&&null!=this.programs.currentProgram&&""!=this.profiles.token){var n=this.programs.currentProgram.id;this.profiles.attendance.some((function(e){return e==n}))?this.SetState(oe.PLAY):w.TakeAttendance(n,this.profiles.token).then((function(e){var i=t.ParseData(e);i instanceof Object&&(t.popupGift.Show(i),t.userinfos.turns+=i.turn,t.main.SetTurn(t.userinfos.turns)),t.profiles.attendance.push(n),t.SaveProfiles(),t.SetState(oe.PLAY)})).catch((function(e){t.SetState(oe.PLAY)}))}break;case f.SHOW_UPDATE_USER_INFO:this.popupUpdateInfo.Show(this.userinfos);break;case f.UPDATE_USER_INFO:this.loading.node.active=!0,w.UpdateUserInfo(e.name,e.email,e.phone,this.profiles.token).then((function(e){var i=t.ParseData(e);i instanceof Object?(t.userinfos.name=i.name,t.userinfos.email=i.email,t.userinfos.phone=i.phone,t.main.SetName(i.name),t.loading.node.active=!1,t.popupWinner.node.active&&t.popupWinner.Close(),t.popupUpdateInfo.node.active&&t.popupUpdateInfo.Close()):(t.loading.node.active=!1,t.ShowMessage(i))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case f.EXIT:this.audioTap.play(),window.location.href="gh://exit"}},r.OnBidAction=function(e){var t=this;switch(e.action){case m.BID:this.audioTap.play(),this.Bid(e.price);break;case m.INFO:this.audioTap.play(),this.popupHotelDetails.Show(e.url);break;case m.BACK:this.audioTap.play(),this.main.node.active=!0,this.timerBiddingHistory.IsDone()&&(this.main.SetupBidding(),this.timerBiddingHistory.Reset()),this.bid.Hide((function(){S.GetInstance().emit(h.MAIN,{action:f.CHECK_ATTENDANCE}),t.bid.node.active=!1}))}},t}(u)).prototype,"main",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(K.prototype,"bid",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(K.prototype,"loading",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(K.prototype,"popupError",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(K.prototype,"popupAgreement",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(K.prototype,"popupInformation",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(K.prototype,"popupHotelDetails",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(K.prototype,"popupGift",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(K.prototype,"popupWarning",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(K.prototype,"popupWinner",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(K.prototype,"popupUpdateInfo",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(K.prototype,"audioTap",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=K))||Y));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemWinner.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./Utils.ts"],(function(e){"use strict";var t,n,i,r,o,a,l,c,u,f,p,s,m,g,b,y,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.defineProperty},function(e){a=e.cclegacy,l=e._decorator,c=e.Sprite,u=e.Label,f=e.Color,p=e.Component},function(e){s=e.EventName,m=e.ActionBid},function(e){g=e.default},function(e){b=e.StringDateToShortDate,y=e.TextLimit,h=e.FormatPrice}],execute:function(){var I,d,v,w,z,D,P,L,S,T,W,_,B;a._RF.push({},"3559aEckTBCrqIgOqHLWCp2","ItemWinner",void 0);var C=l.ccclass,F=l.property;e("ItemWinner",(I=C("ItemWinner"),d=F({type:c}),v=F({type:u}),w=F({type:u}),z=F({type:u}),D=F({type:u}),I((S=t((L=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(r(t),"bg",S,r(t)),i(r(t),"time",T,r(t)),i(r(t),"winner",W,r(t)),i(r(t),"price",_,r(t)),i(r(t),"hotel",B,r(t)),o(r(t),"item",void 0),t}n(t,e);var a=t.prototype;return a.start=function(){},a.SetInformation=function(e,t){this.bg.color=new f(t%2==0?"#ffffff":"#ecf9ff"),this.time.string=b(e.programInfo.createdTime),this.winner.string=y(e.name,18),this.price.string=h(""+e.auctionPrice)+" đ",this.hotel.string=y(e.programInfo.name,25),this.item=e},a.Info=function(){g.GetInstance().emit(s.BID,{action:m.INFO,url:this.item.programInfo.landingPage})},t}(p)).prototype,"bg",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(L.prototype,"time",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(L.prototype,"winner",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(L.prototype,"price",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(L.prototype,"hotel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=L))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopupInformation.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,o,r,a,c,s,u,l,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.WebView,s=e.Vec3,u=e.tween,l=e.UITransform,p=e.view,f=e.Component}],execute:function(){var h,w,d,v,b;r._RF.push({},"35d6e3+Q9ZO+4eI42f4ic39","PopupInformation",void 0);var y=a.ccclass,g=a.property;e("PopupInformation",(h=y("PopupInformation"),w=g({type:c}),h((b=t((v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(o(t),"WebView",b,o(t)),t}n(t,e);var r=t.prototype;return r.onEnable=function(){this.node.setScale(new s(0,0,1)),u(this.node).to(.5,{scale:new s(1,1,1)},{easing:"elasticOut"}).start(),this.node.getComponent(l).contentSize=p.getVisibleSize(),this.WebView.url=window.RULE_URL},r.start=function(){},r.Show=function(){this.node.active=!0},r.Close=function(){var e=this;u(this.node).to(.5,{scale:new s(0,0,1)},{easing:"elasticIn"}).call((function(){return e.node.active=!1})).start()},t}(f)).prototype,"WebView",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=v))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/Main.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./Utils.ts","./ItemBidding.ts","./API.ts","./ItemWinner.ts","./ItemProgram.ts"],(function(t){"use strict";var n,i,e,r,a,o,s,u,g,l,m,c,h,p,f,d,b,P,D,I,y,E,v,w,N,A,C,S,B;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.defineProperty},function(t){o=t.cclegacy,s=t._decorator,u=t.Node,g=t.sp,l=t.Label,m=t.Prefab,c=t.tween,h=t.Vec3,p=t.instantiate,f=t.UITransform,d=t.Size,b=t.Component},function(t){P=t.ProgramState,D=t.EventName,I=t.ActionMain},function(t){y=t.default},function(t){E=t.RandomInt,v=t.StringDateToTimestamp,w=t.convert2Character,N=t.FormatTime},function(t){A=t.ItemBidding},function(t){C=t.default},function(t){S=t.ItemWinner},function(t){B=t.ItemProgram}],execute:function(){var x,T,z,M,H,U,W,R,F,L,O,k,_,G,Y,X,J,V,j,K,q,Q,Z,$,tt,nt,it,et,rt,at,ot,st,ut,gt,lt,mt,ct,ht,pt,ft,dt,bt,Pt;o._RF.push({},"418ddTz9+lC7bF5livsSJvo","Main",void 0);var Dt,It=s.ccclass,yt=s.property;!function(t){t.APPEAR="APPEAR",t.DEAL="DEAL",t.IDLE="IDLE2"}(Dt||(Dt={}));t("Main",(x=It("Main"),T=yt({type:u}),z=yt({type:u}),M=yt({type:g.Skeleton}),H=yt({type:l}),U=yt({type:l}),W=yt({type:u}),R=yt({type:l}),F=yt({type:l}),L=yt({type:u}),O=yt({type:u}),k=yt({type:u}),_=yt({type:u}),G=yt({type:u}),Y=yt({type:u}),X=yt({type:u}),J=yt({type:m}),V=yt({type:m}),j=yt({type:m}),K=yt({type:[l]}),q=yt({type:[u]}),x(($=n((Z=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o))||this,e(r(n),"Auction",$,r(n)),e(r(n),"AuctionBambo",tt,r(n)),e(r(n),"Hammer",nt,r(n)),e(r(n),"Hint",it,r(n)),e(r(n),"BidName",et,r(n)),e(r(n),"Infomation",rt,r(n)),e(r(n),"UserName",at,r(n)),e(r(n),"TurnCount",ot,r(n)),e(r(n),"BiddingNode",st,r(n)),e(r(n),"BiddingContainer",ut,r(n)),e(r(n),"BiddingMore",gt,r(n)),e(r(n),"WinnerNode",lt,r(n)),e(r(n),"WinnerContainer",mt,r(n)),e(r(n),"WinnerMore",ct,r(n)),e(r(n),"ProgramContainer",ht,r(n)),e(r(n),"PrefabWinner",pt,r(n)),e(r(n),"PrefabBidding",ft,r(n)),e(r(n),"PrefabProgram",dt,r(n)),e(r(n),"timeDigits",bt,r(n)),e(r(n),"FloatingItems",Pt,r(n)),a(r(n),"winner",[]),a(r(n),"bidding",[]),a(r(n),"program",[]),a(r(n),"state",P.CURRENT),a(r(n),"userinfos",void 0),a(r(n),"floatingOffset",[]),a(r(n),"floatingDirection",[]),a(r(n),"floatingPositionY",[]),a(r(n),"programData",void 0),a(r(n),"biddingData",void 0),a(r(n),"winnerIndex",0),a(r(n),"biddingIndex",0),a(r(n),"token",void 0),a(r(n),"timeStart",0),a(r(n),"timeEnd",0),n}i(n,t);var o=n.prototype;return o.onEnable=function(){this.Hammer.setAnimation(0,Dt.APPEAR,!1)},o.start=function(){for(var t=0;t<this.FloatingItems.length;t++)this.floatingOffset[t]={y:E(0,100)/20},c(this.floatingOffset[t]).repeatForever(c(this.floatingOffset[t]).to(3,{y:5}).to(3,{y:-5})).start(),this.floatingDirection[t]=E(0,100)<50?1:-1,this.floatingPositionY[t]=this.FloatingItems[t].position.y;this.Hammer.setCompleteListener(this.OnHammerAnimationComplete.bind(this))},o.update=function(t){this.UpdateCountDown();for(var n=0;n<this.FloatingItems.length;n++)this.FloatingItems[n].setPosition(new h(this.FloatingItems[n].position.x,this.floatingPositionY[n]+this.floatingDirection[n]*this.floatingOffset[n].y,0))},o.SetInformation=function(t){this.userinfos=t.userinfos,this.programData=t.programData,this.token=t.token||"";var n=this.programData.currentProgram;this.state=P.CURRENT,n&&null!=n||(this.programData.nextProgram.length>0?(n=this.programData.nextProgram[0],this.state=P.NEXT):this.programData.previousProgram.length>0?(n=this.programData.previousProgram[0],this.state=P.PREVIOUS):this.state=P.END),this.timeStart=v(n.createdTime),this.timeEnd=v(n.expiredTime),this.Auction.active=!n.isSpecial,this.AuctionBambo.active=n.isSpecial,this.SetupBidding(),this.SetupWinner(),this.SetupNextProgram(),this.SyncInfomationTop()},o.SetName=function(t){this.UserName.string=t},o.SetTurn=function(t){this.TurnCount.string=""+t},o.SyncInfomationTop=function(){this.userinfos?(this.UserName.string=this.userinfos.name,this.TurnCount.string=""+this.userinfos.turns,this.Infomation.active=!0):this.Infomation.active=!1,this.programData.currentProgram&&null!=this.programData.currentProgram?this.BidName.string=this.programData.currentProgram.name.toUpperCase():this.state==P.NEXT?this.programData.nextProgram.length>0&&(this.BidName.string=this.programData.nextProgram[0].name.toUpperCase()):this.state!=P.PREVIOUS&&this.state!=P.END||this.programData.previousProgram.length>0&&(this.BidName.string=this.programData.previousProgram[0].name.toUpperCase())},o.SetupNextProgram=function(){var t=this,n=[];this.programData.currentProgram&&null!=this.programData.currentProgram&&(n=n.concat(this.programData.currentProgram)),0==(n=n.concat(this.programData.nextProgram)).length&&(n=n.concat(this.programData.previousProgram)),this.program.forEach((function(t){return t.active=!1})),n.forEach((function(n,i){var e=null;i<t.program.length?e=t.program[i]:((e=p(t.PrefabProgram)).parent=t.ProgramContainer,t.program.push(e)),e.active=!0,e.getComponent(B).SetInformation(n)}))},o.SetupWinner=function(){var t=this;C.GetWinnerHistory().then((function(n){JSON.parse(n).data.winnerList.forEach((function(n,i){var e=null;i<t.winner.length?e=t.winner[i]:((e=p(t.PrefabWinner)).parent=t.WinnerContainer,t.winner.push(e)),e.getComponent(S).SetInformation(n,i)})),t.ExpandWinner()})).catch((function(t){}))},o.SetupBidding=function(){var t=this;this.biddingIndex=0,""!=this.token?C.GetBiddingHistory(this.token).then((function(n){t.biddingData=JSON.parse(n).data.listAuction,t.biddingData.forEach((function(n,i){var e=null;i<t.bidding.length?e=t.bidding[i]:((e=p(t.PrefabBidding)).parent=t.BiddingContainer,t.bidding.push(e)),e.getComponent(A).SetInformation(n,i)})),t.ExpandBidding()})).catch((function(t){})):this.ExpandBidding()},o.AddBidding=function(t){var n=this,i=new Date,e=p(this.PrefabBidding);e.parent=this.BiddingContainer,this.bidding.push(e),this.biddingData.unshift({auctionDate:w(i.getHours())+":"+w(i.getMinutes())+":"+w(i.getSeconds())+" "+w(i.getDate())+"-"+w(i.getMonth()+1)+"-"+i.getFullYear(),auctionPrice:t,duplicateNumber:0,programInfo:this.programData.currentProgram}),this.bidding.forEach((function(t,i){t.getComponent(A).SetInformation(n.biddingData[i],i)})),this.ExpandBidding()},o.UpdateCountDown=function(){var t=this,n=0;null!=this.programData.currentProgram||0!=this.programData.nextProgram.length?(this.state==P.CURRENT?((n=this.timeEnd-(new Date).getTime())<0&&(n=0,this.programData.currentProgram=null,this.SetInformation({userinfos:this.userinfos,programData:this.programData,token:this.token})),this.Hint.string="Phiên đấu giá sẽ kết thúc trong"):this.state==P.NEXT&&((n=this.timeStart-(new Date).getTime())<0&&(n=0,this.programData.currentProgram=this.programData.nextProgram.shift(),this.SetInformation({userinfos:this.userinfos,programData:this.programData,token:this.token}),y.GetInstance().emit(D.MAIN,{action:I.CHECK_ATTENDANCE})),this.Hint.string="Phiên đấu giá sẽ diễn ra trong"),N(n).split("").forEach((function(n,i){t.timeDigits[i].string=n}))):this.Hint.string="Chương trình đã kết thúc"},o.Play=function(){y.GetInstance().emit(D.MAIN,{action:I.PLAY})},o.Share=function(){y.GetInstance().emit(D.MAIN,{action:I.SHARE})},o.Info=function(){y.GetInstance().emit(D.MAIN,{action:I.INFO})},o.UpdateUser=function(){y.GetInstance().emit(D.MAIN,{action:I.SHOW_UPDATE_USER_INFO})},o.Exit=function(){y.GetInstance().emit(D.MAIN,{action:I.EXIT})},o.ExpandBidding=function(){this.biddingIndex=Math.min(this.biddingIndex+3,this.bidding.length);var t=this.BiddingNode.getComponent(f);c(t).to(.5,{contentSize:new d(750,94*(this.biddingIndex+3)+50)},{easing:"sineIn"}).start(),this.BiddingMore.active=this.bidding.length!=this.biddingIndex},o.ExpandWinner=function(){this.winnerIndex=Math.min(this.winnerIndex+3,this.winner.length);var t=this.WinnerNode.getComponent(f);c(t).to(.5,{contentSize:new d(750,94*(this.winnerIndex+3)+50)},{easing:"sineIn"}).start(),this.WinnerMore.active=this.winner.length!=this.winnerIndex},o.Deal=function(){this.Hammer.getCurrent(0).animation.name!=Dt.DEAL&&this.Hammer.setAnimation(0,Dt.DEAL,!1)},o.OnHammerAnimationComplete=function(t){switch(t.animation.name){case Dt.APPEAR:case Dt.DEAL:this.Hammer.setAnimation(0,Dt.IDLE,!0)}},n}(b)).prototype,"Auction",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=n(Z.prototype,"AuctionBambo",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=n(Z.prototype,"Hammer",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=n(Z.prototype,"Hint",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=n(Z.prototype,"BidName",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=n(Z.prototype,"Infomation",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=n(Z.prototype,"UserName",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=n(Z.prototype,"TurnCount",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=n(Z.prototype,"BiddingNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=n(Z.prototype,"BiddingContainer",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=n(Z.prototype,"BiddingMore",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=n(Z.prototype,"WinnerNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=n(Z.prototype,"WinnerContainer",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=n(Z.prototype,"WinnerMore",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=n(Z.prototype,"ProgramContainer",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=n(Z.prototype,"PrefabWinner",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=n(Z.prototype,"PrefabBidding",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=n(Z.prototype,"PrefabProgram",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=n(Z.prototype,"timeDigits",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pt=n(Z.prototype,"FloatingItems",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=Z))||Q));o._RF.pop()}}}));

System.register("chunks:///_virtual/ItemNotification.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,n,e,r,o,a,c,s;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Label,s=t.Component}],execute:function(){var l,u,f,p,m;o._RF.push({},"45db9SjQ7xMLrjPwl8puXSz","ItemNotification",void 0);var g=a.ccclass,h=a.property;t("ItemNotification",(l=g("ItemNotification"),u=h(c),l((m=i((p=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,e(r(i),"information",m,r(i)),i}n(i,t);var o=i.prototype;return o.start=function(){},o.SetInformation=function(t){t.name.length>18&&(t.name=t.name.substring(0,18)+"..."),this.information.string=t.name+" vừa ra giá lúc "+t.time.split(" ")[0]},i}(s)).prototype,"information",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=p))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/Defines.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var i,t;return{setters:[function(n){i=n.defineProperty},function(n){t=n.cclegacy}],execute:function(){var e,o,E,N,I;n({ActionBid:void 0,ActionLogin:void 0,ActionMain:void 0,EventName:void 0,ProgramState:void 0}),t._RF.push({},"71218fYhlJHzoDWjLv2DGMl","Defines",void 0),function(n){n.LOGIN="event_login",n.MAIN="event_main",n.BID="event_bid"}(e||(e=n("EventName",{}))),function(n){n[n.LOGIN=0]="LOGIN",n[n.LOGIN_SUCCESS=1]="LOGIN_SUCCESS",n[n.LOGIN_FAIL=2]="LOGIN_FAIL"}(o||(o=n("ActionLogin",{}))),function(n){n[n.PLAY=0]="PLAY",n[n.LOGIN=1]="LOGIN",n[n.SHARE=2]="SHARE",n[n.INFO=3]="INFO",n[n.CHECK_ATTENDANCE=4]="CHECK_ATTENDANCE",n[n.SHOW_UPDATE_USER_INFO=5]="SHOW_UPDATE_USER_INFO",n[n.UPDATE_USER_INFO=6]="UPDATE_USER_INFO",n[n.EXIT=7]="EXIT"}(E||(E=n("ActionMain",{}))),function(n){n[n.BID=0]="BID",n[n.INFO=1]="INFO",n[n.BACK=2]="BACK"}(N||(N=n("ActionBid",{}))),function(n){n[n.PREVIOUS=0]="PREVIOUS",n[n.CURRENT=1]="CURRENT",n[n.NEXT=2]="NEXT",n[n.END=3]="END"}(I||(I=n("ProgramState",{})));n("Profiles",(function(){i(this,"token",""),i(this,"attendance",[]),i(this,"download",void 0)})),n("UserInfos",(function(){i(this,"name",""),i(this,"email",""),i(this,"phone",""),i(this,"image",""),i(this,"code",""),i(this,"turns",0)}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ItemProgram.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./Utils.ts"],(function(t){"use strict";var e,i,n,r,o,a,l,u,c,s,p,m,f,g,b,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.defineProperty},function(t){a=t.cclegacy,l=t._decorator,u=t.Node,c=t.Label,s=t.Sprite,p=t.Component},function(t){m=t.EventName,f=t.ActionBid},function(t){g=t.default},function(t){b=t.StringDateToShortDate,h=t.GetSpriteFromUrl}],execute:function(){var y,d,v,P,I,z,B,S,w,D,F,_,k,T,U;a._RF.push({},"7b38eim8h9B5ozHT5BG2m7Y","ItemProgram",void 0);var G=l.ccclass,L=l.property;t("ItemProgram",(y=G("ItemProgram"),d=L({type:u}),v=L({type:u}),P=L({type:c}),I=L({type:c}),z=L({type:c}),B=L({type:s}),y((D=e((w=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,n(r(e),"bgPink",D,r(e)),n(r(e),"bgBlue",F,r(e)),n(r(e),"time",_,r(e)),n(r(e),"hotel",k,r(e)),n(r(e),"location",T,r(e)),n(r(e),"thumnail",U,r(e)),o(r(e),"item",void 0),e}i(e,t);var a=e.prototype;return a.start=function(){},a.SetInformation=function(t){var e=this;this.time.string=b(t.createdTime,!1),this.hotel.string=t.name,this.location.string=t.description.toUpperCase(),this.bgPink.active=!t.isSpecial,this.bgBlue.active=t.isSpecial,this.item=t,h(t.imageUrl).then((function(t){e.thumnail.spriteFrame=t})).catch((function(t){}))},a.Info=function(){g.GetInstance().emit(m.BID,{action:f.INFO,url:this.item.landingPage})},e}(p)).prototype,"bgPink",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(w.prototype,"bgBlue",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(w.prototype,"time",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(w.prototype,"hotel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(w.prototype,"location",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(w.prototype,"thumnail",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=w))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopupHotelDetails.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,o,r,s,a,c,l,u,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.WebView,c=e.Vec3,l=e.tween,u=e.UITransform,p=e.view,f=e.Component}],execute:function(){var h,v,d,w,b;r._RF.push({},"82efdr/+I1H77zDUZrAIwdH","PopupHotelDetails",void 0);var y=s.ccclass,g=s.property;e("PopupHotelDetails",(h=y("PopupHotelDetails"),v=g({type:a}),h((b=t((w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(o(t),"Webview",b,o(t)),t}n(t,e);var r=t.prototype;return r.onEnable=function(){this.node.setScale(new c(0,0,1)),l(this.node).to(.5,{scale:new c(1,1,1)},{easing:"elasticOut"}).start(),this.node.getComponent(u).contentSize=p.getVisibleSize()},r.start=function(){},r.Show=function(e){this.node.active=!0,this.Webview.url=e},r.Close=function(){var e=this;l(this.node).to(.5,{scale:new c(0,0,1)},{easing:"elasticIn"}).call((function(){return e.node.active=!1})).start()},t}(f)).prototype,"Webview",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=w))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/Timer.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e;return{setters:[function(t){i=t.defineProperty},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"83182rhGv5E5o+cQT5d7b3o","Timer",void 0);t("default",function(){function t(){i(this,"timer",0),i(this,"duration",0),i(this,"overhead",0),i(this,"isDone",!0)}var e=t.prototype;return e.SetDuration=function(t){this.timer=this.duration=t,this.overhead=0,this.isDone=!1},e.AddTime=function(t){this.timer+=t,this.overhead=0,this.isDone=!1},e.GetTimePercent=function(){return this.timer/this.duration},e.Reset=function(){this.timer=this.duration,this.overhead=0,this.isDone=!1},e.IsDone=function(){return 0==this.timer},e.JustFinished=function(){return!(this.timer>0)&&(!this.isDone&&(this.isDone=!0,!0))},e.Update=function(t){0!=this.timer&&(this.timer-=t,this.timer<0&&(this.overhead=-this.timer,this.timer=0))},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/PopupUpdateInfo.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts"],(function(e){"use strict";var t,n,i,o,r,a,s,c,l,u,p,f,h,m,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.EditBox,c=e.Vec3,l=e.tween,u=e.UITransform,p=e.view,f=e.Component},function(e){h=e.EventName,m=e.ActionMain},function(e){g=e.default}],execute:function(){var d,T,v,x,y,b,I,P,w;r._RF.push({},"861fcgSNolIUqtoNhrtHdzv","PopupUpdateInfo",void 0);var E=a.ccclass,N=a.property;e("PopupUpdateInfo",(d=E("PopupUpdateInfo"),T=N({type:s}),v=N({type:s}),x=N({type:s}),d((I=t((b=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(o(t),"TextName",I,o(t)),i(o(t),"TextEmail",P,o(t)),i(o(t),"TextPhone",w,o(t)),t}n(t,e);var r=t.prototype;return r.onEnable=function(){this.node.setScale(new c(0,0,1)),l(this.node).to(.5,{scale:new c(1,1,1)},{easing:"elasticOut"}).start()},r.start=function(){},r.Show=function(e){this.node.active=!0,this.node.getComponent(u).contentSize=p.getVisibleSize(),this.TextName.string=e.name,this.TextEmail.string=e.email,this.TextPhone.string=e.phone},r.Close=function(){var e=this;l(this.node).to(.5,{scale:new c(0,0,1)},{easing:"elasticIn"}).call((function(){return e.node.active=!1})).start()},r.Accept=function(){g.GetInstance().emit(h.MAIN,{action:m.UPDATE_USER_INFO,name:this.TextName.string,email:this.TextEmail.string,phone:this.TextPhone.string})},t}(f)).prototype,"TextName",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(b.prototype,"TextEmail",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(b.prototype,"TextPhone",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=b))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/Login.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts"],(function(o){"use strict";var t,n,e,i,a,c,s,g,l;return{setters:[function(o){t=o.inheritsLoose,n=o.defineProperty,e=o.assertThisInitialized},function(o){i=o.cclegacy,a=o._decorator,c=o.Component},function(o){s=o.EventName,g=o.ActionLogin},function(o){l=o.default}],execute:function(){var u;i._RF.push({},"88819R1zIVFQawyuDuWo1i2","Login",void 0);var r=a.ccclass;a.property,o("Login",r("Login")(u=function(o){function i(){for(var t,i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return t=o.call.apply(o,[this].concat(a))||this,n(e(t),"fbSDK",null),n(e(t),"googleApi",null),n(e(t),"googleAuth",null),n(e(t),"googleUser",null),t}t(i,o);var a=i.prototype;return a.onLoad=function(){this.fbSDK=window.FB,this.googleApi=window.gapi,this.googleApi.load("auth2",this.GoogleApiLoaded.bind(this))},a.update=function(o){},a.FacebookLogin=function(){var o=this;this.fbSDK.getLoginStatus((function(t){var n="";l.GetInstance().emit(s.LOGIN,{action:g.LOGIN,data:{platform:"facebook"}}),o.fbSDK.login((function(o){o.authResponse?(n=o.authResponse.accessToken,l.GetInstance().emit(s.LOGIN,{action:g.LOGIN_SUCCESS,data:{platform:"facebook",token:n}})):l.GetInstance().emit(s.LOGIN,{action:g.LOGIN_FAIL,data:{platform:"facebook"}})}))}))},a.GoogleLogin=function(){this.googleAuth&&(this.googleAuth.signIn().then((function(o){var t=o.getAuthResponse().access_token;l.GetInstance().emit(s.LOGIN,{action:g.LOGIN_SUCCESS,data:{platform:"google",token:t}})})).catch((function(o){l.GetInstance().emit(s.LOGIN,{action:g.LOGIN_FAIL,data:{platform:"google"}})})),l.GetInstance().emit(s.LOGIN,{action:g.LOGIN,data:{platform:"google"}}))},a.GoogleApiLoaded=function(){this.googleAuth=this.googleApi.auth2.init({client_id:window.GOOGLE_APP_ID,scope:"profile"}),1==this.googleAuth.isSignedIn.get()&&this.GoogleLogin()},a.GoogleSigninChanged=function(o){console.log(o)},a.GoogleUserChanged=function(o){var t=o.getAuthResponse().access_token;null!=t&&l.GetInstance().emit(s.LOGIN,{action:g.LOGIN_SUCCESS,data:{platform:"google",token:t}})},i}(c))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/PopupWarning.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,o,i,s,r,c,a,u;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,i=n.Vec3,s=n.tween,r=n.UITransform,c=n.view,a=n.sys,u=n.Component}],execute:function(){var p;e._RF.push({},"9c69ay9pCVG/5YDrJ1oySld","PopupWarning",void 0);var l=o.ccclass;o.property,n("PopupWarning",l("PopupWarning")(p=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var o=e.prototype;return o.onEnable=function(){this.node.setScale(new i(0,0,1)),s(this.node).to(.5,{scale:new i(1,1,1)},{easing:"elasticOut"}).start()},o.start=function(){},o.Show=function(){this.node.active=!0,this.node.getComponent(r).contentSize=c.getVisibleSize()},o.Close=function(){var n=this;s(this.node).to(.5,{scale:new i(0,0,1)},{easing:"elasticIn"}).call((function(){return n.node.active=!1})).start()},o.Download=function(){a.openURL(window.STORE_URL)},e}(u))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/Bid.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./Utils.ts","./API.ts","./Timer.ts","./ItemNotification.ts"],(function(t){"use strict";var i,e,n,o,a,r,c,s,l,h,u,f,m,p,g,d,b,v,D,B,P,y,w,A,S,N,T,E,I,L,z,C,H,x;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.defineProperty},function(t){r=t.cclegacy,c=t._decorator,s=t.Sprite,l=t.Label,h=t.Node,u=t.sp,f=t.ParticleSystem,m=t.EditBox,p=t.UITransform,g=t.HorizontalTextAlignment,d=t.Overflow,b=t.Vec3,v=t.Color,D=t.tween,B=t.view,P=t.Size,y=t.AudioSource,w=t.Component},function(t){A=t.EventName,S=t.ActionBid},function(t){N=t.default},function(t){T=t.FormatTime,E=t.RandomInt,I=t.FormatPrice,L=t.StringDateToTimestamp,z=t.GetSpriteFromUrl},function(t){C=t.default},function(t){H=t.default},function(t){x=t.ItemNotification}],execute:function(){var O,k,G,R,U,_,F,M,V,K,j,q,J,X,Z,Q,W,Y,$,tt,it,et,nt,ot,at,rt,ct,st,lt;r._RF.push({},"abe62Rom6RGOZBhSfqtMLHb","Bid",void 0);var ht,ut=c.ccclass,ft=c.property;!function(t){t.APPEAR="APPEAR",t.DEAL="DEAL",t.IDLE="IDLE2"}(ht||(ht={}));t("Bid",(O=ut("Bid"),k=ft({type:s}),G=ft({type:l}),R=ft({type:h}),U=ft({type:h}),_=ft({type:u.Skeleton}),F=ft({type:h}),M=ft({type:f}),V=ft({type:l}),K=ft({type:l}),j=ft({type:m}),q=ft({type:h}),J=ft({type:[l]}),X=ft({type:[h]}),O((W=i((Q=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return i=t.call.apply(t,[this].concat(r))||this,n(o(i),"Background",W,o(i)),n(o(i),"BestPrice",Y,o(i)),n(o(i),"Auction",$,o(i)),n(o(i),"AuctionBambo",tt,o(i)),n(o(i),"Hammer",it,o(i)),n(o(i),"LogoBid",et,o(i)),n(o(i),"ParticleBid",nt,o(i)),n(o(i),"BidName",ot,o(i)),n(o(i),"TurnCount",at,o(i)),n(o(i),"Price",rt,o(i)),n(o(i),"PriceDigit",ct,o(i)),n(o(i),"TimeDigits",st,o(i)),n(o(i),"Notifications",lt,o(i)),a(o(i),"notificationTimer",new H),a(o(i),"fetchTimer",new H),a(o(i),"program",void 0),a(o(i),"notificationData",[]),a(o(i),"timeStart",void 0),a(o(i),"timeEnd",void 0),a(o(i),"scrollDir",-1),a(o(i),"isShowed",void 0),a(o(i),"isHidding",void 0),i}e(i,t);var r=i.prototype;return r.onEnable=function(){this.Hammer.setAnimation(0,ht.APPEAR,!1),this.PriceDigit.active=""!=this.Price.textLabel.string,this.isHidding=!1,this.Background.node.active=!1},r.start=function(){this.notificationTimer.SetDuration(1),this.fetchTimer.SetDuration(30),this.Price.node.on(m.EventType.TEXT_CHANGED,this.OnPriceChange,this);var t=this.Price._impl._edTxt;t.style.setProperty("color","black"),t.style.setProperty("-webkit-text-fill-color","transparent"),this.Hammer.setCompleteListener(this.OnHammerAnimationComplete.bind(this)),this.Hammer.setEventListener(this.OnHammerAnimationEvent.bind(this))},r.update=function(t){var i=this,e=this.timeEnd-(new Date).getTime();if(e>=0)T(e).split("").forEach((function(t,e){i.TimeDigits[e].string=t}));else if(!this.isHidding)return N.GetInstance().emit(A.BID,{action:S.BACK}),void(this.isHidding=!0);this.notificationData.length>0&&(this.notificationTimer.Update(t),this.notificationTimer.IsDone()&&this.notificationData.length>this.Notifications.length&&(this.NotificationTransition(),this.notificationTimer.SetDuration(E(100,500)/100))),this.fetchTimer.Update(t),this.fetchTimer.IsDone()&&this.notificationData.length<10&&(this.SyncNotification(),this.fetchTimer.Reset());var n=this.BestPrice.getComponent(p);if(n.contentSize.width>505)this.BestPrice.horizontalAlign=g.LEFT,this.BestPrice.overflow=d.NONE,this.BestPrice.node.setPosition(this.BestPrice.node.position.add(new b(60*this.scrollDir*t,0,0))),this.scrollDir>0?this.BestPrice.node.position.x>50&&(this.scrollDir*=-1):this.BestPrice.node.position.x<-(n.contentSize.width-505+50)&&(this.scrollDir*=-1);else{var o=(505-n.contentSize.width)/2;this.BestPrice.node.setPosition(new b(o,0,0))}this.Price._showLabels()},r.SyncNotification=function(){var t=this;this.fetchTimer.IsDone()?(C.GetBiddingRecent().then((function(i){var e=JSON.parse(i).data;t.notificationData=t.notificationData.concat(e.recentBidList),t.notificationData.length>t.Notifications.length&&t.NotificationUpdateInfo();var n=e.bestBidding;t.BestPrice.string=n.name+" vừa ra giá trong khoảng "+I(""+n.from)+" - "+I(""+n.to)})).catch((function(t){})),this.fetchTimer.SetDuration(30)):this.notificationData.length>this.Notifications.length&&this.Notifications.forEach((function(i,e){var n=t.NotificationGetAlpha(e);i.getComponent(s).color=new v(255,255,255,n.start),i.getComponent(x).SetInformation(t.notificationData[e]),i.active=!0}))},r.NotificationUpdateInfo=function(){var t=this;this.Notifications.forEach((function(i,e){var n=t.NotificationGetAlpha(e);i.getComponent(s).color=new v(255,255,255,n.start),i.getComponent(x).SetInformation(t.notificationData[e]),i.active=!0})),this.notificationData.length<10&&this.SyncNotification()},r.NotificationGetAlpha=function(t){var i=150*[1,2,1,0][t],e=150*[0,1,2,1][t];return{start:i=Math.min(Math.max(i,1),255),end:e=Math.min(Math.max(e,1),255)}},r.NotificationTransition=function(){var t=this;this.Notifications.forEach((function(i,e){var n=t.NotificationGetAlpha(e),o=i.position;D(i).to(.75,{position:new b(o.x,o.y+40,0)}).start();var a=i.getComponent(s);a.color=new v(255,255,255,n.start),D(a).to(.75,{color:{r:255,g:255,b:255,a:n.end}},{easing:"sineIn"}).call((function(){0==e&&t.notificationData.length>t.Notifications.length&&(t.notificationData.shift(),t.NotificationUpdateInfo()),i.position=new b(o.x,o.y-40,0),a.color=new v(255,255,255,n.start)})).start()}))},r.Show=function(t){var i=this;if(!this.node.active){var e=B.getVisibleSize();this.node.active=!0,this.node.position=new b(0,e.height,0),D(this.node).to(1,{position:new b(0,0,0)},{easing:"expoOut"}).call((function(){i.isShowed=!0,t()})).start(),this.Notifications.forEach((function(t){return t.active=!1})),this.SyncNotification()}},r.Hide=function(t){if(this.isShowed){this.isShowed=!1;var i=B.getVisibleSize();D(this.node).to(1,{position:new b(0,i.height,0)},{easing:"expoOut"}).call((function(){return t()})).start()}},r.SetInformation=function(t,i){var e=this;this.program=t,this.timeStart=L(t.createdTime),this.timeEnd=L(t.expiredTime),this.BidName.string=t.name.toUpperCase(),this.TurnCount.string=""+i,this.Auction.active=!t.isSpecial,this.AuctionBambo.active=t.isSpecial,z(t.imageUrl).then((function(t){e.Background.getComponent(p).setContentSize(new P(t.width,t.height)),e.Background.spriteFrame=t,e.Background.node.active=!0})).catch((function(t){}))},r.SetTurn=function(t){this.TurnCount.string=""+t},r.OnPriceChange=function(t){var i=I(t.string+"00");this.Price.textLabel.string=i.substring(0,i.length-2),this.PriceDigit.active=t.string.length>0},r.Bid=function(){var t=this.Price.textLabel.string.replace(".","");t.length>0&&N.GetInstance().emit(A.BID,{action:S.BID,price:parseInt(t)})},r.Info=function(){N.GetInstance().emit(A.BID,{action:S.INFO,url:this.program.landingPage})},r.Back=function(){N.GetInstance().emit(A.BID,{action:S.BACK})},r.Deal=function(){this.Price.string="",this.Price.textLabel.string="",this.PriceDigit.active=!1,this.Hammer.setAnimation(0,ht.DEAL,!1)},r.OnHammerAnimationComplete=function(t){switch(t.animation.name){case ht.APPEAR:case ht.DEAL:this.Hammer.setAnimation(0,ht.IDLE,!0)}},r.OnHammerAnimationEvent=function(t){var i=this;t.animation.name==ht.DEAL&&(this.ParticleBid.play(),this.ParticleBid.getComponent(y).play(),this.Notifications[0].parent.active=!1,this.LogoBid.active=!0,this.LogoBid.setScale(new b(0,0,1)),D(this.LogoBid).to(.5,{scale:new b(1,1,1)},{easing:"elasticOut"}).delay(1.5).to(.5,{scale:new b(0,0,1)},{easing:"elasticIn"}).call((function(){i.Notifications[0].parent.active=!0,i.LogoBid.active=!1})).start())},i}(w)).prototype,"Background",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(Q.prototype,"BestPrice",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(Q.prototype,"Auction",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=i(Q.prototype,"AuctionBambo",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(Q.prototype,"Hammer",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=i(Q.prototype,"LogoBid",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=i(Q.prototype,"ParticleBid",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=i(Q.prototype,"BidName",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=i(Q.prototype,"TurnCount",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=i(Q.prototype,"Price",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=i(Q.prototype,"PriceDigit",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=i(Q.prototype,"TimeDigits",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lt=i(Q.prototype,"Notifications",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=Q))||Z));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopupGift.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,o,r,a,u,c,l,s,f,p,h,b,v,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,u=t.sp,c=t.ParticleSystem,l=t.Node,s=t.Label,f=t.Vec3,p=t.tween,h=t.UITransform,b=t.view,v=t.AudioSource,m=t.Component}],execute:function(){var y,d,g,G,w,C,V,T,z,O,P,D,A,I,E,S,L,k,R,_,N,F,x;r._RF.push({},"ae5e6oHii1DAp8iAq9daOTv","PopupGift",void 0);var H,U=a.ccclass,j=a.property;!function(t){t.DROP="drop",t.IDLE="idle3",t.OPEN="explosion2"}(H||(H={}));t("PopupGift",(y=U("PopupGift"),d=j({type:u.Skeleton}),g=j({type:c}),G=j({type:l}),w=j({type:l}),C=j({type:l}),V=j({type:l}),T=j({type:l}),z=j({type:l}),O=j({type:s}),P=j({type:s}),y((I=e((A=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(o(e),"Gift",I,o(e)),n(o(e),"Confetti",E,o(e)),n(o(e),"Congratulation",S,o(e)),n(o(e),"Gift2Turn",L,o(e)),n(o(e),"Gift4Turn",k,o(e)),n(o(e),"Voucher",R,o(e)),n(o(e),"Voucher2Turn",_,o(e)),n(o(e),"Voucher4Turn",N,o(e)),n(o(e),"VoucherCode",F,o(e)),n(o(e),"VoucherDescription",x,o(e)),e}i(e,t);var r=e.prototype;return r.onEnable=function(){var t=this;this.node.setScale(new f(0,0,1)),p(this.node).to(.5,{scale:new f(1,1,1)},{easing:"elasticOut"}).call((function(){t.Gift.node.active=!0,t.Gift.setAnimation(0,H.DROP,!1)})).start(),this.node.getComponent(h).contentSize=b.getVisibleSize(),this.Gift.setCompleteListener(this.OnGiftAnimationComplete.bind(this)),this.Gift.setEventListener(this.OnGiftAnimationEvent.bind(this))},r.start=function(){},r.Show=function(t){t.promotionInfo&&null!=t.promotionInfo&&t.promotionInfo.length>0?(this.Gift2Turn.active=!1,this.Gift4Turn.active=!1,this.Voucher.active=!0,2==t.turn?(this.Voucher2Turn.active=!0,this.Voucher4Turn.active=!1):(this.Voucher2Turn.active=!1,this.Voucher4Turn.active=!0),this.VoucherCode.string=t.promotionInfo[0].code.toUpperCase(),this.VoucherDescription.string=t.promotionInfo[0].title):(this.Voucher.active=!1,2==t.turn?(this.Gift2Turn.active=!0,this.Gift4Turn.active=!1):(this.Gift2Turn.active=!1,this.Gift4Turn.active=!0)),this.Congratulation.active=!1,this.Gift.node.active=!1,this.node.active=!0},r.Close=function(){var t=this;window.copyToClipboard(this.VoucherCode.string),p(this.node).to(.5,{scale:new f(0,0,1)},{easing:"elasticIn"}).call((function(){return t.node.active=!1})).start()},r.OpenGift=function(){var t=this;this.Gift.setAnimation(0,H.OPEN,!1),this.Voucher.active||p(this.node).delay(5).to(.5,{scale:new f(0,0,1)},{easing:"elasticIn"}).call((function(){return t.node.active=!1})).start()},r.OnGiftAnimationComplete=function(t){switch(t.animation.name){case H.DROP:this.Gift.setAnimation(0,H.IDLE,!0);break;case H.OPEN:this.Gift.node.active=!1}},r.OnGiftAnimationEvent=function(t,e){switch(e.data.name){case"Firework":this.Confetti.play(),this.Confetti.getComponent(v).play();break;case"Voucher":this.Congratulation.active=!0,this.Congratulation.setScale(new f(0,0,1)),p(this.Congratulation).to(.5,{scale:new f(1,1,1)},{easing:"elasticOut"}).start()}},e}(m)).prototype,"Gift",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(A.prototype,"Confetti",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(A.prototype,"Congratulation",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(A.prototype,"Gift2Turn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(A.prototype,"Gift4Turn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(A.prototype,"Voucher",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(A.prototype,"Voucher2Turn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(A.prototype,"Voucher4Turn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(A.prototype,"VoucherCode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(A.prototype,"VoucherDescription",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=A))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopupError.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,o,i,s,a,c,l,u,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,a=e.Label,c=e.Vec3,l=e.tween,u=e.UITransform,p=e.view,f=e.Component}],execute:function(){var h,g,d,v,y;i._RF.push({},"cd786OL4KtC4rtPw+E8R6+f","PopupError",void 0);var w=s.ccclass,m=s.property;e("PopupError",(h=w("PopupError"),g=m({type:a}),h((y=t((v=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,r(o(t),"message",y,o(t)),t}n(t,e);var i=t.prototype;return i.onEnable=function(){this.node.setScale(new c(0,0,1)),l(this.node).to(.5,{scale:new c(1,1,1)},{easing:"elasticOut"}).start()},i.start=function(){},i.Show=function(e){this.message.string=e,this.node.active=!0,this.node.getComponent(u).contentSize=p.getVisibleSize()},i.Close=function(){var e=this;l(this.node).to(.5,{scale:new c(0,0,1)},{easing:"elasticIn"}).call((function(){return e.node.active=!1})).start()},t}(f)).prototype,"message",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=v))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){"use strict";var e,r,n,i;return{setters:[function(t){e=t.cclegacy,r=t.assetManager,n=t.SpriteFrame,i=t.Texture2D}],execute:function(){function a(t){return t<10?"0"+t:t}t({FormatPrice:function(t){if(t.length>0){return(""+parseInt(t)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return t},FormatTime:function(t){var e=Math.floor(t/1e3),r=3600,n=Math.floor(e/r),i=Math.floor((e-n*r)/60),o=e-n*r-60*i;n>100&&(n=99);return""+a(n)+a(i)+a(o)},GetSpriteFromUrl:function(t){return new Promise((function(e,a){r.loadRemote(t,{xhrMimeType:"image/png"},(function(t,r){if(t)a(null);else{var o=new n,u=new i;u.image=r,o.texture=u,e(o)}}))}))},RandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},StringDateToShortDate:function(t,e){void 0===e&&(e=!0);try{var r=t.split(" "),n=r[0].split(":"),i=r[1].split("-");return e?i[0]+"/"+i[1]+"\n"+n[0]+":"+n[1]:n[0]+":"+n[1]+" - "+i[0]+"/"+i[1]}catch(e){return t}},StringDateToTimestamp:function(t){try{var e=t.split(" "),r=e[0].split(":"),n=e[1].split("-");return new Date(parseInt(n[2]),parseInt(n[1])-1,parseInt(n[0]),parseInt(r[0]),parseInt(r[1]),parseInt(r[2])).getTime()}catch(t){return(new Date).getTime()}},TextLimit:function(t,e){t.length>e&&(t=t.substring(0,e)+"...");return t},convert2Character:a}),e._RF.push({},"ceaaasKiCFOKJzHWmAeEI8E","Utils",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,i,r,o,a,c,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Node,u=t.Component}],execute:function(){var s,l,p,f,d;o._RF.push({},"f2b2fXBSjhBZ4KwKnXZ/HX5","Loading",void 0);var g=a.ccclass,y=a.property;t("Loading",(s=g("Loading"),l=y({type:c}),s((d=n((f=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,i(r(n),"icon",d,r(n)),n}e(n,t);var o=n.prototype;return o.start=function(){},o.update=function(t){this.icon.angle-=120*t},n}(u)).prototype,"icon",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,r,i,s;return{setters:[function(n){t=n.inheritsLoose,e=n.defineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,s=n.EventTarget}],execute:function(){i._RF.push({},"f8ad5rydN9EIZ62nOSFY4Dg","EventMgr",void 0);n("default",new(function(n){function i(){for(var t,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return t=n.call.apply(n,[this].concat(s))||this,e(r(t),"instance",null),t}return t(i,n),i.prototype.GetInstance=function(){return null==this.instance&&(this.instance=new i),this.instance},i}(s)));i._RF.pop()}}}));

System.register("chunks:///_virtual/API.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"fbcf8GwQ39CFpEpDpslNfpR","API",void 0);e("default",new(function(){function e(){}var t=e.prototype;return t.Request=function(e,t,n,r){var i=this;void 0===r&&(r=null);var o=window.API_URL;return new Promise((function(u,a){var s=new XMLHttpRequest;s.open(e,o+t,!0),s.setRequestHeader("Content-type","application/json"),s.setRequestHeader("version","1.0"),s.setRequestHeader("appId","tripi-feed"),s.setRequestHeader("appHash",i.GetHash()),null!=r&&s.setRequestHeader("ge-token",r),s.onreadystatechange=function(){4==s.readyState&&(200==s.status?u(s.response):a(s.response))},s.send(n)}))},t.GetHash=function(){var e=(new Date).getTime(),t=(e=e/1e3-e/1e3%300)+":"+window.API_HASH,n=window.CryptoJS;return n.enc.Base64.stringify(n.SHA256(t))},t.Login=function(e,t,n){var r={accessToken:e,providerName:t,programCode:"auction",referralCode:n};return this.Request("post","/login/oauth2",JSON.stringify(r))},t.Bid=function(e,t,n){var r={programCode:"auction",programId:e,auctionPrice:t};return this.Request("post","/auction/bid",JSON.stringify(r),n)},t.UpdateUserInfo=function(e,t,n,r){var i={programCode:"auction",name:e,email:t,phone:n};return this.Request("post","/auction/update-user-info",JSON.stringify(i),r)},t.TakeAttendance=function(e,t){return this.Request("get","/auction/take-attendance?programCode=auction&programId="+e,null,t)},t.VerifyWinner=function(e){return this.Request("get","/auction/verify-winner-info?programCode=auction",null,e)},t.GetReferralCode=function(e){return this.Request("get","/auction/get-referral-code",null,e)},t.GetUserInfo=function(e){return this.Request("get","/get-user-info",null,e)},t.GetTurns=function(e){return this.Request("get","/auction/get-available-turn?programCode=auction",null,e)},t.GetBiddingHistory=function(e){return this.Request("get","/auction/get-bidding-history?programCode=auction",null,e)},t.GetPrograms=function(){return this.Request("get","/auction/get-program-info?programCode=auction",null)},t.GetWinnerHistory=function(){return this.Request("get","/auction/get-winner-history?programCode=auction",null)},t.GetBiddingRecent=function(){return this.Request("get","/auction/get-recent-bidding?programCode=auction",null)},e}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Defines.ts","./EventMgr.ts","./PopupWinner.ts","./PopupAgreement.ts","./Utils.ts","./ItemBidding.ts","./API.ts","./Loading.ts","./ItemWinner.ts","./ItemProgram.ts","./Main.ts","./Timer.ts","./ItemNotification.ts","./Bid.ts","./PopupError.ts","./PopupInformation.ts","./PopupGift.ts","./PopupHotelDetails.ts","./PopupWarning.ts","./PopupUpdateInfo.ts","./GameMgr.ts","./Login.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});