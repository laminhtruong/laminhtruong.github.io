System.register("chunks:///_virtual/PopupAgreement.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts"],(function(e){"use strict";var t,o,n,i,r,a,c,l,g,s,u,p,h,f,b,d,y,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.Toggle,l=e.Button,g=e.Vec3,s=e.tween,u=e.UITransform,p=e.view,h=e.Color,f=e.Sprite,b=e.Component},function(e){d=e.EventName,y=e.ActionMain},function(e){L=e.default}],execute:function(){var m,v,T,w,A,C,k,M,z,F,I;r._RF.push({},"252de94ShdLxLFIQbxXPCxA","PopupAgreement",void 0);var G=a.ccclass,P=a.property;e("PopupAgreement",(m=G("PopupAgreement"),v=P({type:c}),T=P({type:l}),w=P({type:l}),A=P({type:l}),m((M=t((k=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(i(t),"ToggleAgree",M,i(t)),n(i(t),"LoginMyTour",z,i(t)),n(i(t),"LoginGoogle",F,i(t)),n(i(t),"LoginFacebook",I,i(t)),t}o(t,e);var r=t.prototype;return r.onEnable=function(){this.node.setScale(new g(0,0,1)),s(this.node).to(.5,{scale:new g(1,1,1)},{easing:"elasticOut"}).start(),this.node.getComponent(u).contentSize=p.getVisibleSize()},r.start=function(){this.ToggleAgree.node.on("toggle",this.OnToggle,this)},r.Show=function(e){this.LoginMyTour.node.active=e,this.LoginGoogle.node.active=!e,this.LoginFacebook.node.active=!e,this.OnToggle(this.ToggleAgree),this.node.active=!0},r.Close=function(){var e=this;s(this.node).to(.5,{scale:new g(0,0,1)},{easing:"elasticIn"}).call((function(){return e.node.active=!1})).start()},r.OnToggle=function(e){var t=e.isChecked?h.WHITE:new h("#808080");this.LoginMyTour.interactable=e.isChecked,this.LoginGoogle.interactable=e.isChecked,this.LoginFacebook.interactable=e.isChecked,this.LoginMyTour.getComponent(f).color=t,this.LoginGoogle.getComponent(f).color=t,this.LoginFacebook.getComponent(f).color=t},r.OnLoginMyTour=function(){L.GetInstance().emit(d.MAIN,{action:y.LOGIN})},t}(b)).prototype,"ToggleAgree",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(k.prototype,"LoginMyTour",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(k.prototype,"LoginGoogle",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(k.prototype,"LoginFacebook",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=k))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemBidding.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./Utils.ts"],(function(t){"use strict";var e,i,n,r,o,a,l,u,c,p,s,f,g,m,d,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.defineProperty},function(t){a=t.cclegacy,l=t._decorator,u=t.Sprite,c=t.Label,p=t.Color,s=t.Component},function(t){f=t.EventName,g=t.ActionBid},function(t){m=t.default},function(t){d=t.StringDateToShortDate,b=t.FormatPrice}],execute:function(){var h,y,I,v,D,B,w,z,P,S,_,F,K;a._RF.push({},"29b29DhKDpPx6KKXVpIBp3Z","ItemBidding",void 0);var L=l.ccclass,N=l.property;t("ItemBidding",(h=L("ItemBidding"),y=N({type:u}),I=N({type:c}),v=N({type:c}),D=N({type:c}),B=N({type:c}),h((P=e((z=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,n(r(e),"bg",P,r(e)),n(r(e),"time",S,r(e)),n(r(e),"hotel",_,r(e)),n(r(e),"price",F,r(e)),n(r(e),"duplicate",K,r(e)),o(r(e),"item",void 0),e}i(e,t);var a=e.prototype;return a.start=function(){},a.SetInformation=function(t,e){this.bg.color=new p(e%2==0?"#fff8ff":"#ffedfd");var i=t.programInfo.name;i.length>25&&(i=i.substring(0,25)+"..."),this.time.string=d(t.auctionDate),this.hotel.string=i,this.price.string=b(""+t.auctionPrice)+" đ",this.duplicate.string="("+t.duplicateNumber+" người cùng giá)",this.item=t},a.Info=function(){m.GetInstance().emit(f.BID,{action:g.INFO,url:this.item.programInfo.landingPage})},e}(s)).prototype,"bg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(z.prototype,"time",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(z.prototype,"hotel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(z.prototype,"price",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(z.prototype,"duplicate",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=z))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./PopupAgreement.ts","./API.ts","./Loading.ts","./Main.ts","./Timer.ts","./Bid.ts","./PopupError.ts","./PopupInformation.ts","./PopupGift.ts","./PopupHotelDetails.ts"],(function(t){"use strict";var e,i,n,a,o,r,s,c,u,p,l,h,f,d,g,m,S,b,I,v,P,A,T,w,y,E,G;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.defineProperty},function(t){r=t.cclegacy,s=t._decorator,c=t.AudioSource,u=t.sys,p=t.Component},function(t){l=t.Profiles,h=t.EventName,f=t.ActionMain,d=t.UserInfos,g=t.ActionLogin,m=t.ActionBid},function(t){S=t.default},function(t){b=t.PopupAgreement},function(t){I=t.default},function(t){v=t.Loading},function(t){P=t.Main},function(t){A=t.default},function(t){T=t.Bid},function(t){w=t.PopupError},function(t){y=t.PopupInformation},function(t){E=t.PopupGift},function(t){G=t.PopupHotelDetails}],execute:function(){var N,O,k,M,L,_,R,D,B,U,C,H,F,z,j,Y,K,J,W,x,X;r._RF.push({},"2df67cPW6dPX48dJVTWAnOy","GameMgr",void 0);var q,V=s.ccclass,Q=s.property;!function(t){t[t.INIT=0]="INIT",t[t.GET_PROGRAMS=1]="GET_PROGRAMS",t[t.LOGIN=2]="LOGIN",t[t.GET_USER_INFO=3]="GET_USER_INFO",t[t.GET_TURNS=4]="GET_TURNS",t[t.GET_REFERAL=5]="GET_REFERAL",t[t.MAIN=6]="MAIN",t[t.PLAY=7]="PLAY",t[t.BID=8]="BID"}(q||(q={}));t("GameMgr",(N=V("GameMgr"),O=Q({type:P}),k=Q({type:T}),M=Q({type:v}),L=Q({type:w}),_=Q({type:b}),R=Q({type:y}),D=Q({type:G}),B=Q({type:E}),U=Q({type:c}),N((F=e((H=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(a(e),"main",F,a(e)),n(a(e),"bid",z,a(e)),n(a(e),"loading",j,a(e)),n(a(e),"popupError",Y,a(e)),n(a(e),"popupAgreement",K,a(e)),n(a(e),"popupInformation",J,a(e)),n(a(e),"popupHotelDetails",W,a(e)),n(a(e),"popupGift",x,a(e)),n(a(e),"audioTap",X,a(e)),o(a(e),"state",void 0),o(a(e),"profiles",new l),o(a(e),"userinfos",null),o(a(e),"timerBiddingHistory",new A),o(a(e),"programs",null),o(a(e),"params",void 0),e}i(e,t);var r=e.prototype;return r.start=function(){S.GetInstance().on(h.LOGIN,this.OnLoginAction,this),S.GetInstance().on(h.MAIN,this.OnMainAction,this),S.GetInstance().on(h.BID,this.OnBidAction,this),this.timerBiddingHistory.SetDuration(300),this.params=this.ParseUrl(window.location.href),this.SetState(q.INIT)},r.update=function(t){switch(this.state){case q.INIT:}this.timerBiddingHistory.Update(t)},r.SetState=function(t){var e=this;switch(this.state=t,this.state){case q.INIT:this.main.node.active=!1,this.bid.node.active=!1,this.loading.node.active=!0,this.LoadProfile(),this.SetState(q.GET_PROGRAMS);break;case q.GET_PROGRAMS:I.GetPrograms().then((function(t){var i=e.ParseData(t);i instanceof Object?(e.programs=i,""!=e.profiles.token?e.SetState(q.GET_USER_INFO):e.SetState(q.LOGIN)):(e.loading.node.active=!1,e.ShowMessage(i))})).catch((function(t){e.loading.node.active=!1,e.ShowMessage(t)}));break;case q.LOGIN:this.params.token?this.OnLoginAction({action:g.LOGIN_SUCCESS,data:{token:this.params.token,platform:"mytour"}}):this.SetState(q.MAIN);break;case q.GET_USER_INFO:I.GetUserInfo(this.profiles.token).then((function(t){var i=e.ParseData(t);i instanceof Object?(e.userinfos=new d,e.userinfos.name=i.name,e.userinfos.email=i.email,e.userinfos.image=i.image,e.SetState(q.GET_TURNS)):(e.loading.node.active=!1,e.ShowMessage(i))})).catch((function(t){e.loading.node.active=!1,e.ShowMessage(t)}));break;case q.GET_TURNS:I.GetTurns(this.profiles.token).then((function(t){var i=e.ParseData(t);i instanceof Object?(e.userinfos.turns=i.currentTurn,e.SetState(q.GET_REFERAL)):(e.loading.node.active=!1,e.ShowMessage(i))})).catch((function(t){e.loading.node.active=!1,e.ShowMessage(t)}));break;case q.GET_REFERAL:I.GetReferralCode(this.profiles.token).then((function(t){var i=e.ParseData(t);i instanceof Object?(e.userinfos.code=i.referralCode,e.SetState(q.MAIN)):(e.loading.node.active=!1,e.ShowMessage(i))})).catch((function(t){e.loading.node.active=!1,e.ShowMessage(t)}));break;case q.MAIN:this.loading.node.active=!1,this.main.node.active=!0,this.main.SetInfomation({userinfos:this.userinfos,programData:this.programs,token:this.profiles.token}),this.timerBiddingHistory.Reset(),S.GetInstance().emit(h.MAIN,{action:f.CHECK_ATTENDANCE}),this.SetState(q.PLAY);break;case q.PLAY:}},r.Bid=function(t){var e=this;this.programs.currentProgram&&null!=this.programs.currentProgram&&(t*=100,this.loading.node.active=!0,I.Bid(this.programs.currentProgram.id,t,this.profiles.token).then((function(i){var n=e.ParseData(i);n instanceof Object?(e.userinfos.turns=n.currentTurn,e.main.SetTurn(e.userinfos.turns),e.bid.SetTurn(e.userinfos.turns),e.bid.Deal(),e.loading.node.active=!1,e.main.AddBidding(t)):(e.loading.node.active=!1,e.ShowMessage(n))})).catch((function(t){e.loading.node.active=!1,e.ShowMessage(t)})))},r.LoadProfile=function(){try{var t=JSON.parse(u.localStorage.getItem("profiles"));null!=t&&(this.profiles=t)}catch(t){}},r.SaveProfiles=function(){u.localStorage.setItem("profiles",JSON.stringify(this.profiles))},r.ShowMessage=function(t){this.popupError.Show(t)},r.ParseData=function(t){try{return 200==(t=JSON.parse(t)).code?t.data:t.message}catch(t){return"Data Invalid"}},r.ParseUrl=function(t){for(var e,i=/[?&]([^=#]+)=([^&#]*)/g,n={};e=i.exec(t);)n[e[1]]=decodeURIComponent(e[2]);return n},r.Share=function(t){"mobile"==this.params.platform?window.location.href="gh://sharing?content="+t:this.ShareFallback(t)},r.ShareNative=function(t){navigator.share({url:t})},r.ShareFallback=function(t){var e=document.querySelector("web-social-share");if(e&&window){var i={displayNames:!0,config:[{facebook:{socialShareUrl:t,socialSharePopupWidth:400,socialSharePopupHeight:400}},{twitter:{socialShareUrl:t,socialSharePopupWidth:300,socialSharePopupHeight:400}},{whatsapp:{socialShareUrl:t}},{copy:{socialShareUrl:t}}]};e.share=i,e.show=!0}},r.OnLoginAction=function(t){var e=this;switch(t.action){case g.LOGIN:this.audioTap.play(),this.loading.node.active=!0,this.popupAgreement.Close();break;case g.LOGIN_SUCCESS:var i=t.data;I.Login(i.token,i.platform,this.params.code||"").then((function(t){var i=e.ParseData(t);i instanceof Object?(e.profiles.token=i.token,e.SaveProfiles(),e.SetState(q.GET_USER_INFO)):(e.loading.node.active=!1,e.ShowMessage(i))})).catch((function(t){e.loading.node.active=!1,e.ShowMessage(t)}));break;case g.LOGIN_FAIL:this.loading.node.active=!1}},r.OnMainAction=function(t){var e=this;switch(t.action){case f.PLAY:this.audioTap.play(),""!=this.profiles.token?this.programs.currentProgram&&null!=this.programs.currentProgram&&!this.bid.node.active?(this.bid.SetInformation(this.programs.currentProgram,this.userinfos.turns),this.bid.Show((function(){e.main.node.active=!1}))):this.ShowMessage("Không có chương trình nào đang diễn ra"):this.popupAgreement.Show("mobile"==this.params.platform);break;case f.LOGIN:this.audioTap.play(),window.location.href="gh://redirect-to-login";break;case f.SHARE:this.audioTap.play(),this.Share("https://laminhtruong.github.io/mytour-auction/?code="+this.userinfos.code);break;case f.INFO:this.audioTap.play(),this.popupInformation.Show();break;case f.CHECK_ATTENDANCE:if(this.programs.currentProgram&&null!=this.programs.currentProgram&&""!=this.profiles.token){var i=this.programs.currentProgram.id;this.profiles.attendance.some((function(t){return t==i}))?this.SetState(q.PLAY):I.TakeAttendance(i,this.profiles.token).then((function(t){var n=e.ParseData(t);n instanceof Object&&(e.popupGift.Show(n),e.userinfos.turns+=n.turn,e.main.SetTurn(e.userinfos.turns),e.profiles.attendance.push(i),e.SaveProfiles()),e.SetState(q.PLAY)})).catch((function(t){e.SetState(q.PLAY)}))}break;case f.EXIT:this.audioTap.play(),window.location.href="gh://exit"}},r.OnBidAction=function(t){var e=this;switch(t.action){case m.BID:this.audioTap.play(),this.Bid(t.price);break;case m.INFO:this.audioTap.play(),this.popupHotelDetails.Show(t.url);break;case m.BACK:this.audioTap.play(),this.main.node.active=!0,this.timerBiddingHistory.IsDone()&&(this.main.SetupBidding(),this.timerBiddingHistory.Reset()),this.bid.Hide((function(){S.GetInstance().emit(h.MAIN,{action:f.CHECK_ATTENDANCE}),e.bid.node.active=!1}))}},e}(p)).prototype,"main",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(H.prototype,"bid",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(H.prototype,"loading",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(H.prototype,"popupError",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(H.prototype,"popupAgreement",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(H.prototype,"popupInformation",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(H.prototype,"popupHotelDetails",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(H.prototype,"popupGift",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(H.prototype,"audioTap",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=H))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemWinner.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./Utils.ts"],(function(e){"use strict";var t,n,i,r,o,a,l,c,u,f,s,p,m,g,b,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.defineProperty},function(e){a=e.cclegacy,l=e._decorator,c=e.Sprite,u=e.Label,f=e.Color,s=e.Component},function(e){p=e.EventName,m=e.ActionBid},function(e){g=e.default},function(e){b=e.StringDateToShortDate,h=e.FormatPrice}],execute:function(){var y,I,d,v,w,z,D,P,S,W,_,B,C;a._RF.push({},"3559aEckTBCrqIgOqHLWCp2","ItemWinner",void 0);var F=l.ccclass,L=l.property;e("ItemWinner",(y=F("ItemWinner"),I=L({type:c}),d=L({type:u}),v=L({type:u}),w=L({type:u}),z=L({type:u}),y((S=t((P=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(r(t),"bg",S,r(t)),i(r(t),"time",W,r(t)),i(r(t),"winner",_,r(t)),i(r(t),"price",B,r(t)),i(r(t),"hotel",C,r(t)),o(r(t),"item",void 0),t}n(t,e);var a=t.prototype;return a.start=function(){},a.SetInformation=function(e,t){this.bg.color=new f(t%2==0?"#ffffff":"#ecf9ff");var n=e.programInfo.name;n.length>25&&(n=n.substring(0,25)+"..."),this.time.string=b(e.programInfo.createdTime),this.winner.string=e.name,this.price.string=h(""+e.auctionPrice)+" đ",this.hotel.string=n,this.item=e},a.Info=function(){g.GetInstance().emit(p.BID,{action:m.INFO,url:this.item.programInfo.landingPage})},t}(s)).prototype,"bg",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(P.prototype,"time",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(P.prototype,"winner",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(P.prototype,"price",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(P.prototype,"hotel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=P))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopupInformation.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,i,s,r,c,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.Vec3,s=t.tween,r=t.UITransform,c=t.view,a=t.Component}],execute:function(){var u;e._RF.push({},"35d6e3+Q9ZO+4eI42f4ic39","PopupInformation",void 0);var p=o.ccclass;o.property,t("PopupInformation",p("PopupInformation")(u=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onEnable=function(){this.node.setScale(new i(0,0,1)),s(this.node).to(.5,{scale:new i(1,1,1)},{easing:"elasticOut"}).start(),this.node.getComponent(r).contentSize=c.getVisibleSize()},o.start=function(){},o.Show=function(){this.node.active=!0},o.Close=function(){var t=this;s(this.node).to(.5,{scale:new i(0,0,1)},{easing:"elasticIn"}).call((function(){return t.node.active=!1})).start()},e}(a))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/Main.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./Utils.ts","./ItemBidding.ts","./API.ts","./ItemWinner.ts","./ItemProgram.ts"],(function(t){"use strict";var n,i,e,r,a,o,s,u,g,l,m,c,h,p,f,d,b,P,D,I,y,E,v,w,C,A,N,S,B;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.defineProperty},function(t){o=t.cclegacy,s=t._decorator,u=t.Node,g=t.sp,l=t.Label,m=t.Prefab,c=t.tween,h=t.Vec3,p=t.instantiate,f=t.UITransform,d=t.Size,b=t.Component},function(t){P=t.ProgramState,D=t.EventName,I=t.ActionMain},function(t){y=t.default},function(t){E=t.RandomInt,v=t.StringDateToTimestamp,w=t.convert2Character,C=t.FormatTime},function(t){A=t.ItemBidding},function(t){N=t.default},function(t){S=t.ItemWinner},function(t){B=t.ItemProgram}],execute:function(){var x,T,z,M,H,W,R,U,F,L,k,O,G,_,Y,X,J,V,j,K,q,Q,Z,$,tt,nt,it,et,rt,at,ot,st,ut,gt,lt,mt,ct,ht,pt,ft,dt,bt,Pt;o._RF.push({},"418ddTz9+lC7bF5livsSJvo","Main",void 0);var Dt,It=s.ccclass,yt=s.property;!function(t){t.APPEAR="APPEAR",t.DEAL="DEAL",t.IDLE="IDLE2"}(Dt||(Dt={}));t("Main",(x=It("Main"),T=yt({type:u}),z=yt({type:u}),M=yt({type:g.Skeleton}),H=yt({type:l}),W=yt({type:l}),R=yt({type:u}),U=yt({type:l}),F=yt({type:l}),L=yt({type:u}),k=yt({type:u}),O=yt({type:u}),G=yt({type:u}),_=yt({type:u}),Y=yt({type:u}),X=yt({type:u}),J=yt({type:m}),V=yt({type:m}),j=yt({type:m}),K=yt({type:[l]}),q=yt({type:[u]}),x(($=n((Z=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o))||this,e(r(n),"Auction",$,r(n)),e(r(n),"AuctionBambo",tt,r(n)),e(r(n),"Hammer",nt,r(n)),e(r(n),"Hint",it,r(n)),e(r(n),"BidName",et,r(n)),e(r(n),"Infomation",rt,r(n)),e(r(n),"UserName",at,r(n)),e(r(n),"TurnCount",ot,r(n)),e(r(n),"BiddingNode",st,r(n)),e(r(n),"BiddingContainer",ut,r(n)),e(r(n),"BiddingMore",gt,r(n)),e(r(n),"WinnerNode",lt,r(n)),e(r(n),"WinnerContainer",mt,r(n)),e(r(n),"WinnerMore",ct,r(n)),e(r(n),"ProgramContainer",ht,r(n)),e(r(n),"PrefabWinner",pt,r(n)),e(r(n),"PrefabBidding",ft,r(n)),e(r(n),"PrefabProgram",dt,r(n)),e(r(n),"timeDigits",bt,r(n)),e(r(n),"FloatingItems",Pt,r(n)),a(r(n),"winner",[]),a(r(n),"bidding",[]),a(r(n),"program",[]),a(r(n),"state",P.CURRENT),a(r(n),"userinfos",void 0),a(r(n),"floatingOffset",[]),a(r(n),"floatingDirection",[]),a(r(n),"floatingPositionY",[]),a(r(n),"programData",void 0),a(r(n),"biddingData",void 0),a(r(n),"winnerIndex",0),a(r(n),"biddingIndex",0),a(r(n),"token",void 0),a(r(n),"timeStart",0),a(r(n),"timeEnd",0),n}i(n,t);var o=n.prototype;return o.onEnable=function(){this.Hammer.setAnimation(0,Dt.APPEAR,!1)},o.start=function(){for(var t=0;t<this.FloatingItems.length;t++)this.floatingOffset[t]={y:E(0,100)/20},c(this.floatingOffset[t]).repeatForever(c(this.floatingOffset[t]).to(3,{y:5}).to(3,{y:-5})).start(),this.floatingDirection[t]=E(0,100)<50?1:-1,this.floatingPositionY[t]=this.FloatingItems[t].position.y;this.Hammer.setCompleteListener(this.OnHammerAnimationComplete.bind(this))},o.update=function(t){this.UpdateCountDown();for(var n=0;n<this.FloatingItems.length;n++)this.FloatingItems[n].setPosition(new h(this.FloatingItems[n].position.x,this.floatingPositionY[n]+this.floatingDirection[n]*this.floatingOffset[n].y,0))},o.SetInfomation=function(t){this.userinfos=t.userinfos,this.programData=t.programData,this.token=t.token||"";var n=this.programData.currentProgram;this.state=P.CURRENT,n&&null!=n||(this.programData.nextProgram.length>0?(n=this.programData.nextProgram[0],this.state=P.NEXT):this.programData.previousProgram.length>0?(n=this.programData.previousProgram[0],this.state=P.PREVIOUS):this.state=P.END),this.timeStart=v(n.createdTime),this.timeEnd=v(n.expiredTime),this.Auction.active=!n.isSpecial,this.AuctionBambo.active=n.isSpecial,this.SetupBidding(),this.SetupWinner(),this.SetupNextProgram(),this.SyncInfomationTop()},o.SetTurn=function(t){this.TurnCount.string=""+t},o.SyncInfomationTop=function(){this.userinfos?(this.UserName.string=this.userinfos.name,this.TurnCount.string=""+this.userinfos.turns,this.Infomation.active=!0):this.Infomation.active=!1,this.programData.currentProgram&&null!=this.programData.currentProgram?this.BidName.string=this.programData.currentProgram.name.toUpperCase():this.state==P.NEXT?this.programData.nextProgram.length>0&&(this.BidName.string=this.programData.nextProgram[0].name.toUpperCase()):this.state!=P.PREVIOUS&&this.state!=P.END||this.programData.previousProgram.length>0&&(this.BidName.string=this.programData.previousProgram[0].name.toUpperCase())},o.SetupNextProgram=function(){var t=this,n=[];this.programData.currentProgram&&null!=this.programData.currentProgram&&(n=n.concat(this.programData.currentProgram)),0==(n=n.concat(this.programData.nextProgram)).length&&(n=n.concat(this.programData.previousProgram)),this.program.forEach((function(t){return t.active=!1})),n.forEach((function(n,i){var e=null;i<t.program.length?e=t.program[i]:((e=p(t.PrefabProgram)).parent=t.ProgramContainer,t.program.push(e)),e.active=!0,e.getComponent(B).SetInformation(n)}))},o.SetupWinner=function(){var t=this;N.GetWinnerHistory().then((function(n){JSON.parse(n).data.winnerList.forEach((function(n,i){var e=null;i<t.winner.length?e=t.winner[i]:((e=p(t.PrefabWinner)).parent=t.WinnerContainer,t.winner.push(e)),e.getComponent(S).SetInformation(n,i)})),t.ExpandWinner()})).catch((function(t){}))},o.SetupBidding=function(){var t=this;this.biddingIndex=0,""!=this.token?N.GetBiddingHistory(this.token).then((function(n){t.biddingData=JSON.parse(n).data.listAuction,t.biddingData.forEach((function(n,i){var e=null;i<t.bidding.length?e=t.bidding[i]:((e=p(t.PrefabBidding)).parent=t.BiddingContainer,t.bidding.push(e)),e.getComponent(A).SetInformation(n,i)})),t.ExpandBidding()})).catch((function(t){})):this.ExpandBidding()},o.AddBidding=function(t){var n=this,i=new Date,e=p(this.PrefabBidding);e.parent=this.BiddingContainer,this.bidding.push(e),this.biddingData.unshift({auctionDate:w(i.getHours())+":"+w(i.getUTCMinutes())+":"+w(i.getSeconds())+" "+w(i.getDay())+"-"+w(i.getMonth()+1)+"-"+i.getFullYear(),auctionPrice:t,duplicateNumber:0,programInfo:this.programData.currentProgram}),this.bidding.forEach((function(t,i){t.getComponent(A).SetInformation(n.biddingData[i],i)}))},o.UpdateCountDown=function(){var t=this,n=0;null!=this.programData.currentProgram||0!=this.programData.nextProgram.length?(this.state==P.CURRENT?((n=this.timeEnd-(new Date).getTime())<0&&(n=0,this.programData.currentProgram=null,this.SetInfomation({userinfos:this.userinfos,programData:this.programData,token:this.token})),this.Hint.string="Phiên đấu giá sẽ kết thúc trong"):this.state==P.NEXT&&((n=this.timeStart-(new Date).getTime())<0&&(n=0,this.programData.currentProgram=this.programData.nextProgram.shift(),this.SetInfomation({userinfos:this.userinfos,programData:this.programData,token:this.token}),y.GetInstance().emit(D.MAIN,{action:I.CHECK_ATTENDANCE})),this.Hint.string="Phiên đấu giá sẽ diễn ra trong"),C(n).split("").forEach((function(n,i){t.timeDigits[i].string=n}))):this.Hint.string="Chương trình đã kết thúc"},o.Play=function(){y.GetInstance().emit(D.MAIN,{action:I.PLAY})},o.Share=function(){y.GetInstance().emit(D.MAIN,{action:I.SHARE})},o.Info=function(){y.GetInstance().emit(D.MAIN,{action:I.INFO})},o.Exit=function(){y.GetInstance().emit(D.MAIN,{action:I.EXIT})},o.ExpandBidding=function(){this.biddingIndex=Math.min(this.biddingIndex+3,this.bidding.length);var t=this.BiddingNode.getComponent(f);c(t).to(.5,{contentSize:new d(750,94*(this.biddingIndex+3)+50)},{easing:"sineIn"}).start(),this.BiddingMore.active=this.bidding.length!=this.biddingIndex},o.ExpandWinner=function(){this.winnerIndex=Math.min(this.winnerIndex+3,this.winner.length);var t=this.WinnerNode.getComponent(f);c(t).to(.5,{contentSize:new d(750,94*(this.winnerIndex+3)+50)},{easing:"sineIn"}).start(),this.WinnerMore.active=this.winner.length!=this.winnerIndex},o.Deal=function(){this.Hammer.getCurrent(0).animation.name!=Dt.DEAL&&this.Hammer.setAnimation(0,Dt.DEAL,!1)},o.OnHammerAnimationComplete=function(t){switch(t.animation.name){case Dt.APPEAR:case Dt.DEAL:this.Hammer.setAnimation(0,Dt.IDLE,!0)}},n}(b)).prototype,"Auction",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=n(Z.prototype,"AuctionBambo",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=n(Z.prototype,"Hammer",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=n(Z.prototype,"Hint",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=n(Z.prototype,"BidName",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=n(Z.prototype,"Infomation",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=n(Z.prototype,"UserName",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=n(Z.prototype,"TurnCount",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=n(Z.prototype,"BiddingNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=n(Z.prototype,"BiddingContainer",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=n(Z.prototype,"BiddingMore",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=n(Z.prototype,"WinnerNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=n(Z.prototype,"WinnerContainer",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=n(Z.prototype,"WinnerMore",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=n(Z.prototype,"ProgramContainer",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=n(Z.prototype,"PrefabWinner",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=n(Z.prototype,"PrefabBidding",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=n(Z.prototype,"PrefabProgram",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=n(Z.prototype,"timeDigits",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Pt=n(Z.prototype,"FloatingItems",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=Z))||Q));o._RF.pop()}}}));

System.register("chunks:///_virtual/ItemNotification.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,n,e,r,o,a,c,s;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Label,s=t.Component}],execute:function(){var l,u,f,p,m;o._RF.push({},"45db9SjQ7xMLrjPwl8puXSz","ItemNotification",void 0);var g=a.ccclass,h=a.property;t("ItemNotification",(l=g("ItemNotification"),u=h(c),l((m=i((p=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,e(r(i),"information",m,r(i)),i}n(i,t);var o=i.prototype;return o.start=function(){},o.SetInformation=function(t){t.name.length>18&&(t.name=t.name.substring(0,18)+"..."),this.information.string=t.name+" vừa ra giá lúc "+t.time.split(" ")[0]},i}(s)).prototype,"information",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=p))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/Defines.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var i,t;return{setters:[function(n){i=n.defineProperty},function(n){t=n.cclegacy}],execute:function(){var e,o,c,N,s;n({ActionBid:void 0,ActionLogin:void 0,ActionMain:void 0,EventName:void 0,ProgramState:void 0}),t._RF.push({},"71218fYhlJHzoDWjLv2DGMl","Defines",void 0),function(n){n.LOGIN="event_login",n.MAIN="event_main",n.BID="event_bid"}(e||(e=n("EventName",{}))),function(n){n[n.LOGIN=0]="LOGIN",n[n.LOGIN_SUCCESS=1]="LOGIN_SUCCESS",n[n.LOGIN_FAIL=2]="LOGIN_FAIL"}(o||(o=n("ActionLogin",{}))),function(n){n[n.PLAY=0]="PLAY",n[n.LOGIN=1]="LOGIN",n[n.SHARE=2]="SHARE",n[n.INFO=3]="INFO",n[n.CHECK_ATTENDANCE=4]="CHECK_ATTENDANCE",n[n.EXIT=5]="EXIT"}(c||(c=n("ActionMain",{}))),function(n){n[n.BID=0]="BID",n[n.INFO=1]="INFO",n[n.BACK=2]="BACK"}(N||(N=n("ActionBid",{}))),function(n){n[n.PREVIOUS=0]="PREVIOUS",n[n.CURRENT=1]="CURRENT",n[n.NEXT=2]="NEXT",n[n.END=3]="END"}(s||(s=n("ProgramState",{})));n("Profiles",(function(){i(this,"token",""),i(this,"attendance",[])})),n("UserInfos",(function(){i(this,"name",""),i(this,"email",""),i(this,"image",""),i(this,"code",""),i(this,"turns",0)}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ItemProgram.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./Utils.ts"],(function(t){"use strict";var e,i,n,r,o,a,l,u,c,s,p,m,f,g,b,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.defineProperty},function(t){a=t.cclegacy,l=t._decorator,u=t.Node,c=t.Label,s=t.Sprite,p=t.Component},function(t){m=t.EventName,f=t.ActionBid},function(t){g=t.default},function(t){b=t.StringDateToShortDate,h=t.GetSpriteFromUrl}],execute:function(){var y,d,v,P,I,z,B,S,w,D,F,_,k,T,U;a._RF.push({},"7b38eim8h9B5ozHT5BG2m7Y","ItemProgram",void 0);var G=l.ccclass,L=l.property;t("ItemProgram",(y=G("ItemProgram"),d=L({type:u}),v=L({type:u}),P=L({type:c}),I=L({type:c}),z=L({type:c}),B=L({type:s}),y((D=e((w=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,n(r(e),"bgPink",D,r(e)),n(r(e),"bgBlue",F,r(e)),n(r(e),"time",_,r(e)),n(r(e),"hotel",k,r(e)),n(r(e),"location",T,r(e)),n(r(e),"thumnail",U,r(e)),o(r(e),"item",void 0),e}i(e,t);var a=e.prototype;return a.start=function(){},a.SetInformation=function(t){var e=this;this.time.string=b(t.createdTime,!1),this.hotel.string=t.name,this.location.string=t.description.toUpperCase(),this.bgPink.active=!t.isSpecial,this.bgBlue.active=t.isSpecial,this.item=t,h(t.imageUrl).then((function(t){e.thumnail.spriteFrame=t})).catch((function(t){}))},a.Info=function(){g.GetInstance().emit(m.BID,{action:f.INFO,url:this.item.landingPage})},e}(p)).prototype,"bgPink",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(w.prototype,"bgBlue",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(w.prototype,"time",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(w.prototype,"hotel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(w.prototype,"location",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(w.prototype,"thumnail",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=w))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopupHotelDetails.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,o,r,s,a,c,l,u,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.WebView,c=e.Vec3,l=e.tween,u=e.UITransform,p=e.view,f=e.Component}],execute:function(){var h,v,d,w,b;r._RF.push({},"82efdr/+I1H77zDUZrAIwdH","PopupHotelDetails",void 0);var y=s.ccclass,g=s.property;e("PopupHotelDetails",(h=y("PopupHotelDetails"),v=g({type:a}),h((b=t((w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(o(t),"Webview",b,o(t)),t}n(t,e);var r=t.prototype;return r.onEnable=function(){this.node.setScale(new c(0,0,1)),l(this.node).to(.5,{scale:new c(1,1,1)},{easing:"elasticOut"}).start(),this.node.getComponent(u).contentSize=p.getVisibleSize()},r.start=function(){},r.Show=function(e){this.node.active=!0,this.Webview.url=e},r.Close=function(){var e=this;l(this.node).to(.5,{scale:new c(0,0,1)},{easing:"elasticIn"}).call((function(){return e.node.active=!1})).start()},t}(f)).prototype,"Webview",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=w))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/Timer.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e;return{setters:[function(t){i=t.defineProperty},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"83182rhGv5E5o+cQT5d7b3o","Timer",void 0);t("default",function(){function t(){i(this,"timer",0),i(this,"duration",0),i(this,"overhead",0),i(this,"isDone",!0)}var e=t.prototype;return e.SetDuration=function(t){this.timer=this.duration=t,this.overhead=0,this.isDone=!1},e.AddTime=function(t){this.timer+=t,this.overhead=0,this.isDone=!1},e.GetTimePercent=function(){return this.timer/this.duration},e.Reset=function(){this.timer=this.duration,this.overhead=0,this.isDone=!1},e.IsDone=function(){return 0==this.timer},e.JustFinished=function(){return!(this.timer>0)&&(!this.isDone&&(this.isDone=!0,!0))},e.Update=function(t){0!=this.timer&&(this.timer-=t,this.timer<0&&(this.overhead=-this.timer,this.timer=0))},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Login.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts"],(function(o){"use strict";var t,n,e,i,a,s,c,g,l;return{setters:[function(o){t=o.inheritsLoose,n=o.defineProperty,e=o.assertThisInitialized},function(o){i=o.cclegacy,a=o._decorator,s=o.Component},function(o){c=o.EventName,g=o.ActionLogin},function(o){l=o.default}],execute:function(){var u;i._RF.push({},"88819R1zIVFQawyuDuWo1i2","Login",void 0);var r=a.ccclass;a.property,o("Login",r("Login")(u=function(o){function i(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=o.call.apply(o,[this].concat(a))||this,n(e(t),"fbSDK",null),n(e(t),"googleApi",null),n(e(t),"googleAuth",null),n(e(t),"googleUser",null),t}t(i,o);var a=i.prototype;return a.onLoad=function(){this.fbSDK=window.FB,this.googleApi=window.gapi,this.googleApi.load("auth2",this.GoogleApiLoaded.bind(this))},a.update=function(o){},a.FacebookLogin=function(){var o=this;this.fbSDK.getLoginStatus((function(t){var n="";l.GetInstance().emit(c.LOGIN,{action:g.LOGIN,data:{platform:"facebook"}}),o.fbSDK.login((function(o){o.authResponse?(n=o.authResponse.accessToken,l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_SUCCESS,data:{platform:"facebook",token:n}})):l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_FAIL,data:{platform:"facebook"}})}))}))},a.GoogleLogin=function(){this.googleAuth&&(this.googleAuth.signIn().then((function(o){var t=o.getAuthResponse().access_token;l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_SUCCESS,data:{platform:"google",token:t}})})).catch((function(o){l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_FAIL,data:{platform:"google"}})})),l.GetInstance().emit(c.LOGIN,{action:g.LOGIN,data:{platform:"google"}}))},a.GoogleApiLoaded=function(){this.googleAuth=this.googleApi.auth2.init({client_id:"22807595564-aphe2ofiu08oo4aq01dauj5dibstl4pk.apps.googleusercontent.com",scope:"profile"}),1==this.googleAuth.isSignedIn.get()&&this.GoogleLogin()},a.GoogleSigninChanged=function(o){console.log(o)},a.GoogleUserChanged=function(o){var t=o.getAuthResponse().access_token;null!=t&&l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_SUCCESS,data:{platform:"google",token:t}})},i}(s))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/Bid.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./Utils.ts","./API.ts","./Timer.ts","./ItemNotification.ts"],(function(t){"use strict";var i,e,n,o,a,r,c,s,l,h,u,f,m,p,g,d,b,v,B,D,P,y,w,A,T,S,N,E,I,L,z,C,H,x;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.defineProperty},function(t){r=t.cclegacy,c=t._decorator,s=t.Sprite,l=t.Label,h=t.Node,u=t.sp,f=t.ParticleSystem,m=t.EditBox,p=t.UITransform,g=t.HorizontalTextAlignment,d=t.Overflow,b=t.Vec3,v=t.Color,B=t.tween,D=t.view,P=t.Size,y=t.AudioSource,w=t.Component},function(t){A=t.EventName,T=t.ActionBid},function(t){S=t.default},function(t){N=t.FormatTime,E=t.RandomInt,I=t.FormatPrice,L=t.StringDateToTimestamp,z=t.GetSpriteFromUrl},function(t){C=t.default},function(t){H=t.default},function(t){x=t.ItemNotification}],execute:function(){var O,k,R,G,U,_,F,M,V,K,j,q,J,X,Z,Q,W,Y,$,tt,it,et,nt,ot,at,rt,ct,st,lt;r._RF.push({},"abe62Rom6RGOZBhSfqtMLHb","Bid",void 0);var ht,ut=c.ccclass,ft=c.property;!function(t){t.APPEAR="APPEAR",t.DEAL="DEAL",t.IDLE="IDLE2"}(ht||(ht={}));t("Bid",(O=ut("Bid"),k=ft({type:s}),R=ft({type:l}),G=ft({type:h}),U=ft({type:h}),_=ft({type:u.Skeleton}),F=ft({type:h}),M=ft({type:f}),V=ft({type:l}),K=ft({type:l}),j=ft({type:m}),q=ft({type:h}),J=ft({type:[l]}),X=ft({type:[h]}),O((W=i((Q=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return i=t.call.apply(t,[this].concat(r))||this,n(o(i),"Background",W,o(i)),n(o(i),"BestPrice",Y,o(i)),n(o(i),"Auction",$,o(i)),n(o(i),"AuctionBambo",tt,o(i)),n(o(i),"Hammer",it,o(i)),n(o(i),"LogoBid",et,o(i)),n(o(i),"ParticleBid",nt,o(i)),n(o(i),"BidName",ot,o(i)),n(o(i),"TurnCount",at,o(i)),n(o(i),"Price",rt,o(i)),n(o(i),"PriceDigit",ct,o(i)),n(o(i),"TimeDigits",st,o(i)),n(o(i),"Notifications",lt,o(i)),a(o(i),"notificationTimer",new H),a(o(i),"fetchTimer",new H),a(o(i),"program",void 0),a(o(i),"notificationData",[]),a(o(i),"timeStart",void 0),a(o(i),"timeEnd",void 0),a(o(i),"scrollDir",-1),a(o(i),"isShowed",void 0),a(o(i),"isHidding",void 0),i}e(i,t);var r=i.prototype;return r.onEnable=function(){this.Hammer.setAnimation(0,ht.APPEAR,!1),this.PriceDigit.active=""!=this.Price.textLabel.string,this.isHidding=!1,this.Background.node.active=!1},r.start=function(){this.notificationTimer.SetDuration(1),this.fetchTimer.SetDuration(30),this.Price.node.on(m.EventType.TEXT_CHANGED,this.OnPriceChange,this);var t=this.Price._impl._edTxt;t.style.setProperty("color","black"),t.style.setProperty("-webkit-text-fill-color","transparent"),this.Hammer.setCompleteListener(this.OnHammerAnimationComplete.bind(this)),this.Hammer.setEventListener(this.OnHammerAnimationEvent.bind(this))},r.update=function(t){var i=this,e=this.timeEnd-(new Date).getTime();if(e>=0)N(e).split("").forEach((function(t,e){i.TimeDigits[e].string=t}));else if(!this.isHidding)return S.GetInstance().emit(A.BID,{action:T.BACK}),void(this.isHidding=!0);this.notificationData.length>0&&(this.notificationTimer.Update(t),this.notificationTimer.IsDone()&&this.notificationData.length>this.Notifications.length&&(this.NotificationTransition(),this.notificationTimer.SetDuration(E(100,500)/100))),this.fetchTimer.Update(t),this.fetchTimer.IsDone()&&this.notificationData.length<10&&(this.SyncNotification(),this.fetchTimer.Reset());var n=this.BestPrice.getComponent(p);if(n.contentSize.width>505)this.BestPrice.horizontalAlign=g.LEFT,this.BestPrice.overflow=d.NONE,this.BestPrice.node.setPosition(this.BestPrice.node.position.add(new b(60*this.scrollDir*t,0,0))),this.scrollDir>0?this.BestPrice.node.position.x>50&&(this.scrollDir*=-1):this.BestPrice.node.position.x<-(n.contentSize.width-505+50)&&(this.scrollDir*=-1);else{var o=(505-n.contentSize.width)/2;this.BestPrice.node.setPosition(new b(o,0,0))}this.Price._showLabels()},r.SyncNotification=function(){var t=this;C.GetBiddingRecent().then((function(i){var e=JSON.parse(i).data;t.notificationData=t.notificationData.concat(e.recentBidList),t.notificationData.length>t.Notifications.length&&t.NotificationUpdateInfo();var n=e.bestBidding;t.BestPrice.string=n.name+" vừa ra giá trong khoảng "+I(""+n.from)+" - "+I(""+n.to)})).catch((function(t){}))},r.NotificationUpdateInfo=function(){var t=this;this.Notifications.forEach((function(i,e){var n=t.NotificationGetAlpha(e);i.getComponent(s).color=new v(255,255,255,n.start),i.getComponent(x).SetInformation(t.notificationData[e]),i.active=!0})),this.fetchTimer.IsDone()&&this.notificationData.length<10&&(this.SyncNotification(),this.fetchTimer.Reset())},r.NotificationGetAlpha=function(t){var i=150*[1,2,1,0][t],e=150*[0,1,2,1][t];return{start:i=Math.min(Math.max(i,1),255),end:e=Math.min(Math.max(e,1),255)}},r.NotificationTransition=function(){var t=this;this.Notifications.forEach((function(i,e){var n=t.NotificationGetAlpha(e),o=i.position;B(i).to(.75,{position:new b(o.x,o.y+40,0)}).start();var a=i.getComponent(s);a.color=new v(255,255,255,n.start),B(a).to(.75,{color:{r:255,g:255,b:255,a:n.end}},{easing:"sineIn"}).call((function(){0==e&&t.notificationData.length>t.Notifications.length&&(t.notificationData.shift(),t.NotificationUpdateInfo()),i.position=new b(o.x,o.y-40,0),a.color=new v(255,255,255,n.start)})).start()}))},r.Show=function(t){var i=this;if(!this.node.active){var e=D.getVisibleSize();this.node.active=!0,this.node.position=new b(0,e.height,0),B(this.node).to(1,{position:new b(0,0,0)},{easing:"expoOut"}).call((function(){i.isShowed=!0,t()})).start(),this.notificationData=[],this.Notifications.forEach((function(t){return t.active=!1})),this.SyncNotification()}},r.Hide=function(t){if(this.isShowed){this.isShowed=!1;var i=D.getVisibleSize();B(this.node).to(1,{position:new b(0,i.height,0)},{easing:"expoOut"}).call((function(){return t()})).start()}},r.SetInformation=function(t,i){var e=this;this.program=t,this.timeStart=L(t.createdTime),this.timeEnd=L(t.expiredTime),this.BidName.string=t.name.toUpperCase(),this.TurnCount.string=""+i,this.Auction.active=!t.isSpecial,this.AuctionBambo.active=t.isSpecial,z(t.imageUrl).then((function(t){e.Background.getComponent(p).setContentSize(new P(t.width,t.height)),e.Background.spriteFrame=t,e.Background.node.active=!0})).catch((function(t){}))},r.SetTurn=function(t){this.TurnCount.string=""+t},r.OnPriceChange=function(t){var i=I(t.string+"00");this.Price.textLabel.string=i.substring(0,i.length-2),this.PriceDigit.active=t.string.length>0},r.Bid=function(){var t=this.Price.textLabel.string.replace(".","");t.length>0&&S.GetInstance().emit(A.BID,{action:T.BID,price:parseInt(t)})},r.Info=function(){S.GetInstance().emit(A.BID,{action:T.INFO,url:this.program.landingPage})},r.Back=function(){S.GetInstance().emit(A.BID,{action:T.BACK})},r.Deal=function(){this.Price.string="",this.Price.textLabel.string="",this.PriceDigit.active=!1,this.Hammer.setAnimation(0,ht.DEAL,!1)},r.OnHammerAnimationComplete=function(t){switch(t.animation.name){case ht.APPEAR:case ht.DEAL:this.Hammer.setAnimation(0,ht.IDLE,!0)}},r.OnHammerAnimationEvent=function(t){var i=this;t.animation.name==ht.DEAL&&(this.ParticleBid.play(),this.ParticleBid.getComponent(y).play(),this.Notifications[0].parent.active=!1,this.LogoBid.active=!0,this.LogoBid.setScale(new b(0,0,1)),B(this.LogoBid).to(.5,{scale:new b(1,1,1)},{easing:"elasticOut"}).delay(1.5).to(.5,{scale:new b(0,0,1)},{easing:"elasticIn"}).call((function(){i.Notifications[0].parent.active=!0,i.LogoBid.active=!1})).start())},i}(w)).prototype,"Background",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(Q.prototype,"BestPrice",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(Q.prototype,"Auction",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=i(Q.prototype,"AuctionBambo",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(Q.prototype,"Hammer",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=i(Q.prototype,"LogoBid",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=i(Q.prototype,"ParticleBid",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=i(Q.prototype,"BidName",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=i(Q.prototype,"TurnCount",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=i(Q.prototype,"Price",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=i(Q.prototype,"PriceDigit",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=i(Q.prototype,"TimeDigits",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),lt=i(Q.prototype,"Notifications",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=Q))||Z));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopupGift.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,o,r,a,u,c,l,s,f,p,h,b,v,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,u=t.sp,c=t.ParticleSystem,l=t.Node,s=t.Label,f=t.Vec3,p=t.tween,h=t.UITransform,b=t.view,v=t.AudioSource,m=t.Component}],execute:function(){var y,d,g,G,w,C,V,T,z,O,P,D,A,I,E,S,L,k,R,_,N,F,x;r._RF.push({},"ae5e6oHii1DAp8iAq9daOTv","PopupGift",void 0);var H,U=a.ccclass,j=a.property;!function(t){t.DROP="drop",t.IDLE="idle3",t.OPEN="explosion2"}(H||(H={}));t("PopupGift",(y=U("PopupGift"),d=j({type:u.Skeleton}),g=j({type:c}),G=j({type:l}),w=j({type:l}),C=j({type:l}),V=j({type:l}),T=j({type:l}),z=j({type:l}),O=j({type:s}),P=j({type:s}),y((I=e((A=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(o(e),"Gift",I,o(e)),n(o(e),"Confetti",E,o(e)),n(o(e),"Congratulation",S,o(e)),n(o(e),"Gift2Turn",L,o(e)),n(o(e),"Gift4Turn",k,o(e)),n(o(e),"Voucher",R,o(e)),n(o(e),"Voucher2Turn",_,o(e)),n(o(e),"Voucher4Turn",N,o(e)),n(o(e),"VoucherCode",F,o(e)),n(o(e),"VoucherDescription",x,o(e)),e}i(e,t);var r=e.prototype;return r.onEnable=function(){var t=this;this.node.setScale(new f(0,0,1)),p(this.node).to(.5,{scale:new f(1,1,1)},{easing:"elasticOut"}).call((function(){t.Gift.node.active=!0,t.Gift.setAnimation(0,H.DROP,!1)})).start(),this.node.getComponent(h).contentSize=b.getVisibleSize(),this.Gift.setCompleteListener(this.OnGiftAnimationComplete.bind(this)),this.Gift.setEventListener(this.OnGiftAnimationEvent.bind(this))},r.start=function(){},r.Show=function(t){t.promotionInfo&&null!=t.promotionInfo&&t.promotionInfo.length>0?(this.Gift2Turn.active=!1,this.Gift4Turn.active=!1,this.Voucher.active=!0,2==t.turn?(this.Voucher2Turn.active=!0,this.Voucher4Turn.active=!1):(this.Voucher2Turn.active=!1,this.Voucher4Turn.active=!0),this.VoucherCode.string=t.promotionInfo[0].code.toUpperCase(),this.VoucherDescription.string=t.promotionInfo[0].title):(this.Voucher.active=!1,2==t.turn?(this.Gift2Turn.active=!0,this.Gift4Turn.active=!1):(this.Gift2Turn.active=!1,this.Gift4Turn.active=!0)),this.Congratulation.active=!1,this.Gift.node.active=!1,this.node.active=!0},r.Close=function(){var t=this;window.copyToClipboard(this.VoucherCode.string),p(this.node).to(.5,{scale:new f(0,0,1)},{easing:"elasticIn"}).call((function(){return t.node.active=!1})).start()},r.OpenGift=function(){var t=this;this.Gift.setAnimation(0,H.OPEN,!1),this.Voucher.active||p(this.node).delay(5).to(.5,{scale:new f(0,0,1)},{easing:"elasticIn"}).call((function(){return t.node.active=!1})).start()},r.OnGiftAnimationComplete=function(t){switch(t.animation.name){case H.DROP:this.Gift.setAnimation(0,H.IDLE,!0);break;case H.OPEN:this.Gift.node.active=!1}},r.OnGiftAnimationEvent=function(t,e){switch(e.data.name){case"Firework":this.Confetti.play(),this.Confetti.getComponent(v).play();break;case"Voucher":this.Congratulation.active=!0,this.Congratulation.setScale(new f(0,0,1)),p(this.Congratulation).to(.5,{scale:new f(1,1,1)},{easing:"elasticOut"}).start()}},e}(m)).prototype,"Gift",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(A.prototype,"Confetti",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(A.prototype,"Congratulation",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(A.prototype,"Gift2Turn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(A.prototype,"Gift4Turn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(A.prototype,"Voucher",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(A.prototype,"Voucher2Turn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(A.prototype,"Voucher4Turn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(A.prototype,"VoucherCode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(A.prototype,"VoucherDescription",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=A))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopupError.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,o,i,s,a,c,l,u,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,a=e.Label,c=e.Vec3,l=e.tween,u=e.UITransform,p=e.view,f=e.Component}],execute:function(){var h,g,d,v,y;i._RF.push({},"cd786OL4KtC4rtPw+E8R6+f","PopupError",void 0);var w=s.ccclass,m=s.property;e("PopupError",(h=w("PopupError"),g=m({type:a}),h((y=t((v=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,r(o(t),"message",y,o(t)),t}n(t,e);var i=t.prototype;return i.onEnable=function(){this.node.setScale(new c(0,0,1)),l(this.node).to(.5,{scale:new c(1,1,1)},{easing:"elasticOut"}).start()},i.start=function(){},i.Show=function(e){this.message.string=e,this.node.active=!0,this.node.getComponent(u).contentSize=p.getVisibleSize()},i.Close=function(){var e=this;l(this.node).to(.5,{scale:new c(0,0,1)},{easing:"elasticIn"}).call((function(){return e.node.active=!1})).start()},t}(f)).prototype,"message",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=v))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){"use strict";var e,r,n,a;return{setters:[function(t){e=t.cclegacy,r=t.assetManager,n=t.SpriteFrame,a=t.Texture2D}],execute:function(){function i(t){return t<10?"0"+t:t}t({FormatPrice:function(t){if(t.length>0){return(""+parseInt(t)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return t},FormatTime:function(t){var e=Math.floor(t/1e3),r=3600,n=Math.floor(e/r),a=Math.floor((e-n*r)/60),o=e-n*r-60*a;n>100&&(n=99);return""+i(n)+i(a)+i(o)},GetSpriteFromUrl:function(t){return new Promise((function(e,i){r.loadRemote(t,{xhrMimeType:"image/png"},(function(t,r){if(t)i(null);else{var o=new n,u=new a;u.image=r,o.texture=u,e(o)}}))}))},RandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},StringDateToShortDate:function(t,e){void 0===e&&(e=!0);try{var r=t.split(" "),n=r[0].split(":"),a=r[1].split("-");return e?a[0]+"/"+a[1]+"\n"+n[0]+":"+n[1]:n[0]+":"+n[1]+" - "+a[0]+"/"+a[1]}catch(e){return t}},StringDateToTimestamp:function(t){try{var e=t.split(" "),r=e[0].split(":"),n=e[1].split("-");return new Date(parseInt(n[2]),parseInt(n[1])-1,parseInt(n[0]),parseInt(r[0]),parseInt(r[1]),parseInt(r[2])).getTime()}catch(t){return(new Date).getTime()}},convert2Character:i}),e._RF.push({},"ceaaasKiCFOKJzHWmAeEI8E","Utils",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,i,r,o,a,c,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Node,u=t.Component}],execute:function(){var s,l,p,f,d;o._RF.push({},"f2b2fXBSjhBZ4KwKnXZ/HX5","Loading",void 0);var g=a.ccclass,y=a.property;t("Loading",(s=g("Loading"),l=y({type:c}),s((d=n((f=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,i(r(n),"icon",d,r(n)),n}e(n,t);var o=n.prototype;return o.start=function(){},o.update=function(t){this.icon.angle-=120*t},n}(u)).prototype,"icon",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,r,i,s;return{setters:[function(n){t=n.inheritsLoose,e=n.defineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,s=n.EventTarget}],execute:function(){i._RF.push({},"f8ad5rydN9EIZ62nOSFY4Dg","EventMgr",void 0);n("default",new(function(n){function i(){for(var t,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return t=n.call.apply(n,[this].concat(s))||this,e(r(t),"instance",null),t}return t(i,n),i.prototype.GetInstance=function(){return null==this.instance&&(this.instance=new i),this.instance},i}(s)));i._RF.pop()}}}));

System.register("chunks:///_virtual/API.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"fbcf8GwQ39CFpEpDpslNfpR","API",void 0);e("default",new(function(){function e(){}var t=e.prototype;return t.Request=function(e,t,n,r){var i=this;void 0===r&&(r=null);return new Promise((function(o,u){var a=new XMLHttpRequest;a.open(e,"https://gate.dev.tripi.vn/tripi-feed"+t,!0),a.setRequestHeader("Content-type","application/json"),a.setRequestHeader("version","1.0"),a.setRequestHeader("appId","tripi-feed"),a.setRequestHeader("appHash",i.GetHash()),null!=r&&a.setRequestHeader("ge-token",r),a.onreadystatechange=function(){4==a.readyState&&(200==a.status?o(a.response):u(a.response))},a.send(n)}))},t.GetHash=function(){var e=(new Date).getTime(),t=(e=e/1e3-e/1e3%300)+":AsnasjldknsajalLASASs86876n4oadn5aod3nlNSLA",n=window.CryptoJS;return n.enc.Base64.stringify(n.SHA256(t))},t.Login=function(e,t,n){var r={accessToken:e,providerName:t,programCode:"auction",referralCode:n};return this.Request("post","/login/oauth2",JSON.stringify(r))},t.Bid=function(e,t,n){var r={programCode:"auction",programId:e,auctionPrice:t};return this.Request("post","/auction/bid",JSON.stringify(r),n)},t.TakeAttendance=function(e,t){return this.Request("get","/auction/take-attendance?programCode=auction&programId="+e,null,t)},t.GetReferralCode=function(e){return this.Request("get","/auction/get-referral-code",null,e)},t.GetUserInfo=function(e){return this.Request("get","/get-user-info",null,e)},t.GetTurns=function(e){return this.Request("get","/auction/get-available-turn?programCode=auction",null,e)},t.GetBiddingHistory=function(e){return this.Request("get","/auction/get-bidding-history?programCode=auction",null,e)},t.GetPrograms=function(){return this.Request("get","/auction/get-program-info?programCode=auction",null)},t.GetWinnerHistory=function(){return this.Request("get","/auction/get-winner-history?programCode=auction",null)},t.GetBiddingRecent=function(){return this.Request("get","/auction/get-recent-bidding?programCode=auction",null)},e}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Defines.ts","./EventMgr.ts","./PopupAgreement.ts","./Utils.ts","./ItemBidding.ts","./API.ts","./Loading.ts","./ItemWinner.ts","./ItemProgram.ts","./Main.ts","./Timer.ts","./ItemNotification.ts","./Bid.ts","./PopupError.ts","./PopupInformation.ts","./PopupGift.ts","./PopupHotelDetails.ts","./GameMgr.ts","./Login.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});