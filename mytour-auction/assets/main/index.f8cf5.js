System.register("chunks:///_virtual/PopupAgreement.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts"],(function(e){"use strict";var t,o,n,i,r,a,c,l,g,s,u,p,h,f,b,d,y,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.Toggle,l=e.Button,g=e.Vec3,s=e.tween,u=e.UITransform,p=e.view,h=e.Color,f=e.Sprite,b=e.Component},function(e){d=e.EventName,y=e.ActionMain},function(e){L=e.default}],execute:function(){var m,v,T,w,A,C,k,M,z,F,I;r._RF.push({},"252de94ShdLxLFIQbxXPCxA","PopupAgreement",void 0);var G=a.ccclass,P=a.property;e("PopupAgreement",(m=G("PopupAgreement"),v=P({type:c}),T=P({type:l}),w=P({type:l}),A=P({type:l}),m((M=t((k=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(i(t),"ToggleAgree",M,i(t)),n(i(t),"LoginMyTour",z,i(t)),n(i(t),"LoginGoogle",F,i(t)),n(i(t),"LoginFacebook",I,i(t)),t}o(t,e);var r=t.prototype;return r.onEnable=function(){this.node.setScale(new g(0,0,1)),s(this.node).to(.5,{scale:new g(1,1,1)},{easing:"elasticOut"}).start(),this.node.getComponent(u).contentSize=p.getVisibleSize()},r.start=function(){this.ToggleAgree.node.on("toggle",this.OnToggle,this)},r.Show=function(e){this.LoginMyTour.node.active=e,this.LoginGoogle.node.active=!e,this.LoginFacebook.node.active=!e,this.OnToggle(this.ToggleAgree),this.node.active=!0},r.Close=function(){var e=this;s(this.node).to(.5,{scale:new g(0,0,1)},{easing:"elasticIn"}).call((function(){return e.node.active=!1})).start()},r.OnToggle=function(e){var t=e.isChecked?h.WHITE:new h("#808080");this.LoginMyTour.interactable=e.isChecked,this.LoginGoogle.interactable=e.isChecked,this.LoginFacebook.interactable=e.isChecked,this.LoginMyTour.getComponent(f).color=t,this.LoginGoogle.getComponent(f).color=t,this.LoginFacebook.getComponent(f).color=t},r.OnLoginMyTour=function(){L.GetInstance().emit(d.MAIN,{action:y.LOGIN})},t}(b)).prototype,"ToggleAgree",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(k.prototype,"LoginMyTour",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(k.prototype,"LoginGoogle",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(k.prototype,"LoginFacebook",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=k))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemBidding.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(t){"use strict";var e,i,r,n,o,a,c,l,u,p,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Sprite,l=t.Label,u=t.Color,p=t.Component},function(t){s=t.StringDateToShortDate}],execute:function(){var f,g,b,d,m,y,h,D,I,v,w;o._RF.push({},"29b29DhKDpPx6KKXVpIBp3Z","ItemBidding",void 0);var z=a.ccclass,B=a.property;t("ItemBidding",(f=z("ItemBidding"),g=B({type:c}),b=B({type:l}),d=B({type:l}),m=B({type:l}),f((D=e((h=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(n(e),"bg",D,n(e)),r(n(e),"time",I,n(e)),r(n(e),"description",v,n(e)),r(n(e),"price",w,n(e)),e}i(e,t);var o=e.prototype;return o.start=function(){},o.SetInformation=function(t,e){this.bg.color=new u(e%2==0?"#fff8ff":"#ffedfd"),this.time.string=s(t.auctionDate),this.description.string=t.programInfo.name,this.price.string=t.auctionPrice},e}(p)).prototype,"bg",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(h.prototype,"time",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(h.prototype,"description",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(h.prototype,"price",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=h))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./PopupAgreement.ts","./API.ts","./Loading.ts","./Main.ts","./Bid.ts","./PopupError.ts","./PopupInformation.ts","./PopupGift.ts","./PopupHotelDetails.ts"],(function(t){"use strict";var e,i,n,a,o,r,s,c,u,p,l,h,f,d,g,S,m,b,I,v,P,A,T,w,E,G;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.defineProperty},function(t){r=t.cclegacy,s=t._decorator,c=t.AudioSource,u=t.sys,p=t.Component},function(t){l=t.Profiles,h=t.EventName,f=t.ActionMain,d=t.UserInfos,g=t.ActionLogin,S=t.ActionBid},function(t){m=t.default},function(t){b=t.PopupAgreement},function(t){I=t.default},function(t){v=t.Loading},function(t){P=t.Main},function(t){A=t.Bid},function(t){T=t.PopupError},function(t){w=t.PopupInformation},function(t){E=t.PopupGift},function(t){G=t.PopupHotelDetails}],execute:function(){var y,N,O,M,k,L,_,R,D,U,C,F,B,H,z,j,Y,K,J,W,x;r._RF.push({},"2df67cPW6dPX48dJVTWAnOy","GameMgr",void 0);var X,q=s.ccclass,V=s.property;!function(t){t[t.INIT=0]="INIT",t[t.GET_PROGRAMS=1]="GET_PROGRAMS",t[t.LOGIN=2]="LOGIN",t[t.GET_USER_INFO=3]="GET_USER_INFO",t[t.GET_TURNS=4]="GET_TURNS",t[t.GET_REFERAL=5]="GET_REFERAL",t[t.MAIN=6]="MAIN",t[t.PLAY=7]="PLAY",t[t.BID=8]="BID"}(X||(X={}));t("GameMgr",(y=q("GameMgr"),N=V({type:P}),O=V({type:A}),M=V({type:v}),k=V({type:T}),L=V({type:b}),_=V({type:w}),R=V({type:G}),D=V({type:E}),U=V({type:c}),y((B=e((F=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(a(e),"main",B,a(e)),n(a(e),"bid",H,a(e)),n(a(e),"loading",z,a(e)),n(a(e),"popupError",j,a(e)),n(a(e),"popupAgreement",Y,a(e)),n(a(e),"popupInformation",K,a(e)),n(a(e),"popupHotelDetails",J,a(e)),n(a(e),"popupGift",W,a(e)),n(a(e),"audioTap",x,a(e)),o(a(e),"state",void 0),o(a(e),"profiles",new l),o(a(e),"userinfos",null),o(a(e),"programs",null),o(a(e),"params",void 0),e}i(e,t);var r=e.prototype;return r.start=function(){m.GetInstance().on(h.LOGIN,this.OnLoginAction,this),m.GetInstance().on(h.MAIN,this.OnMainAction,this),m.GetInstance().on(h.BID,this.OnBidAction,this),this.params=this.ParseUrl(window.location.href),this.SetState(X.INIT)},r.update=function(t){switch(this.state){case X.INIT:}},r.SetState=function(t){var e=this;switch(this.state=t,this.state){case X.INIT:this.main.node.active=!1,this.bid.node.active=!1,this.loading.node.active=!0,this.LoadProfile(),this.SetState(X.GET_PROGRAMS);break;case X.GET_PROGRAMS:I.GetPrograms().then((function(t){var i=e.ParseData(t);i instanceof Object?(e.programs=i,""!=e.profiles.token?e.SetState(X.GET_USER_INFO):e.SetState(X.LOGIN)):(e.loading.node.active=!1,e.ShowMessage(i))})).catch((function(t){e.loading.node.active=!1,e.ShowMessage(t)}));break;case X.LOGIN:this.params.token?this.OnLoginAction({action:g.LOGIN_SUCCESS,data:{token:this.params.token,platform:"mytour"}}):this.SetState(X.MAIN);break;case X.GET_USER_INFO:I.GetUserInfo(this.profiles.token).then((function(t){var i=e.ParseData(t);i instanceof Object?(e.userinfos=new d,e.userinfos.name=i.name,e.userinfos.email=i.email,e.userinfos.image=i.image,e.SetState(X.GET_TURNS)):(e.loading.node.active=!1,e.ShowMessage(i))})).catch((function(t){e.loading.node.active=!1,e.ShowMessage(t)}));break;case X.GET_TURNS:I.GetTurns(this.profiles.token).then((function(t){var i=e.ParseData(t);i instanceof Object?(e.userinfos.turns=i.currentTurn,e.SetState(X.GET_REFERAL)):(e.loading.node.active=!1,e.ShowMessage(i))})).catch((function(t){e.loading.node.active=!1,e.ShowMessage(t)}));break;case X.GET_REFERAL:I.GetReferralCode(this.profiles.token).then((function(t){var i=e.ParseData(t);i instanceof Object?(e.userinfos.code=i.referralCode,e.SetState(X.MAIN)):(e.loading.node.active=!1,e.ShowMessage(i))})).catch((function(t){e.loading.node.active=!1,e.ShowMessage(t)}));break;case X.MAIN:this.loading.node.active=!1,this.main.node.active=!0,this.main.SetInfomation({userinfos:this.userinfos,programData:this.programs,token:this.profiles.token}),m.GetInstance().emit(h.MAIN,{action:f.CHECK_ATTENDANCE}),this.SetState(X.PLAY)}},r.Bid=function(t){var e=this;this.programs.currentProgram&&null!=this.programs.currentProgram&&(this.loading.node.active=!0,I.Bid(this.programs.currentProgram.id,100*t,this.profiles.token).then((function(t){var i=e.ParseData(t);i instanceof Object?(e.userinfos.turns=i.currentTurn,e.main.SetTurn(e.userinfos.turns),e.bid.SetTurn(e.userinfos.turns),e.bid.Deal(),e.loading.node.active=!1):(e.loading.node.active=!1,e.ShowMessage(i))})).catch((function(t){e.loading.node.active=!1,e.ShowMessage(t)})))},r.LoadProfile=function(){try{var t=JSON.parse(u.localStorage.getItem("profiles"));null!=t&&(this.profiles=t)}catch(t){}},r.SaveProfiles=function(){u.localStorage.setItem("profiles",JSON.stringify(this.profiles))},r.ShowMessage=function(t){this.popupError.Show(t)},r.ParseData=function(t){try{return 200==(t=JSON.parse(t)).code?t.data:t.message}catch(t){return"Data Invalid"}},r.ParseUrl=function(t){for(var e,i=/[?&]([^=#]+)=([^&#]*)/g,n={};e=i.exec(t);)n[e[1]]=decodeURIComponent(e[2]);return n},r.Share=function(t){"mobile"==this.params.platform?window.location.href="gh://sharing?content="+t:this.ShareFallback(t)},r.ShareNative=function(t){navigator.share({url:t})},r.ShareFallback=function(t){var e=document.querySelector("web-social-share");if(e&&window){var i={displayNames:!0,config:[{facebook:{socialShareUrl:t,socialSharePopupWidth:400,socialSharePopupHeight:400}},{twitter:{socialShareUrl:t,socialSharePopupWidth:300,socialSharePopupHeight:400}},{whatsapp:{socialShareUrl:t}},{copy:{socialShareUrl:t}}]};e.share=i,e.show=!0}},r.OnLoginAction=function(t){var e=this;switch(t.action){case g.LOGIN:this.audioTap.play(),this.loading.node.active=!0,this.popupAgreement.Close();break;case g.LOGIN_SUCCESS:var i=t.data;I.Login(i.token,i.platform,this.params.code||"").then((function(t){var i=e.ParseData(t);i instanceof Object?(e.profiles.token=i.token,e.SaveProfiles(),e.SetState(X.GET_USER_INFO)):(e.loading.node.active=!1,e.ShowMessage(i))})).catch((function(t){e.loading.node.active=!1,e.ShowMessage(t)}));break;case g.LOGIN_FAIL:this.loading.node.active=!1}},r.OnMainAction=function(t){var e=this;switch(t.action){case f.PLAY:this.audioTap.play(),""!=this.profiles.token?this.programs.currentProgram&&null!=this.programs.currentProgram?(this.bid.SetInformation(this.programs.currentProgram,this.userinfos.turns),this.bid.Show((function(){e.main.node.active=!1}))):this.ShowMessage("Không có chương trình nào đang diễn ra"):this.popupAgreement.Show("mobile"==this.params.platform);break;case f.LOGIN:this.audioTap.play(),window.location.href="gh://redirect-to-login";break;case f.SHARE:this.audioTap.play(),this.Share("https://laminhtruong.github.io/mytour-auction/?code="+this.userinfos.code);break;case f.INFO:this.audioTap.play(),this.popupInformation.Show();break;case f.CHECK_ATTENDANCE:if(this.programs.currentProgram&&null!=this.programs.currentProgram&&""!=this.profiles.token){var i=this.programs.currentProgram.id;this.profiles.attendance.some((function(t){return t==i}))?this.SetState(X.PLAY):I.TakeAttendance(i,this.profiles.token).then((function(t){var n=e.ParseData(t);n instanceof Object&&(e.popupGift.Show(),e.userinfos.turns+=n.turn,e.main.SetTurn(e.userinfos.turns),e.profiles.attendance.push(i),e.SaveProfiles()),e.SetState(X.PLAY)})).catch((function(t){e.SetState(X.PLAY)}))}break;case f.EXIT:this.audioTap.play(),window.location.href="gh://exit"}},r.OnBidAction=function(t){var e=this;switch(t.action){case S.BID:this.audioTap.play(),this.Bid(t.price);break;case S.INFO:this.audioTap.play(),this.popupHotelDetails.Show(t.url);break;case S.BACK:this.audioTap.play(),this.main.node.active=!0,this.main.SetupBidding(),this.bid.Hide((function(){m.GetInstance().emit(h.MAIN,{action:f.CHECK_ATTENDANCE}),e.bid.node.active=!1}))}},e}(p)).prototype,"main",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(F.prototype,"bid",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(F.prototype,"loading",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(F.prototype,"popupError",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(F.prototype,"popupAgreement",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(F.prototype,"popupInformation",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(F.prototype,"popupHotelDetails",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(F.prototype,"popupGift",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(F.prototype,"audioTap",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=F))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemWinner.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(e){"use strict";var t,r,n,i,o,a,c,l,u,p,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Sprite,l=e.Label,u=e.Color,p=e.Component},function(e){s=e.StringDateToShortDate}],execute:function(){var f,b,g,m,y,h,w,I,v,d,z;o._RF.push({},"3559aEckTBCrqIgOqHLWCp2","ItemWinner",void 0);var D=a.ccclass,S=a.property;e("ItemWinner",(f=D("ItemWinner"),b=S({type:c}),g=S({type:l}),m=S({type:l}),y=S({type:l}),f((I=t((w=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(i(t),"bg",I,i(t)),n(i(t),"time",v,i(t)),n(i(t),"winner",d,i(t)),n(i(t),"price",z,i(t)),t}r(t,e);var o=t.prototype;return o.start=function(){},o.SetInformation=function(e,t){this.bg.color=new u(t%2==0?"#ffffff":"#ecf9ff"),this.time.string=s(e.programInfo.createdTime),this.winner.string=e.name,this.price.string=e.auctionPrice},t}(p)).prototype,"bg",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(w.prototype,"time",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(w.prototype,"winner",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(w.prototype,"price",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=w))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopupInformation.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,i,s,r,c,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.Vec3,s=t.tween,r=t.UITransform,c=t.view,a=t.Component}],execute:function(){var u;e._RF.push({},"35d6e3+Q9ZO+4eI42f4ic39","PopupInformation",void 0);var p=o.ccclass;o.property,t("PopupInformation",p("PopupInformation")(u=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onEnable=function(){this.node.setScale(new i(0,0,1)),s(this.node).to(.5,{scale:new i(1,1,1)},{easing:"elasticOut"}).start(),this.node.getComponent(r).contentSize=c.getVisibleSize()},o.start=function(){},o.Show=function(){this.node.active=!0},o.Close=function(){var t=this;s(this.node).to(.5,{scale:new i(0,0,1)},{easing:"elasticIn"}).call((function(){return t.node.active=!1})).start()},e}(a))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/Main.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./Utils.ts","./ItemBidding.ts","./API.ts","./ItemWinner.ts","./ItemProgram.ts"],(function(t){"use strict";var n,i,e,r,a,o,s,u,l,m,g,c,p,f,h,d,b,I,P,y,D,E,w,v,A,N,C,S;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.defineProperty},function(t){o=t.cclegacy,s=t._decorator,u=t.Node,l=t.sp,m=t.Label,g=t.Prefab,c=t.tween,p=t.Vec3,f=t.instantiate,h=t.UITransform,d=t.Size,b=t.Component},function(t){I=t.ProgramState,P=t.EventName,y=t.ActionMain},function(t){D=t.default},function(t){E=t.RandomInt,w=t.StringDateToTimestamp,v=t.FormatTime},function(t){A=t.ItemBidding},function(t){N=t.default},function(t){C=t.ItemWinner},function(t){S=t.ItemProgram}],execute:function(){var B,x,z,T,M,H,W,R,L,k,F,U,O,G,_,X,Y,J,V,j,K,q,Q,Z,$,tt,nt,it,et,rt,at,ot,st,ut,lt,mt,gt,ct,pt,ft,ht,dt,bt;o._RF.push({},"418ddTz9+lC7bF5livsSJvo","Main",void 0);var It,Pt=s.ccclass,yt=s.property;!function(t){t.APPEAR="APPEAR",t.DEAL="DEAL",t.IDLE="IDLE2"}(It||(It={}));t("Main",(B=Pt("Main"),x=yt({type:u}),z=yt({type:u}),T=yt({type:l.Skeleton}),M=yt({type:m}),H=yt({type:m}),W=yt({type:u}),R=yt({type:m}),L=yt({type:m}),k=yt({type:u}),F=yt({type:u}),U=yt({type:u}),O=yt({type:u}),G=yt({type:u}),_=yt({type:u}),X=yt({type:u}),Y=yt({type:g}),J=yt({type:g}),V=yt({type:g}),j=yt({type:[m]}),K=yt({type:[u]}),B((Z=n((Q=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o))||this,e(r(n),"Auction",Z,r(n)),e(r(n),"AuctionBambo",$,r(n)),e(r(n),"Hammer",tt,r(n)),e(r(n),"Hint",nt,r(n)),e(r(n),"BidName",it,r(n)),e(r(n),"Infomation",et,r(n)),e(r(n),"UserName",rt,r(n)),e(r(n),"TurnCount",at,r(n)),e(r(n),"BiddingNode",ot,r(n)),e(r(n),"BiddingContainer",st,r(n)),e(r(n),"BiddingMore",ut,r(n)),e(r(n),"WinnerNode",lt,r(n)),e(r(n),"WinnerContainer",mt,r(n)),e(r(n),"WinnerMore",gt,r(n)),e(r(n),"ProgramContainer",ct,r(n)),e(r(n),"PrefabWinner",pt,r(n)),e(r(n),"PrefabBidding",ft,r(n)),e(r(n),"PrefabProgram",ht,r(n)),e(r(n),"timeDigits",dt,r(n)),e(r(n),"FloatingItems",bt,r(n)),a(r(n),"winner",[]),a(r(n),"bidding",[]),a(r(n),"program",[]),a(r(n),"state",I.CURRENT),a(r(n),"userinfos",void 0),a(r(n),"floatingOffset",[]),a(r(n),"floatingDirection",[]),a(r(n),"floatingPositionY",[]),a(r(n),"programData",void 0),a(r(n),"winnerIndex",0),a(r(n),"biddingIndex",0),a(r(n),"token",void 0),a(r(n),"timeStart",0),a(r(n),"timeEnd",0),n}i(n,t);var o=n.prototype;return o.onEnable=function(){this.Hammer.setAnimation(0,It.APPEAR,!1)},o.start=function(){for(var t=0;t<this.FloatingItems.length;t++)this.floatingOffset[t]={y:E(0,100)/20},c(this.floatingOffset[t]).repeatForever(c(this.floatingOffset[t]).to(3,{y:5}).to(3,{y:-5})).start(),this.floatingDirection[t]=E(0,100)<50?1:-1,this.floatingPositionY[t]=this.FloatingItems[t].position.y;this.Hammer.setCompleteListener(this.OnHammerAnimationComplete.bind(this))},o.update=function(t){this.UpdateCountDown();for(var n=0;n<this.FloatingItems.length;n++)this.FloatingItems[n].setPosition(new p(this.FloatingItems[n].position.x,this.floatingPositionY[n]+this.floatingDirection[n]*this.floatingOffset[n].y,0))},o.SetInfomation=function(t){this.userinfos=t.userinfos,this.programData=t.programData,this.token=t.token||"";var n=this.programData.currentProgram;this.state=I.CURRENT,n&&null!=n||(this.programData.nextProgram.length>0?(n=this.programData.nextProgram[0],this.state=I.NEXT):this.programData.previousProgram.length>0?(n=this.programData.previousProgram[0],this.state=I.PREVIOUS):this.state=I.END),this.timeStart=w(n.createdTime),this.timeEnd=w(n.expiredTime),this.Auction.active=!n.isSpecial,this.AuctionBambo.active=n.isSpecial,this.SetupBidding(),this.SetupWinner(),this.SetupNextProgram(),this.SyncInfomationTop()},o.SetTurn=function(t){this.TurnCount.string=""+t},o.SyncInfomationTop=function(){this.userinfos?(this.UserName.string=this.userinfos.name,this.TurnCount.string=""+this.userinfos.turns,this.Infomation.active=!0):this.Infomation.active=!1,this.programData.currentProgram&&null!=this.programData.currentProgram?this.BidName.string=this.programData.currentProgram.name.toUpperCase():this.state==I.NEXT?this.BidName.string=this.programData.nextProgram[0].name:this.state!=I.PREVIOUS&&this.state!=I.END||(this.BidName.string="")},o.SetupNextProgram=function(){var t=this,n=[];this.programData.currentProgram&&null!=this.programData.currentProgram&&(n=n.concat(this.programData.currentProgram)),0==(n=n.concat(this.programData.nextProgram)).length&&(n=n.concat(this.programData.previousProgram)),this.program.forEach((function(t){return t.active=!1})),n.forEach((function(n,i){var e=null;i<t.program.length?e=t.program[i]:((e=f(t.PrefabProgram)).parent=t.ProgramContainer,t.program.push(e)),e.active=!0,e.getComponent(S).SetInformation(n)}))},o.SetupWinner=function(){var t=this;N.GetWinnerHistory().then((function(n){JSON.parse(n).data.winnerList.forEach((function(n,i){var e=null;i<t.winner.length?e=t.winner[i]:((e=f(t.PrefabWinner)).parent=t.WinnerContainer,t.winner.push(e)),e.getComponent(C).SetInformation(n,i)})),t.ExpandWinner()})).catch((function(t){}))},o.SetupBidding=function(){var t=this;this.biddingIndex=0,""!=this.token?N.GetBiddingHistory(this.token).then((function(n){JSON.parse(n).data.listAuction.forEach((function(n,i){var e=null;i<t.bidding.length?e=t.bidding[i]:((e=f(t.PrefabBidding)).parent=t.BiddingContainer,t.bidding.push(e)),e.getComponent(A).SetInformation(n,i)})),t.ExpandBidding()})).catch((function(t){})):this.ExpandBidding()},o.UpdateCountDown=function(){var t=this,n=0;""!=this.BidName.string?(this.state==I.CURRENT?((n=this.timeEnd-(new Date).getTime())<0&&(n=0,this.programData.currentProgram=null,this.SetInfomation({userinfos:this.userinfos,programData:this.programData,token:this.token})),this.Hint.string="Phiên đấu giá sẽ kết thúc trong"):this.state==I.NEXT&&((n=this.timeStart-(new Date).getTime())<0&&(n=0,this.programData.currentProgram=this.programData.nextProgram.shift(),this.SetInfomation({userinfos:this.userinfos,programData:this.programData,token:this.token}),D.GetInstance().emit(P.MAIN,{action:y.CHECK_ATTENDANCE})),this.Hint.string="Phiên đấu giá sẽ diễn ra trong"),v(n).split("").forEach((function(n,i){t.timeDigits[i].string=n}))):this.Hint.string="Chương trình đã kết thúc"},o.Play=function(){D.GetInstance().emit(P.MAIN,{action:y.PLAY})},o.Share=function(){D.GetInstance().emit(P.MAIN,{action:y.SHARE})},o.Info=function(){D.GetInstance().emit(P.MAIN,{action:y.INFO})},o.Exit=function(){D.GetInstance().emit(P.MAIN,{action:y.EXIT})},o.ExpandBidding=function(){this.biddingIndex=Math.min(this.biddingIndex+3,this.bidding.length);var t=this.BiddingNode.getComponent(h);c(t).to(.5,{contentSize:new d(750,94*(this.biddingIndex+3)+50)},{easing:"sineIn"}).start(),this.BiddingMore.active=this.bidding.length!=this.biddingIndex},o.ExpandWinner=function(){this.winnerIndex=Math.min(this.winnerIndex+3,this.winner.length);var t=this.WinnerNode.getComponent(h);c(t).to(.5,{contentSize:new d(750,94*(this.winnerIndex+3)+50)},{easing:"sineIn"}).start(),this.WinnerMore.active=this.winner.length!=this.winnerIndex},o.Deal=function(){this.Hammer.getCurrent(0).animation.name!=It.DEAL&&this.Hammer.setAnimation(0,It.DEAL,!1)},o.OnHammerAnimationComplete=function(t){switch(t.animation.name){case It.APPEAR:case It.DEAL:this.Hammer.setAnimation(0,It.IDLE,!0)}},n}(b)).prototype,"Auction",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(Q.prototype,"AuctionBambo",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=n(Q.prototype,"Hammer",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=n(Q.prototype,"Hint",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=n(Q.prototype,"BidName",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=n(Q.prototype,"Infomation",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=n(Q.prototype,"UserName",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=n(Q.prototype,"TurnCount",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=n(Q.prototype,"BiddingNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=n(Q.prototype,"BiddingContainer",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=n(Q.prototype,"BiddingMore",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=n(Q.prototype,"WinnerNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=n(Q.prototype,"WinnerContainer",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=n(Q.prototype,"WinnerMore",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=n(Q.prototype,"ProgramContainer",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=n(Q.prototype,"PrefabWinner",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=n(Q.prototype,"PrefabBidding",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=n(Q.prototype,"PrefabProgram",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=n(Q.prototype,"timeDigits",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bt=n(Q.prototype,"FloatingItems",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=Q))||q));o._RF.pop()}}}));

System.register("chunks:///_virtual/ItemNotification.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,n,e,r,o,a,c,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Label,l=t.Component}],execute:function(){var s,u,f,p,m;o._RF.push({},"45db9SjQ7xMLrjPwl8puXSz","ItemNotification",void 0);var y=a.ccclass,h=a.property;t("ItemNotification",(s=y("ItemNotification"),u=h(c),s((m=i((p=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,e(r(i),"information",m,r(i)),i}n(i,t);var o=i.prototype;return o.start=function(){},o.SetInformation=function(t){this.information.string=t.name+" vừa ra giá lúc "+t.time.split(" ")[0]},i}(l)).prototype,"information",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=p))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/Defines.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var i,t;return{setters:[function(n){i=n.defineProperty},function(n){t=n.cclegacy}],execute:function(){var e,o,c,N,s;n({ActionBid:void 0,ActionLogin:void 0,ActionMain:void 0,EventName:void 0,ProgramState:void 0}),t._RF.push({},"71218fYhlJHzoDWjLv2DGMl","Defines",void 0),function(n){n.LOGIN="event_login",n.MAIN="event_main",n.BID="event_bid"}(e||(e=n("EventName",{}))),function(n){n[n.LOGIN=0]="LOGIN",n[n.LOGIN_SUCCESS=1]="LOGIN_SUCCESS",n[n.LOGIN_FAIL=2]="LOGIN_FAIL"}(o||(o=n("ActionLogin",{}))),function(n){n[n.PLAY=0]="PLAY",n[n.LOGIN=1]="LOGIN",n[n.SHARE=2]="SHARE",n[n.INFO=3]="INFO",n[n.CHECK_ATTENDANCE=4]="CHECK_ATTENDANCE",n[n.EXIT=5]="EXIT"}(c||(c=n("ActionMain",{}))),function(n){n[n.BID=0]="BID",n[n.INFO=1]="INFO",n[n.BACK=2]="BACK"}(N||(N=n("ActionBid",{}))),function(n){n[n.PREVIOUS=0]="PREVIOUS",n[n.CURRENT=1]="CURRENT",n[n.NEXT=2]="NEXT",n[n.END=3]="END"}(s||(s=n("ProgramState",{})));n("Profiles",(function(){i(this,"token",""),i(this,"attendance",[])})),n("UserInfos",(function(){i(this,"name",""),i(this,"email",""),i(this,"image",""),i(this,"code",""),i(this,"turns",0)}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ItemProgram.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(t){"use strict";var e,i,r,n,o,a,l,u,c,p,s,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Node,u=t.Label,c=t.Sprite,p=t.Component},function(t){s=t.StringDateToShortDate,m=t.GetSpriteFromUrl}],execute:function(){var b,f,g,h,y,v,z,P,d,S,w,B,I,D,_;o._RF.push({},"7b38eim8h9B5ozHT5BG2m7Y","ItemProgram",void 0);var k=a.ccclass,F=a.property;t("ItemProgram",(b=k("ItemProgram"),f=F({type:l}),g=F({type:l}),h=F({type:u}),y=F({type:u}),v=F({type:u}),z=F({type:c}),b((S=e((d=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(n(e),"bgPink",S,n(e)),r(n(e),"bgBlue",w,n(e)),r(n(e),"time",B,n(e)),r(n(e),"hotel",I,n(e)),r(n(e),"location",D,n(e)),r(n(e),"thumnail",_,n(e)),e}i(e,t);var o=e.prototype;return o.start=function(){},o.SetInformation=function(t){var e=this;this.time.string=s(t.createdTime,!1),this.hotel.string=t.name,this.location.string=t.description.toUpperCase(),this.bgPink.active=!t.isSpecial,this.bgBlue.active=t.isSpecial,m(t.imageUrl).then((function(t){e.thumnail.spriteFrame=t})).catch((function(t){}))},e}(p)).prototype,"bgPink",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(d.prototype,"bgBlue",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(d.prototype,"time",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(d.prototype,"hotel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(d.prototype,"location",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(d.prototype,"thumnail",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=d))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopupHotelDetails.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,o,r,s,a,c,l,u,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.WebView,c=e.Vec3,l=e.tween,u=e.UITransform,p=e.view,f=e.Component}],execute:function(){var h,v,d,w,b;r._RF.push({},"82efdr/+I1H77zDUZrAIwdH","PopupHotelDetails",void 0);var y=s.ccclass,g=s.property;e("PopupHotelDetails",(h=y("PopupHotelDetails"),v=g({type:a}),h((b=t((w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(o(t),"Webview",b,o(t)),t}n(t,e);var r=t.prototype;return r.onEnable=function(){this.node.setScale(new c(0,0,1)),l(this.node).to(.5,{scale:new c(1,1,1)},{easing:"elasticOut"}).start(),this.node.getComponent(u).contentSize=p.getVisibleSize()},r.start=function(){},r.Show=function(e){this.node.active=!0,this.Webview.url=e},r.Close=function(){var e=this;l(this.node).to(.5,{scale:new c(0,0,1)},{easing:"elasticIn"}).call((function(){return e.node.active=!1})).start()},t}(f)).prototype,"Webview",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=w))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/Timer.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e;return{setters:[function(t){i=t.defineProperty},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"83182rhGv5E5o+cQT5d7b3o","Timer",void 0);t("default",function(){function t(){i(this,"timer",0),i(this,"duration",0),i(this,"overhead",0),i(this,"isDone",!0)}var e=t.prototype;return e.SetDuration=function(t){this.timer=this.duration=t,this.overhead=0,this.isDone=!1},e.AddTime=function(t){this.timer+=t,this.overhead=0,this.isDone=!1},e.GetTimePercent=function(){return this.timer/this.duration},e.Reset=function(){this.timer=this.duration,this.overhead=0,this.isDone=!1},e.IsDone=function(){return 0==this.timer},e.JustFinished=function(){return!(this.timer>0)&&(!this.isDone&&(this.isDone=!0,!0))},e.Update=function(t){0!=this.timer&&(this.timer-=t,this.timer<0&&(this.overhead=-this.timer,this.timer=0))},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Login.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts"],(function(o){"use strict";var t,e,n,i,a,s,c,g,l;return{setters:[function(o){t=o.inheritsLoose,e=o.defineProperty,n=o.assertThisInitialized},function(o){i=o.cclegacy,a=o._decorator,s=o.Component},function(o){c=o.EventName,g=o.ActionLogin},function(o){l=o.default}],execute:function(){var u;i._RF.push({},"88819R1zIVFQawyuDuWo1i2","Login",void 0);var r=a.ccclass;a.property,o("Login",r("Login")(u=function(o){function i(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=o.call.apply(o,[this].concat(a))||this,e(n(t),"fbSDK",null),e(n(t),"googleApi",null),e(n(t),"googleAuth",null),e(n(t),"googleUser",null),t}t(i,o);var a=i.prototype;return a.onLoad=function(){this.fbSDK=window.FB,this.googleApi=window.gapi,this.googleApi.load("auth2",this.GoogleApiLoaded.bind(this))},a.update=function(o){},a.FacebookLogin=function(){var o=this;this.fbSDK.getLoginStatus((function(t){var e="";"connected"===t.status?(e=t.authResponse.accessToken,l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_SUCCESS,data:{platform:"facebook",token:e}})):(l.GetInstance().emit(c.LOGIN,{action:g.LOGIN,data:{platform:"facebook"}}),o.fbSDK.login((function(o){o.authResponse?(e=o.authResponse.accessToken,l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_SUCCESS,data:{platform:"facebook",token:e}})):l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_FAIL,data:{platform:"facebook"}})})))}))},a.GoogleLogin=function(){this.googleAuth&&(this.googleAuth.signIn().then((function(o){var t=o.getAuthResponse().access_token;l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_SUCCESS,data:{platform:"google",token:t}})})).catch((function(o){l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_FAIL,data:{platform:"google"}})})),l.GetInstance().emit(c.LOGIN,{action:g.LOGIN,data:{platform:"google"}}))},a.GoogleApiLoaded=function(){this.googleAuth=this.googleApi.auth2.init({client_id:"22807595564-aphe2ofiu08oo4aq01dauj5dibstl4pk.apps.googleusercontent.com",scope:"profile"}),1==this.googleAuth.isSignedIn.get()&&this.GoogleLogin()},a.GoogleSigninChanged=function(o){console.log(o)},a.GoogleUserChanged=function(o){var t=o.getAuthResponse().access_token;null!=t&&l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_SUCCESS,data:{platform:"google",token:t}})},i}(s))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/Bid.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./Utils.ts","./API.ts","./Timer.ts","./ItemNotification.ts"],(function(t){"use strict";var i,e,n,o,r,a,c,s,l,u,h,f,m,p,g,d,D,b,P,B,v,y,T,w,I,A,E,N,S,z,C,L,x;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.defineProperty},function(t){a=t.cclegacy,c=t._decorator,s=t.Sprite,l=t.Label,u=t.Node,h=t.sp,f=t.ParticleSystem,m=t.EditBox,p=t.UITransform,g=t.HorizontalTextAlignment,d=t.Overflow,D=t.Vec3,b=t.Color,P=t.tween,B=t.view,v=t.Size,y=t.AudioSource,T=t.Component},function(t){w=t.EventName,I=t.ActionBid},function(t){A=t.default},function(t){E=t.FormatTime,N=t.RandomInt,S=t.StringDateToTimestamp,z=t.GetSpriteFromUrl},function(t){C=t.default},function(t){L=t.default},function(t){x=t.ItemNotification}],execute:function(){var k,G,H,O,_,R,F,U,M,V,K,j,q,J,X,Z,Q,W,Y,$,tt,it,et,nt,ot,rt,at;a._RF.push({},"abe62Rom6RGOZBhSfqtMLHb","Bid",void 0);var ct,st=c.ccclass,lt=c.property;!function(t){t.APPEAR="APPEAR",t.DEAL="DEAL",t.IDLE="IDLE2"}(ct||(ct={}));t("Bid",(k=st("Bid"),G=lt({type:s}),H=lt({type:l}),O=lt({type:u}),_=lt({type:u}),R=lt({type:h.Skeleton}),F=lt({type:f}),U=lt({type:l}),M=lt({type:l}),V=lt({type:m}),K=lt({type:u}),j=lt({type:[l]}),q=lt({type:[u]}),k((Z=i((X=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];return i=t.call.apply(t,[this].concat(a))||this,n(o(i),"Background",Z,o(i)),n(o(i),"BestPrice",Q,o(i)),n(o(i),"Auction",W,o(i)),n(o(i),"AuctionBambo",Y,o(i)),n(o(i),"Hammer",$,o(i)),n(o(i),"ParticleBid",tt,o(i)),n(o(i),"BidName",it,o(i)),n(o(i),"TurnCount",et,o(i)),n(o(i),"Price",nt,o(i)),n(o(i),"PriceDigit",ot,o(i)),n(o(i),"TimeDigits",rt,o(i)),n(o(i),"Notifications",at,o(i)),r(o(i),"notificationTimer",new L),r(o(i),"fetchTimer",new L),r(o(i),"program",void 0),r(o(i),"notificationData",[]),r(o(i),"timeStart",void 0),r(o(i),"timeEnd",void 0),r(o(i),"scrollDir",-1),r(o(i),"isBacking",void 0),r(o(i),"isScroll",void 0),i}e(i,t);var a=i.prototype;return a.onEnable=function(){this.Hammer.setAnimation(0,ct.APPEAR,!1),this.PriceDigit.active=""!=this.Price.textLabel.string,this.isBacking=!1,this.Background.node.active=!1},a.start=function(){this.notificationTimer.SetDuration(1),this.fetchTimer.SetDuration(30),this.Price.node.on(m.EventType.EDITING_DID_BEGAN,this.OnPriceStart,this),this.Price.node.on(m.EventType.EDITING_DID_ENDED,this.OnPriceEnd,this),this.Price.node.on(m.EventType.TEXT_CHANGED,this.OnPriceChange,this);var t=this.Price._impl._edTxt;t.style.setProperty("color","black"),t.style.setProperty("-webkit-text-fill-color","transparent"),this.Hammer.setCompleteListener(this.OnHammerAnimationComplete.bind(this))},a.update=function(t){var i=this,e=this.timeEnd-(new Date).getTime();if(e>=0)E(e).split("").forEach((function(t,e){i.TimeDigits[e].string=t}));else if(!this.isBacking)return A.GetInstance().emit(w.BID,{action:I.BACK}),void(this.isBacking=!0);this.notificationData.length>0&&(this.notificationTimer.Update(t),this.notificationTimer.IsDone()&&this.notificationData.length>this.Notifications.length&&(this.NotificationTransition(),this.notificationTimer.SetDuration(N(100,500)/100))),this.fetchTimer.Update(t),this.fetchTimer.IsDone()&&this.notificationData.length<10&&(this.SyncNotification(),this.fetchTimer.Reset());var n=this.BestPrice.getComponent(p);if(n.contentSize.width>505)this.BestPrice.horizontalAlign=g.LEFT,this.BestPrice.overflow=d.NONE,this.BestPrice.node.setPosition(this.BestPrice.node.position.add(new D(60*this.scrollDir*t,0,0))),this.scrollDir>0?this.BestPrice.node.position.x>50&&(this.scrollDir*=-1):this.BestPrice.node.position.x<-(n.contentSize.width-505+50)&&(this.scrollDir*=-1);else{var o=(505-n.contentSize.width)/2;this.BestPrice.node.setPosition(new D(o,0,0))}this.Price._showLabels()},a.SyncNotification=function(){var t=this;C.GetBiddingRecent().then((function(i){var e=JSON.parse(i).data;t.notificationData=t.notificationData.concat(e.recentBidList),t.notificationData.length>t.Notifications.length&&t.NotificationUpdateInfo();var n=e.bestBidding;t.BestPrice.string=n.name+" vừa ra giá trong khoảng "+t.FormatPrice(""+n.from)+" - "+t.FormatPrice(""+n.to)})).catch((function(t){}))},a.NotificationUpdateInfo=function(){var t=this;this.Notifications.forEach((function(i,e){var n=t.NotificationGetAlpha(e);i.getComponent(s).color=new b(255,255,255,n.start),i.getComponent(x).SetInformation(t.notificationData[e]),i.active=!0})),this.fetchTimer.IsDone()&&this.notificationData.length<10&&(this.SyncNotification(),this.fetchTimer.Reset())},a.NotificationGetAlpha=function(t){var i=150*[1,2,1,0][t],e=150*[0,1,2,1][t];return{start:i=Math.min(Math.max(i,1),255),end:e=Math.min(Math.max(e,1),255)}},a.NotificationTransition=function(){var t=this;this.Notifications.forEach((function(i,e){var n=t.NotificationGetAlpha(e),o=i.position;P(i).to(.75,{position:new D(o.x,o.y+40,0)}).start();var r=i.getComponent(s);r.color=new b(255,255,255,n.start),P(r).to(.75,{color:{r:255,g:255,b:255,a:n.end}},{easing:"sineIn"}).call((function(){0==e&&t.notificationData.length>t.Notifications.length&&(t.notificationData.shift(),t.NotificationUpdateInfo()),i.position=new D(o.x,o.y-40,0),r.color=new b(255,255,255,n.start)})).start()}))},a.Show=function(t){var i=B.getVisibleSize();this.node.active=!0,this.node.position=new D(0,i.height,0),P(this.node).to(1,{position:new D(0,0,0)},{easing:"expoOut"}).call((function(){return t()})).start(),this.notificationData=[],this.Notifications.forEach((function(t){return t.active=!1})),this.SyncNotification()},a.Hide=function(t){var i=B.getVisibleSize();P(this.node).to(1,{position:new D(0,i.height,0)},{easing:"expoOut"}).call((function(){return t()})).start()},a.SetInformation=function(t,i){var e=this;this.program=t,this.timeStart=S(t.createdTime),this.timeEnd=S(t.expiredTime),this.BidName.string=t.name.toUpperCase(),this.TurnCount.string=""+i,this.Auction.active=!t.isSpecial,this.AuctionBambo.active=t.isSpecial,z(t.imageUrl).then((function(t){e.Background.getComponent(p).setContentSize(new v(t.width,t.height)),e.Background.spriteFrame=t,e.Background.node.active=!0})).catch((function(t){}))},a.SetTurn=function(t){this.TurnCount.string=""+t},a.OnPriceChange=function(t){var i=this.FormatPrice(t.string+"00");this.Price.textLabel.string=i.substring(0,i.length-2),this.PriceDigit.active=t.string.length>0},a.FormatPrice=function(t){return t.length>0?(""+parseInt(t)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):t},a.Bid=function(){var t=this.Price.textLabel.string.replace(".","");t.length>0&&A.GetInstance().emit(w.BID,{action:I.BID,price:parseInt(t)})},a.Info=function(){A.GetInstance().emit(w.BID,{action:I.INFO,url:this.program.landingPage})},a.Back=function(){A.GetInstance().emit(w.BID,{action:I.BACK})},a.Deal=function(){this.Price.string="",this.Price.textLabel.string="",this.PriceDigit.active=!1,this.Hammer.setAnimation(0,ct.DEAL,!1)},a.OnHammerAnimationComplete=function(t){switch(t.animation.name){case ct.APPEAR:this.Hammer.setAnimation(0,ct.IDLE,!0);break;case ct.DEAL:this.Hammer.setAnimation(0,ct.IDLE,!0),this.ParticleBid.play(),this.ParticleBid.getComponent(y).play()}},i}(T)).prototype,"Background",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(X.prototype,"BestPrice",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(X.prototype,"Auction",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(X.prototype,"AuctionBambo",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(X.prototype,"Hammer",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=i(X.prototype,"ParticleBid",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(X.prototype,"BidName",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=i(X.prototype,"TurnCount",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=i(X.prototype,"Price",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=i(X.prototype,"PriceDigit",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=i(X.prototype,"TimeDigits",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),at=i(X.prototype,"Notifications",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=X))||J));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopupGift.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,o,a,r,s,c,l,u,f,p,h,d,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.sp,c=t.ParticleSystem,l=t.Node,u=t.Vec3,f=t.tween,p=t.UITransform,h=t.view,d=t.AudioSource,m=t.Component}],execute:function(){var v,g,G,y,C,b,w,O,P;a._RF.push({},"ae5e6oHii1DAp8iAq9daOTv","PopupGift",void 0);var A,D=r.ccclass,E=r.property;!function(t){t.DROP="drop",t.IDLE="idle3",t.OPEN="explosion2"}(A||(A={}));t("PopupGift",(v=D("PopupGift"),g=E({type:s.Skeleton}),G=E({type:c}),y=E({type:l}),v((w=i((b=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,n(o(i),"Gift",w,o(i)),n(o(i),"Confetti",O,o(i)),n(o(i),"Congratulation",P,o(i)),i}e(i,t);var a=i.prototype;return a.onEnable=function(){var t=this;this.node.setScale(new u(0,0,1)),f(this.node).to(.5,{scale:new u(1,1,1)},{easing:"elasticOut"}).call((function(){t.Gift.node.active=!0,t.Gift.setAnimation(0,A.DROP,!1)})).start(),this.node.getComponent(p).contentSize=h.getVisibleSize(),this.Gift.setCompleteListener(this.OnGiftAnimationComplete.bind(this)),this.Gift.setEventListener(this.OnGiftAnimationEvent.bind(this))},a.start=function(){},a.Show=function(){this.Congratulation.active=!1,this.Gift.node.active=!1,this.node.active=!0},a.Close=function(){var t=this;f(this.node).to(.5,{scale:new u(0,0,1)},{easing:"elasticIn"}).call((function(){return t.node.active=!1})).start()},a.OpenGift=function(){this.Gift.setAnimation(0,A.OPEN,!1)},a.OnGiftAnimationComplete=function(t){switch(t.animation.name){case A.DROP:this.Gift.setAnimation(0,A.IDLE,!0);break;case A.OPEN:this.Gift.node.active=!1}},a.OnGiftAnimationEvent=function(t,i){switch(i.data.name){case"Firework":this.Confetti.play(),this.Confetti.getComponent(d).play();break;case"Voucher":this.Congratulation.active=!0,this.Congratulation.setScale(new u(0,0,1)),f(this.Congratulation).to(.5,{scale:new u(1,1,1)},{easing:"elasticOut"}).start()}},i}(m)).prototype,"Gift",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(b.prototype,"Confetti",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(b.prototype,"Congratulation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=b))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopupError.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,o,i,s,a,c,l,u,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,a=e.Label,c=e.Vec3,l=e.tween,u=e.UITransform,p=e.view,f=e.Component}],execute:function(){var h,g,d,v,y;i._RF.push({},"cd786OL4KtC4rtPw+E8R6+f","PopupError",void 0);var w=s.ccclass,m=s.property;e("PopupError",(h=w("PopupError"),g=m({type:a}),h((y=t((v=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,r(o(t),"message",y,o(t)),t}n(t,e);var i=t.prototype;return i.onEnable=function(){this.node.setScale(new c(0,0,1)),l(this.node).to(.5,{scale:new c(1,1,1)},{easing:"elasticOut"}).start()},i.start=function(){},i.Show=function(e){this.message.string=e,this.node.active=!0,this.node.getComponent(u).contentSize=p.getVisibleSize()},i.Close=function(){var e=this;l(this.node).to(.5,{scale:new c(0,0,1)},{easing:"elasticIn"}).call((function(){return e.node.active=!1})).start()},t}(f)).prototype,"message",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=v))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){"use strict";var e,r,n,a;return{setters:[function(t){e=t.cclegacy,r=t.assetManager,n=t.SpriteFrame,a=t.Texture2D}],execute:function(){function i(t){return t<10?"0"+t:t}t({FormatTime:function(t){var e=Math.floor(t/1e3),r=3600,n=Math.floor(e/r),a=Math.floor((e-n*r)/60),o=e-n*r-60*a;n>100&&(n=99);return""+i(n)+i(a)+i(o)},GetSpriteFromUrl:function(t){return new Promise((function(e,i){r.loadRemote(t,{xhrMimeType:"image/png"},(function(t,r){if(t)i(null);else{var o=new n,s=new a;s.image=r,o.texture=s,e(o)}}))}))},RandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},StringDateToShortDate:function(t,e){void 0===e&&(e=!0);try{var r=t.split(" "),n=r[0].split(":"),a=r[1].split("-");return e?a[0]+"/"+a[1]+"\n"+n[0]+":"+n[1]:n[0]+":"+n[1]+" - "+a[0]+"/"+a[1]}catch(e){return t}},StringDateToTimestamp:function(t){try{var e=t.split(" "),r=e[0].split(":"),n=e[1].split("-");return new Date(parseInt(n[2]),parseInt(n[1])-1,parseInt(n[0]),parseInt(r[0]),parseInt(r[1]),parseInt(r[2])).getTime()}catch(t){return(new Date).getTime()}},convert2Character:i}),e._RF.push({},"ceaaasKiCFOKJzHWmAeEI8E","Utils",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,i,r,o,a,c,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Node,u=t.Component}],execute:function(){var s,l,p,f,d;o._RF.push({},"f2b2fXBSjhBZ4KwKnXZ/HX5","Loading",void 0);var g=a.ccclass,y=a.property;t("Loading",(s=g("Loading"),l=y({type:c}),s((d=n((f=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,i(r(n),"icon",d,r(n)),n}e(n,t);var o=n.prototype;return o.start=function(){},o.update=function(t){this.icon.angle-=120*t},n}(u)).prototype,"icon",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,r,i,s;return{setters:[function(n){t=n.inheritsLoose,e=n.defineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,s=n.EventTarget}],execute:function(){i._RF.push({},"f8ad5rydN9EIZ62nOSFY4Dg","EventMgr",void 0);n("default",new(function(n){function i(){for(var t,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return t=n.call.apply(n,[this].concat(s))||this,e(r(t),"instance",null),t}return t(i,n),i.prototype.GetInstance=function(){return null==this.instance&&(this.instance=new i),this.instance},i}(s)));i._RF.pop()}}}));

System.register("chunks:///_virtual/API.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"fbcf8GwQ39CFpEpDpslNfpR","API",void 0);e("default",new(function(){function e(){}var t=e.prototype;return t.Request=function(e,t,n,r){var i=this;void 0===r&&(r=null);return new Promise((function(o,u){var a=new XMLHttpRequest;a.open(e,"https://gate.dev.tripi.vn/tripi-feed"+t,!0),a.setRequestHeader("Content-type","application/json"),a.setRequestHeader("version","1.0"),a.setRequestHeader("appId","tripi-feed"),a.setRequestHeader("appHash",i.GetHash()),null!=r&&a.setRequestHeader("ge-token",r),a.onreadystatechange=function(){4==a.readyState&&(200==a.status?o(a.response):u(a.response))},a.send(n)}))},t.GetHash=function(){var e=(new Date).getTime(),t=(e=e/1e3-e/1e3%300)+":AsnasjldknsajalLASASs86876n4oadn5aod3nlNSLA",n=window.CryptoJS;return n.enc.Base64.stringify(n.SHA256(t))},t.Login=function(e,t,n){var r={accessToken:e,providerName:t,programCode:"auction",referralCode:n};return this.Request("post","/login/oauth2",JSON.stringify(r))},t.Bid=function(e,t,n){var r={programCode:"auction",programId:e,auctionPrice:t};return this.Request("post","/auction/bid",JSON.stringify(r),n)},t.TakeAttendance=function(e,t){return this.Request("get","/auction/take-attendance?programCode=auction&programId="+e,null,t)},t.GetReferralCode=function(e){return this.Request("get","/auction/get-referral-code",null,e)},t.GetUserInfo=function(e){return this.Request("get","/get-user-info",null,e)},t.GetTurns=function(e){return this.Request("get","/auction/get-available-turn?programCode=auction",null,e)},t.GetBiddingHistory=function(e){return this.Request("get","/auction/get-bidding-history?programCode=auction",null,e)},t.GetPrograms=function(){return this.Request("get","/auction/get-program-info?programCode=auction",null)},t.GetWinnerHistory=function(){return this.Request("get","/auction/get-winner-history?programCode=auction",null)},t.GetBiddingRecent=function(){return this.Request("get","/auction/get-recent-bidding?programCode=auction",null)},e}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Defines.ts","./EventMgr.ts","./PopupAgreement.ts","./Utils.ts","./ItemBidding.ts","./API.ts","./Loading.ts","./ItemWinner.ts","./ItemProgram.ts","./Main.ts","./Timer.ts","./ItemNotification.ts","./Bid.ts","./PopupError.ts","./PopupInformation.ts","./PopupGift.ts","./PopupHotelDetails.ts","./GameMgr.ts","./Login.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});