System.register("chunks:///_virtual/ItemBidding.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(t){"use strict";var e,i,n,r,o,a,s,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Label,u=t.Component},function(t){c=t.StringDateToShortDate}],execute:function(){var l,p,f,d,g,m,y,b,h;o._RF.push({},"29b29DhKDpPx6KKXVpIBp3Z","ItemBidding",void 0);var D=a.ccclass,I=a.property;t("ItemBidding",(l=D("ItemBidding"),p=I({type:s}),f=I({type:s}),d=I({type:s}),l((y=e((m=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(r(e),"time",y,r(e)),n(r(e),"description",b,r(e)),n(r(e),"status",h,r(e)),e}i(e,t);var o=e.prototype;return o.start=function(){},o.SetInformation=function(t){this.time.string=c(t.auctionDate),this.description.string=t.programInfo.content,this.status.string=t.status},e}(u)).prototype,"time",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(m.prototype,"description",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=e(m.prototype,"status",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./API.ts","./EventMgr.ts","./Loading.ts","./Defines.ts","./Login.ts","./Main.ts","./Bid.ts","./Message.ts"],(function(e){"use strict";var t,n,i,a,o,r,s,c,u,l,h,f,d,g,p,S,m,v,I,b,N,w,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.defineProperty,r=e.asyncToGenerator},function(e){s=e.cclegacy,c=e._decorator,u=e.sys,l=e.Component},function(e){h=e.default},function(e){f=e.default},function(e){d=e.Loading},function(e){g=e.Profiles,p=e.UserInfos,S=e.EventName,m=e.ActionLogin,v=e.ActionMain,I=e.ActionBid},function(e){b=e.Login},function(e){N=e.Main},function(e){w=e.Bid},function(e){T=e.Message}],execute:function(){var A,G,M,O,k,P,E,y,R,_,L,D,U;s._RF.push({},"2df67cPW6dPX48dJVTWAnOy","GameMgr",void 0);var B,C=c.ccclass,F=c.property;!function(e){e[e.INIT=0]="INIT",e[e.GET_PROGRAMS=1]="GET_PROGRAMS",e[e.LOGIN=2]="LOGIN",e[e.GET_USER_INFO=3]="GET_USER_INFO",e[e.GET_TURNS=4]="GET_TURNS",e[e.ATTENDANCE=5]="ATTENDANCE",e[e.MAIN=6]="MAIN",e[e.BID=7]="BID"}(B||(B={}));e("GameMgr",(A=C("GameMgr"),G=F({type:b}),M=F({type:N}),O=F({type:w}),k=F({type:d}),P=F({type:T}),A((R=t((y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(a(t),"login",R,a(t)),i(a(t),"main",_,a(t)),i(a(t),"bid",L,a(t)),i(a(t),"loading",D,a(t)),i(a(t),"message",U,a(t)),o(a(t),"state",void 0),o(a(t),"profiles",new g),o(a(t),"userinfos",new p),o(a(t),"programs",null),o(a(t),"params",void 0),t}n(t,e);var s=t.prototype;return s.start=function(){f.GetInstance().on(S.LOGIN,this.OnLoginAction,this),f.GetInstance().on(S.MAIN,this.OnMainAction,this),f.GetInstance().on(S.BID,this.OnBidAction,this),this.params=this.ParseUrl(window.location.href),this.SetState(B.INIT)},s.update=function(e){switch(this.state){case B.INIT:}},s.SetState=function(e){var t=this;switch(this.state=e,this.state){case B.INIT:this.login.node.active=!1,this.main.node.active=!1,this.bid.node.active=!1,this.loading.node.active=!0,this.LoadProfile(),this.SetState(B.GET_PROGRAMS);break;case B.GET_PROGRAMS:h.GetPrograms().then((function(e){var n=t.ParseData(e);n instanceof Object?(t.programs=n,""!=t.profiles.token?t.SetState(B.GET_USER_INFO):t.SetState(B.LOGIN)):(t.loading.node.active=!1,t.ShowMessage(n))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case B.LOGIN:"mobile"==this.params.platform?this.params.token?this.OnLoginAction({action:m.LOGIN_SUCCESS,data:{token:this.params.token,platform:"mytour"}}):this.SetState(B.MAIN):(this.loading.node.active=!1,this.login.node.active=!0);break;case B.GET_USER_INFO:h.GetUserInfo(this.profiles.token).then((function(e){var n=t.ParseData(e);n instanceof Object?(t.userinfos.name=n.name,t.userinfos.email=n.email,t.userinfos.image=n.image,t.SetState(B.GET_TURNS)):(t.loading.node.active=!1,t.ShowMessage(n))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case B.GET_TURNS:h.GetTurns(this.profiles.token).then((function(e){var n=t.ParseData(e);n instanceof Object?(t.userinfos.turns=n.currentTurn,t.SetState(B.ATTENDANCE)):(t.loading.node.active=!1,t.ShowMessage(n))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case B.ATTENDANCE:var n=this.programs.currentProgram.id;this.profiles.attendance.some((function(e){return e==n}))?this.SetState(B.MAIN):h.TakeAttendance(n,this.profiles.token).then((function(e){t.profiles.attendance.push(n),t.SaveProfiles(),t.SetState(B.MAIN)})).catch((function(e){t.SetState(B.MAIN)}));break;case B.MAIN:this.login.node.active=!1,this.loading.node.active=!1,this.main.SetInfomation({userinfos:this.userinfos,programData:this.programs,token:this.profiles.token}),this.main.node.active=!0;break;case B.BID:this.Bid(1200)}},s.Bid=function(e){var t=this;this.loading.node.active=!0,h.Bid(this.programs.currentProgram.id,e,this.profiles.token).then((function(e){var n=t.ParseData(e);n instanceof Object?(t.userinfos.turns=n.currentTurn,t.bid.SetInformation(t.programs.currentProgram,t.userinfos.turns),t.loading.node.active=!1):(t.loading.node.active=!1,t.ShowMessage(n))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}))},s.LoadProfile=function(){try{var e=JSON.parse(u.localStorage.getItem("profiles"));null!=e&&(this.profiles=e)}catch(e){}},s.SaveProfiles=function(){u.localStorage.setItem("profiles",JSON.stringify(this.profiles))},s.ShowMessage=function(e){this.message.Show(e)},s.ParseData=function(e){try{return 200==(e=JSON.parse(e)).code?e.data:e.message}catch(e){return"Data Invalid"}},s.ParseUrl=function(e){for(var t,n=/[?&]([^=#]+)=([^&#]*)/g,i={};t=n.exec(e);)i[t[1]]=decodeURIComponent(t[2]);return i},s.Share=function(e){"mobile"==this.params.platform?window.location.href="gh://sharing?content="+e:this.ShareFallback(e)},s.ShareNative=function(e){return new Promise(function(){var t=r(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.share({url:e});case 2:n();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},s.ShareFallback=function(e){return new Promise(function(){var t=r(regeneratorRuntime.mark((function t(n){var i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((i=document.querySelector("web-social-share"))&&window){t.next=3;break}return t.abrupt("return");case 3:a={displayNames:!0,config:[{twitter:{socialShareUrl:e,socialSharePopupWidth:300,socialSharePopupHeight:400}},{email:{socialShareBody:e}},{whatsapp:{socialShareUrl:e}}]},i.share=a,i.show=!0,n();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},s.OnLoginAction=function(e){var t=this;switch(e.action){case m.LOGIN:this.loading.node.active=!0;break;case m.LOGIN_SUCCESS:var n=e.data;h.Login(n.token,n.platform).then((function(e){var n=t.ParseData(e);n instanceof Object?(t.profiles.token=n.token,t.SaveProfiles(),t.SetState(B.GET_USER_INFO)):(t.loading.node.active=!1,t.ShowMessage(n))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case m.LOGIN_FAIL:this.loading.node.active=!1}},s.OnMainAction=function(e){var t=this;switch(e.action){case v.PLAY:""!=this.profiles.token?(this.bid.SetInformation(this.programs.currentProgram,this.userinfos.turns),this.bid.Show((function(){t.main.node.active=!1}))):window.location.href="gh://redirect-to-login";break;case v.LOGIN:break;case v.SHARE:this.Share("https://google.com");break;case v.EXIT:window.location.href="gh://exit"}},s.OnBidAction=function(e){var t=this;switch(e.action){case I.BID:this.Bid(e.price);break;case I.MORE_TURN:break;case I.BACK:this.main.node.active=!0,this.main.SetupBidding(),this.bid.Hide((function(){t.bid.node.active=!1}))}},t}(l)).prototype,"login",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(y.prototype,"main",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(y.prototype,"bid",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(y.prototype,"loading",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(y.prototype,"message",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=y))||E));s._RF.pop()}}}));

System.register("chunks:///_virtual/ItemWinner.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,r,t,i,o,c,a,l;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Label,l=e.Component}],execute:function(){var u,p,s,f,y,g,m,b,h;o._RF.push({},"3559aEckTBCrqIgOqHLWCp2","ItemWinner",void 0);var d=c.ccclass,I=c.property;e("ItemWinner",(u=d("ItemWinner"),p=I({type:a}),s=I({type:a}),f=I({type:a}),u((m=n((g=function(e){function n(){for(var n,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return n=e.call.apply(e,[this].concat(o))||this,t(i(n),"winner",m,i(n)),t(i(n),"description",b,i(n)),t(i(n),"price",h,i(n)),n}r(n,e);var o=n.prototype;return o.start=function(){},o.SetInformation=function(e){this.winner.string=e.name,this.description.string=e.programInfo.content,this.price.string=e.auctionPrice},n}(l)).prototype,"winner",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=n(g.prototype,"description",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=n(g.prototype,"price",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/Main.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./ItemBidding.ts","./API.ts","./EventMgr.ts","./Defines.ts","./ItemWinner.ts","./ItemProgram.ts"],(function(n){"use strict";var i,t,e,r,o,a,u,d,c,s,l,g,p,f,m,h,b,I,y,w,P,v;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,r=n.assertThisInitialized,o=n.defineProperty},function(n){a=n.cclegacy,u=n._decorator,d=n.Node,c=n.Prefab,s=n.instantiate,l=n.UITransform,g=n.tween,p=n.Size,f=n.Component},function(n){m=n.StringDateToTimestamp},function(n){h=n.ItemBidding},function(n){b=n.default},function(n){I=n.default},function(n){y=n.EventName,w=n.ActionMain},function(n){P=n.ItemWinner},function(n){v=n.ItemProgram}],execute:function(){var S,B,x,M,W,C,N,z,E,D,T,A,G,k,L,_,H,U,F,J,O,R,j;a._RF.push({},"418ddTz9+lC7bF5livsSJvo","Main",void 0);var X=u.ccclass,Y=u.property;n("Main",(S=X("Main"),B=Y({type:d}),x=Y({type:d}),M=Y({type:d}),W=Y({type:d}),C=Y({type:d}),N=Y({type:d}),z=Y({type:d}),E=Y({type:c}),D=Y({type:c}),T=Y({type:c}),S((k=i((G=function(n){function i(){for(var i,t=arguments.length,a=new Array(t),u=0;u<t;u++)a[u]=arguments[u];return i=n.call.apply(n,[this].concat(a))||this,e(r(i),"BiddingNode",k,r(i)),e(r(i),"BiddingContainer",L,r(i)),e(r(i),"BiddingMore",_,r(i)),e(r(i),"WinnerNode",H,r(i)),e(r(i),"WinnerContainer",U,r(i)),e(r(i),"WinnerMore",F,r(i)),e(r(i),"ProgramContainer",J,r(i)),e(r(i),"PrefabWinner",O,r(i)),e(r(i),"PrefabBidding",R,r(i)),e(r(i),"PrefabProgram",j,r(i)),o(r(i),"winner",[]),o(r(i),"bidding",[]),o(r(i),"program",[]),o(r(i),"userinfos",void 0),o(r(i),"programData",void 0),o(r(i),"winnerIndex",0),o(r(i),"biddingIndex",0),o(r(i),"token",void 0),o(r(i),"timeStart",0),o(r(i),"timeEnd",0),i}t(i,n);var a=i.prototype;return a.start=function(){},a.update=function(n){this.UpdateCountDown()},a.SetInfomation=function(n){this.userinfos=n.userinfos||{},this.programData=n.programData,this.token=n.token||"",this.timeStart=m(this.programData.currentProgram.createdTime),this.timeEnd=m(this.programData.currentProgram.expiredTime),this.SyncInfomationTop(),this.SetupBidding(),this.SetupWinner(),this.SetupNextProgram()},a.SyncInfomationTop=function(){},a.SetupNextProgram=function(){var n=this;this.programData.nextProgram.forEach((function(i,t){var e=null;t<n.program.length?e=n.program[t]:((e=s(n.PrefabProgram)).parent=n.ProgramContainer,n.program.push(e)),e.getComponent(v).SetInformation(i)}))},a.SetupWinner=function(){var n=this;b.GetWinnerHistory().then((function(i){JSON.parse(i).data.winnerList.forEach((function(i,t){var e=null;t<n.winner.length?e=n.winner[t]:((e=s(n.PrefabWinner)).parent=n.WinnerContainer,n.winner.push(e)),e.getComponent(P).SetInformation(i)})),n.ExpandWinner()})).catch((function(n){}))},a.SetupBidding=function(){var n=this;""!=this.token?b.GetBiddingHistory(this.token).then((function(i){JSON.parse(i).data.listAuction.forEach((function(i,t){var e=null;t<n.bidding.length?e=n.bidding[t]:((e=s(n.PrefabBidding)).parent=n.BiddingContainer,n.bidding.push(e)),e.getComponent(h).SetInformation(i)})),n.ExpandBidding()})).catch((function(n){})):this.ExpandBidding()},a.UpdateCountDown=function(){this.timeEnd,(new Date).getTime()},a.Play=function(){I.GetInstance().emit(y.MAIN,{action:w.PLAY})},a.Login=function(){I.GetInstance().emit(y.MAIN,{action:w.LOGIN})},a.Share=function(){I.GetInstance().emit(y.MAIN,{action:w.SHARE})},a.Exit=function(){I.GetInstance().emit(y.MAIN,{action:w.EXIT})},a.Top=function(){},a.ExpandBidding=function(){this.biddingIndex=Math.min(this.biddingIndex+3,this.bidding.length);var n=this.BiddingNode.getComponent(l);g(n).to(.5,{contentSize:new p(750,100*(this.biddingIndex+2))},{easing:"sineIn"}).start(),this.BiddingMore.active=this.bidding.length!=this.biddingIndex,this.BiddingNode.active=this.bidding.length>0},a.ExpandWinner=function(){this.winnerIndex=Math.min(this.winnerIndex+3,this.winner.length);var n=this.WinnerNode.getComponent(l);g(n).to(.5,{contentSize:new p(750,100*(this.winnerIndex+2))},{easing:"sineIn"}).start(),this.WinnerMore.active=this.winner.length!=this.winnerIndex},i}(f)).prototype,"BiddingNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(G.prototype,"BiddingContainer",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(G.prototype,"BiddingMore",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(G.prototype,"WinnerNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(G.prototype,"WinnerContainer",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(G.prototype,"WinnerMore",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(G.prototype,"ProgramContainer",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(G.prototype,"PrefabWinner",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(G.prototype,"PrefabBidding",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(G.prototype,"PrefabProgram",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=G))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/Defines.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var i,t;return{setters:[function(n){i=n.defineProperty},function(n){t=n.cclegacy}],execute:function(){var e,o,c,s;n({ActionBid:void 0,ActionLogin:void 0,ActionMain:void 0,EventName:void 0}),t._RF.push({},"71218fYhlJHzoDWjLv2DGMl","Defines",void 0),function(n){n.LOGIN="event_login",n.MAIN="event_main",n.BID="event_bid"}(e||(e=n("EventName",{}))),function(n){n[n.LOGIN=0]="LOGIN",n[n.LOGIN_SUCCESS=1]="LOGIN_SUCCESS",n[n.LOGIN_FAIL=2]="LOGIN_FAIL"}(o||(o=n("ActionLogin",{}))),function(n){n[n.PLAY=0]="PLAY",n[n.LOGIN=1]="LOGIN",n[n.SHARE=2]="SHARE",n[n.EXIT=3]="EXIT"}(c||(c=n("ActionMain",{}))),function(n){n[n.BID=0]="BID",n[n.MORE_TURN=1]="MORE_TURN",n[n.BACK=2]="BACK"}(s||(s=n("ActionBid",{})));n("Profiles",(function(){i(this,"token",""),i(this,"attendance",[])})),n("UserInfos",(function(){i(this,"name",""),i(this,"email",""),i(this,"image",""),i(this,"turns",0)}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ItemProgram.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,n,i,o,a,c,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Label,l=e.Component}],execute:function(){var u,p,s,f,m,y,b,g,h;o._RF.push({},"7b38eim8h9B5ozHT5BG2m7Y","ItemProgram",void 0);var d=a.ccclass,v=a.property;e("ItemProgram",(u=d("ItemProgram"),p=v({type:c}),s=v({type:c}),f=v({type:c}),u((b=r((y=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,n(i(r),"winner",b,i(r)),n(i(r),"description",g,i(r)),n(i(r),"price",h,i(r)),r}t(r,e);var o=r.prototype;return o.start=function(){},o.SetInformation=function(e){},r}(l)).prototype,"winner",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=r(y.prototype,"description",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=r(y.prototype,"price",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=y))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/Login.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./Defines.ts"],(function(o){"use strict";var t,e,n,i,a,s,c,g,l;return{setters:[function(o){t=o.inheritsLoose,e=o.defineProperty,n=o.assertThisInitialized},function(o){i=o.cclegacy,a=o._decorator,s=o.Component},function(o){c=o.default},function(o){g=o.EventName,l=o.ActionLogin}],execute:function(){var u;i._RF.push({},"88819R1zIVFQawyuDuWo1i2","Login",void 0);var r=a.ccclass;a.property,o("Login",r("Login")(u=function(o){function i(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=o.call.apply(o,[this].concat(a))||this,e(n(t),"fbSDK",null),e(n(t),"googleApi",null),e(n(t),"googleAuth",null),e(n(t),"googleUser",null),t}t(i,o);var a=i.prototype;return a.onLoad=function(){this.fbSDK=window.FB,this.googleApi=window.gapi,this.googleApi.load("auth2",this.GoogleApiLoaded.bind(this))},a.update=function(o){},a.FacebookLogin=function(){var o=this;this.fbSDK.getLoginStatus((function(t){var e="";"connected"===t.status?(e=t.authResponse.accessToken,c.GetInstance().emit(g.LOGIN,{action:l.LOGIN_SUCCESS,data:{platform:"facebook",token:e}})):(c.GetInstance().emit(g.LOGIN,{action:l.LOGIN,data:{platform:"facebook"}}),o.fbSDK.login((function(o){o.authResponse?(e=o.authResponse.accessToken,c.GetInstance().emit(g.LOGIN,{action:l.LOGIN_SUCCESS,data:{platform:"facebook",token:e}})):c.GetInstance().emit(g.LOGIN,{action:l.LOGIN_FAIL,data:{platform:"facebook"}})})))}))},a.GoogleLogin=function(){this.googleAuth&&(this.googleAuth.signIn().then((function(o){var t=o.getAuthResponse().access_token;c.GetInstance().emit(g.LOGIN,{action:l.LOGIN_SUCCESS,data:{platform:"google",token:t}})})).catch((function(o){c.GetInstance().emit(g.LOGIN,{action:l.LOGIN_FAIL,data:{platform:"google"}})})),c.GetInstance().emit(g.LOGIN,{action:l.LOGIN,data:{platform:"google"}}))},a.GoogleApiLoaded=function(){this.googleAuth=this.googleApi.auth2.init({client_id:"22807595564-aphe2ofiu08oo4aq01dauj5dibstl4pk.apps.googleusercontent.com",scope:"profile"}),1==this.googleAuth.isSignedIn.get()&&this.GoogleLogin()},a.GoogleSigninChanged=function(o){console.log(o)},a.GoogleUserChanged=function(o){var t=o.getAuthResponse().access_token;null!=t&&c.GetInstance().emit(g.LOGIN,{action:l.LOGIN_SUCCESS,data:{platform:"google",token:t}})},i}(s))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/Bid.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./EventMgr.ts","./Defines.ts"],(function(t){"use strict";var e,i,n,r,o,a,c,s,u,l,p,f,d,m,h,g,v,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.defineProperty},function(t){a=t.cclegacy,c=t._decorator,s=t.Label,u=t.EditBox,l=t.view,p=t.Vec3,f=t.tween,d=t.Component},function(t){m=t.FormatTime,h=t.StringDateToTimestamp},function(t){g=t.default},function(t){v=t.EventName,b=t.ActionBid}],execute:function(){var B,y,w,D,I,S,T,z,E;a._RF.push({},"abe62Rom6RGOZBhSfqtMLHb","Bid",void 0);var R=c.ccclass,_=c.property;t("Bid",(B=R("Bid"),y=_(s),w=_(s),D=_(u),B((T=e((S=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a))||this,n(r(e),"time",T,r(e)),n(r(e),"turns",z,r(e)),n(r(e),"price",E,r(e)),o(r(e),"timeStart",void 0),o(r(e),"timeEnd",void 0),e}i(e,t);var a=e.prototype;return a.start=function(){},a.update=function(t){var e=this.timeEnd-(new Date).getTime();this.time.string=m(e)},a.Show=function(t){var e=l.getVisibleSize();this.node.active=!0,this.node.position=new p(0,e.height,0),f(this.node).to(1,{position:new p(0,0,0)},{easing:"expoOut"}).call((function(){return t()})).start()},a.Hide=function(t){var e=l.getVisibleSize();f(this.node).to(1,{position:new p(0,e.height,0)},{easing:"expoOut"}).call((function(){return t()})).start()},a.SetInformation=function(t,e){this.timeStart=h(t.createdTime),this.timeEnd=h(t.expiredTime),this.turns.string=""+e},a.Bid=function(){g.GetInstance().emit(v.BID,{action:b.BID,price:parseInt(this.price.string)})},a.MoreTurn=function(){g.GetInstance().emit(v.BID,{action:b.MORE_TURN})},a.Back=function(){g.GetInstance().emit(v.BID,{action:b.BACK})},e}(d)).prototype,"time",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(S.prototype,"turns",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"price",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=S))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/Message.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,i,s,o,a,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,a=e.Label,c=e.Component}],execute:function(){var u,l,p,f,g;s._RF.push({},"cd786OL4KtC4rtPw+E8R6+f","Message",void 0);var h=o.ccclass,y=o.property;e("Message",(u=h("Message"),l=y({type:a}),u((g=t((f=function(e){function t(){for(var t,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,n(i(t),"message",g,i(t)),t}r(t,e);var s=t.prototype;return s.start=function(){},s.Show=function(e){this.message.string=e,this.node.active=!0},s.Close=function(){this.node.active=!1},t}(c)).prototype,"message",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){"use strict";var e,r,n,a;return{setters:[function(t){e=t.cclegacy,r=t.assetManager,n=t.SpriteFrame,a=t.Texture2D}],execute:function(){function i(t){return t<10?"0"+t:t}t({CopyClipboard:function(t){window.copyToClipboard(t)},FormatTime:function(t){var e=Math.floor(t/1e3),r=3600,n=Math.floor(e/r),a=Math.floor((e-n*r)/60),o=e-n*r-60*a;return i(n)+":"+i(a)+":"+i(o)},GetSpriteFromUrl:function(t){return new Promise((function(e,i){r.loadRemote(t,(function(t,r){if(t)i(null);else{var o=new n,s=new a;s.image=r,o.texture=s,e(o)}}))}))},StringDateToShortDate:function(t){try{var e=t.split(" "),r=e[0].split(":"),n=e[1].split("-");return n[0]+"/"+n[1]+"\n"+r[0]+":"+r[1]}catch(e){return t}},StringDateToTimestamp:function(t){try{var e=t.split(" "),r=e[0].split(":"),n=e[1].split("-");return new Date(parseInt(n[2]),parseInt(n[1])-1,parseInt(n[0]),parseInt(r[0]),parseInt(r[1]),parseInt(r[2])).getTime()}catch(t){return(new Date).getTime()}},convert2Character:i}),e._RF.push({},"ceaaasKiCFOKJzHWmAeEI8E","Utils",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,i,r,o,a,c,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Node,u=t.Component}],execute:function(){var s,l,p,f,d;o._RF.push({},"f2b2fXBSjhBZ4KwKnXZ/HX5","Loading",void 0);var g=a.ccclass,y=a.property;t("Loading",(s=g("Loading"),l=y({type:c}),s((d=n((f=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,i(r(n),"icon",d,r(n)),n}e(n,t);var o=n.prototype;return o.start=function(){},o.update=function(t){this.icon.angle-=120*t},n}(u)).prototype,"icon",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,r,i,s;return{setters:[function(n){t=n.inheritsLoose,e=n.defineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,s=n.EventTarget}],execute:function(){i._RF.push({},"f8ad5rydN9EIZ62nOSFY4Dg","EventMgr",void 0);n("default",new(function(n){function i(){for(var t,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return t=n.call.apply(n,[this].concat(s))||this,e(r(t),"instance",null),t}return t(i,n),i.prototype.GetInstance=function(){return null==this.instance&&(this.instance=new i),this.instance},i}(s)));i._RF.pop()}}}));

System.register("chunks:///_virtual/API.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"fbcf8GwQ39CFpEpDpslNfpR","API",void 0);e("default",new(function(){function e(){}var t=e.prototype;return t.Request=function(e,t,n,r){var i=this;void 0===r&&(r=null);return new Promise((function(o,u){var a=new XMLHttpRequest;a.open(e,"https://gate.dev.tripi.vn/tripi-feed"+t,!0),a.setRequestHeader("Content-type","application/json"),a.setRequestHeader("version","1.0"),a.setRequestHeader("appId","tripi-feed"),a.setRequestHeader("appHash",i.GetHash()),null!=r&&a.setRequestHeader("ge-token",r),a.onreadystatechange=function(){4==a.readyState&&(200==a.status?o(a.response):u(a.response))},a.send(n)}))},t.GetHash=function(){var e=(new Date).getTime(),t=(e=e/1e3-e/1e3%300)+":AsnasjldknsajalLASASs86876n4oadn5aod3nlNSLA",n=window.CryptoJS;return n.enc.Base64.stringify(n.SHA256(t))},t.Login=function(e,t){var n={accessToken:e,providerName:t,programCode:"auction",referralCode:""};return this.Request("post","/login/oauth2",JSON.stringify(n))},t.Bid=function(e,t,n){var r={programCode:"auction",programId:e,auctionPrice:t};return this.Request("post","/auction/bid",JSON.stringify(r),n)},t.TakeAttendance=function(e,t){return this.Request("get","/auction/take-attendance?programCode=auction&programId="+e,null,t)},t.GetReferralCode=function(e){return this.Request("get","/auction/get-referral-code",null,e)},t.GetUserInfo=function(e){return this.Request("get","/get-user-info",null,e)},t.GetTurns=function(e){return this.Request("get","/auction/get-available-turn?programCode=auction",null,e)},t.GetBiddingHistory=function(e){return this.Request("get","/auction/get-bidding-history?programCode=auction",null,e)},t.GetPrograms=function(){return this.Request("get","/auction/get-program-info?programCode=auction",null)},t.GetWinnerHistory=function(){return this.Request("get","/auction/get-winner-history?programCode=auction",null)},t.GetBiddingRecent=function(){return this.Request("get","/auction/get-recent-bidding?programCode=auction",null)},e}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Utils.ts","./ItemBidding.ts","./API.ts","./EventMgr.ts","./Loading.ts","./Defines.ts","./Login.ts","./ItemWinner.ts","./ItemProgram.ts","./Main.ts","./Bid.ts","./Message.ts","./GameMgr.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});