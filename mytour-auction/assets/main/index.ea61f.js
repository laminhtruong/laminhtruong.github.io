System.register("chunks:///_virtual/PopupAgreement.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts"],(function(e){"use strict";var t,n,o,i,r,l,a,c,g,u,s,p,h,b,f,y,d,L,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.WebView,c=e.Toggle,g=e.Button,u=e.Vec3,s=e.tween,p=e.UITransform,h=e.view,b=e.Color,f=e.Sprite,y=e.Component},function(e){d=e.EventName,L=e.ActionMain},function(e){v=e.default}],execute:function(){var m,T,w,A,C,k,M,z,F,I,G,P,S;r._RF.push({},"252de94ShdLxLFIQbxXPCxA","PopupAgreement",void 0);var O=l.ccclass,_=l.property;e("PopupAgreement",(m=O("PopupAgreement"),T=_({type:a}),w=_({type:c}),A=_({type:g}),C=_({type:g}),k=_({type:g}),m((F=t((z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(i(t),"Webview",F,i(t)),o(i(t),"ToggleAgree",I,i(t)),o(i(t),"LoginMyTour",G,i(t)),o(i(t),"LoginGoogle",P,i(t)),o(i(t),"LoginFacebook",S,i(t)),t}n(t,e);var r=t.prototype;return r.onEnable=function(){this.node.setScale(new u(0,0,1)),s(this.node).to(.5,{scale:new u(1,1,1)},{easing:"elasticOut"}).start(),this.node.getComponent(p).contentSize=h.getVisibleSize()},r.start=function(){this.ToggleAgree.node.on("toggle",this.OnToggle,this)},r.Show=function(e){this.LoginMyTour.node.active=e,this.LoginGoogle.node.active=!e,this.LoginFacebook.node.active=!e,this.OnToggle(this.ToggleAgree),this.node.active=!0},r.Close=function(){var e=this;s(this.node).to(.5,{scale:new u(0,0,1)},{easing:"elasticIn"}).call((function(){return e.node.active=!1})).start()},r.OnToggle=function(e){var t=e.isChecked?b.WHITE:new b("#808080");this.LoginMyTour.interactable=e.isChecked,this.LoginGoogle.interactable=e.isChecked,this.LoginFacebook.interactable=e.isChecked,this.LoginMyTour.getComponent(f).color=t,this.LoginGoogle.getComponent(f).color=t,this.LoginFacebook.getComponent(f).color=t},r.OnLoginMyTour=function(){v.GetInstance().emit(d.MAIN,{action:L.LOGIN})},t}(y)).prototype,"Webview",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(z.prototype,"ToggleAgree",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(z.prototype,"LoginMyTour",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(z.prototype,"LoginGoogle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(z.prototype,"LoginFacebook",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=z))||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemBidding.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(t){"use strict";var e,i,r,n,o,c,a,l,u,p,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,a=t.Sprite,l=t.Label,u=t.Color,p=t.Component},function(t){s=t.StringDateToShortDate}],execute:function(){var f,g,b,d,y,m,h,D,I,v,w;o._RF.push({},"29b29DhKDpPx6KKXVpIBp3Z","ItemBidding",void 0);var z=c.ccclass,B=c.property;t("ItemBidding",(f=z("ItemBidding"),g=B({type:a}),b=B({type:l}),d=B({type:l}),y=B({type:l}),f((D=e((h=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,r(n(e),"bg",D,n(e)),r(n(e),"time",I,n(e)),r(n(e),"description",v,n(e)),r(n(e),"price",w,n(e)),e}i(e,t);var o=e.prototype;return o.start=function(){},o.SetInformation=function(t,e){this.bg.color=new u(e%2==0?"#fff8ff":"#ffedfd"),this.time.string=s(t.auctionDate),this.description.string=t.programInfo.content,this.price.string=t.auctionPrice},e}(p)).prototype,"bg",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(h.prototype,"time",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(h.prototype,"description",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(h.prototype,"price",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=h))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./PopupAgreement.ts","./API.ts","./Loading.ts","./Main.ts","./Bid.ts","./PopupError.ts","./PopupInformation.ts","./PopupGift.ts"],(function(t){"use strict";var e,n,i,a,o,r,s,c,u,l,h,p,f,d,g,S,m,b,I,v,P,A,E,G;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.defineProperty},function(t){r=t.cclegacy,s=t._decorator,c=t.sys,u=t.Component},function(t){l=t.Profiles,h=t.EventName,p=t.ActionMain,f=t.UserInfos,d=t.ActionLogin,g=t.ActionBid},function(t){S=t.default},function(t){m=t.PopupAgreement},function(t){b=t.default},function(t){I=t.Loading},function(t){v=t.Main},function(t){P=t.Bid},function(t){A=t.PopupError},function(t){E=t.PopupInformation},function(t){G=t.PopupGift}],execute:function(){var w,N,T,O,M,k,_,y,L,R,D,U,C,B,F,z,j;r._RF.push({},"2df67cPW6dPX48dJVTWAnOy","GameMgr",void 0);var H,Y=s.ccclass,K=s.property;!function(t){t[t.INIT=0]="INIT",t[t.GET_PROGRAMS=1]="GET_PROGRAMS",t[t.LOGIN=2]="LOGIN",t[t.GET_USER_INFO=3]="GET_USER_INFO",t[t.GET_TURNS=4]="GET_TURNS",t[t.GET_REFERAL=5]="GET_REFERAL",t[t.MAIN=6]="MAIN",t[t.PLAY=7]="PLAY",t[t.BID=8]="BID"}(H||(H={}));t("GameMgr",(w=Y("GameMgr"),N=K({type:v}),T=K({type:P}),O=K({type:I}),M=K({type:A}),k=K({type:m}),_=K({type:E}),y=K({type:G}),w((D=e((R=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(a(e),"main",D,a(e)),i(a(e),"bid",U,a(e)),i(a(e),"loading",C,a(e)),i(a(e),"popupError",B,a(e)),i(a(e),"popupAgreement",F,a(e)),i(a(e),"popupInformation",z,a(e)),i(a(e),"popupGift",j,a(e)),o(a(e),"state",void 0),o(a(e),"profiles",new l),o(a(e),"userinfos",null),o(a(e),"programs",null),o(a(e),"params",void 0),e}n(e,t);var r=e.prototype;return r.start=function(){S.GetInstance().on(h.LOGIN,this.OnLoginAction,this),S.GetInstance().on(h.MAIN,this.OnMainAction,this),S.GetInstance().on(h.BID,this.OnBidAction,this),this.params=this.ParseUrl(window.location.href),this.SetState(H.INIT)},r.update=function(t){switch(this.state){case H.INIT:}},r.SetState=function(t){var e=this;switch(this.state=t,this.state){case H.INIT:this.main.node.active=!1,this.bid.node.active=!1,this.loading.node.active=!0,this.LoadProfile(),this.SetState(H.GET_PROGRAMS);break;case H.GET_PROGRAMS:b.GetPrograms().then((function(t){var n=e.ParseData(t);n instanceof Object?(e.programs=n,""!=e.profiles.token?e.SetState(H.GET_USER_INFO):e.SetState(H.LOGIN)):(e.loading.node.active=!1,e.ShowMessage(n))})).catch((function(t){e.loading.node.active=!1,e.ShowMessage(t)}));break;case H.LOGIN:this.params.token?this.OnLoginAction({action:d.LOGIN_SUCCESS,data:{token:this.params.token,platform:"mytour"}}):this.SetState(H.MAIN);break;case H.GET_USER_INFO:b.GetUserInfo(this.profiles.token).then((function(t){var n=e.ParseData(t);n instanceof Object?(e.userinfos=new f,e.userinfos.name=n.name,e.userinfos.email=n.email,e.userinfos.image=n.image,e.SetState(H.GET_TURNS)):(e.loading.node.active=!1,e.ShowMessage(n))})).catch((function(t){e.loading.node.active=!1,e.ShowMessage(t)}));break;case H.GET_TURNS:b.GetTurns(this.profiles.token).then((function(t){var n=e.ParseData(t);n instanceof Object?(e.userinfos.turns=n.currentTurn,e.SetState(H.GET_REFERAL)):(e.loading.node.active=!1,e.ShowMessage(n))})).catch((function(t){e.loading.node.active=!1,e.ShowMessage(t)}));break;case H.GET_REFERAL:b.GetReferralCode(this.profiles.token).then((function(t){var n=e.ParseData(t);n instanceof Object?(e.userinfos.code=n.referralCode,e.SetState(H.MAIN)):(e.loading.node.active=!1,e.ShowMessage(n))})).catch((function(t){e.loading.node.active=!1,e.ShowMessage(t)}));break;case H.MAIN:this.loading.node.active=!1,this.main.node.active=!0,this.main.SetInfomation({userinfos:this.userinfos,programData:this.programs,token:this.profiles.token}),S.GetInstance().emit(h.MAIN,{action:p.CHECK_ATTENDANCE}),this.SetState(H.PLAY)}},r.Bid=function(t){var e=this;this.programs.currentProgram&&null!=this.programs.currentProgram&&(this.loading.node.active=!0,b.Bid(this.programs.currentProgram.id,100*t,this.profiles.token).then((function(t){var n=e.ParseData(t);n instanceof Object?(e.userinfos.turns=n.currentTurn,e.main.SetTurn(e.userinfos.turns),e.bid.SetTurn(e.userinfos.turns),e.bid.Deal(),e.loading.node.active=!1):(e.loading.node.active=!1,e.ShowMessage(n))})).catch((function(t){e.loading.node.active=!1,e.ShowMessage(t)})))},r.LoadProfile=function(){try{var t=JSON.parse(c.localStorage.getItem("profiles"));null!=t&&(this.profiles=t)}catch(t){}},r.SaveProfiles=function(){c.localStorage.setItem("profiles",JSON.stringify(this.profiles))},r.ShowMessage=function(t){this.popupError.Show(t)},r.ParseData=function(t){try{return 200==(t=JSON.parse(t)).code?t.data:t.message}catch(t){return"Data Invalid"}},r.ParseUrl=function(t){for(var e,n=/[?&]([^=#]+)=([^&#]*)/g,i={};e=n.exec(t);)i[e[1]]=decodeURIComponent(e[2]);return i},r.Share=function(t){"mobile"==this.params.platform?window.location.href="gh://sharing?content="+t:this.ShareFallback(t)},r.ShareNative=function(t){navigator.share({url:t})},r.ShareFallback=function(t){var e=document.querySelector("web-social-share");if(e&&window){var n={displayNames:!0,config:[{facebook:{socialShareUrl:t,socialSharePopupWidth:400,socialSharePopupHeight:400}},{twitter:{socialShareUrl:t,socialSharePopupWidth:300,socialSharePopupHeight:400}},{whatsapp:{socialShareUrl:t}},{copy:{socialShareUrl:t}}]};e.share=n,e.show=!0}},r.OnLoginAction=function(t){var e=this;switch(t.action){case d.LOGIN:this.loading.node.active=!0,this.popupAgreement.Close();break;case d.LOGIN_SUCCESS:var n=t.data;b.Login(n.token,n.platform,this.params.code||"").then((function(t){var n=e.ParseData(t);n instanceof Object?(e.profiles.token=n.token,e.SaveProfiles(),e.SetState(H.GET_USER_INFO)):(e.loading.node.active=!1,e.ShowMessage(n))})).catch((function(t){e.loading.node.active=!1,e.ShowMessage(t)}));break;case d.LOGIN_FAIL:this.loading.node.active=!1}},r.OnMainAction=function(t){var e=this;switch(t.action){case p.PLAY:""!=this.profiles.token?this.programs.currentProgram&&null!=this.programs.currentProgram?(this.bid.SetInformation(this.programs.currentProgram,this.userinfos.turns),this.bid.Show((function(){e.main.node.active=!1}))):this.ShowMessage("Không có chương trình nào đang diễn ra"):this.popupAgreement.Show("mobile"==this.params.platform);break;case p.LOGIN:window.location.href="gh://redirect-to-login";break;case p.SHARE:this.Share("https://laminhtruong.github.io/mytour-auction/?code="+this.userinfos.code);break;case p.INFO:this.popupInformation.Show();break;case p.CHECK_ATTENDANCE:if(this.programs.currentProgram&&null!=this.programs.currentProgram&&""!=this.profiles.token){var n=this.programs.currentProgram.id;this.profiles.attendance.some((function(t){return t==n}))?this.SetState(H.PLAY):b.TakeAttendance(n,this.profiles.token).then((function(t){var i=e.ParseData(t);i instanceof Object&&(e.popupGift.Show(),e.userinfos.turns+=i.turn,e.main.SetTurn(e.userinfos.turns),e.profiles.attendance.push(n),e.SaveProfiles()),e.SetState(H.PLAY)})).catch((function(t){e.SetState(H.PLAY)}))}break;case p.EXIT:window.location.href="gh://exit"}},r.OnBidAction=function(t){var e=this;switch(t.action){case g.BID:this.Bid(t.price);break;case g.MORE_TURN:break;case g.BACK:this.main.node.active=!0,this.main.SetupBidding(),this.bid.Hide((function(){S.GetInstance().emit(h.MAIN,{action:p.CHECK_ATTENDANCE}),e.bid.node.active=!1}))}},e}(u)).prototype,"main",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(R.prototype,"bid",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(R.prototype,"loading",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(R.prototype,"popupError",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(R.prototype,"popupAgreement",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(R.prototype,"popupInformation",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(R.prototype,"popupGift",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=R))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemWinner.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(e){"use strict";var t,r,n,i,o,a,c,l,u,p,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Sprite,l=e.Label,u=e.Color,p=e.Component},function(e){s=e.StringDateToShortDate}],execute:function(){var f,b,g,m,y,h,w,I,v,d,z;o._RF.push({},"3559aEckTBCrqIgOqHLWCp2","ItemWinner",void 0);var D=a.ccclass,S=a.property;e("ItemWinner",(f=D("ItemWinner"),b=S({type:c}),g=S({type:l}),m=S({type:l}),y=S({type:l}),f((I=t((w=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(i(t),"bg",I,i(t)),n(i(t),"time",v,i(t)),n(i(t),"winner",d,i(t)),n(i(t),"price",z,i(t)),t}r(t,e);var o=t.prototype;return o.start=function(){},o.SetInformation=function(e,t){this.bg.color=new u(t%2==0?"#ffffff":"#ecf9ff"),this.time.string=s(e.programInfo.createdTime),this.winner.string=e.name,this.price.string=e.auctionPrice},t}(p)).prototype,"bg",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(w.prototype,"time",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(w.prototype,"winner",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(w.prototype,"price",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=w))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopupInformation.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,i,s,r,c,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.Vec3,s=t.tween,r=t.UITransform,c=t.view,a=t.Component}],execute:function(){var u;e._RF.push({},"35d6e3+Q9ZO+4eI42f4ic39","PopupInformation",void 0);var p=o.ccclass;o.property,t("PopupInformation",p("PopupInformation")(u=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onEnable=function(){this.node.setScale(new i(0,0,1)),s(this.node).to(.5,{scale:new i(1,1,1)},{easing:"elasticOut"}).start(),this.node.getComponent(r).contentSize=c.getVisibleSize()},o.start=function(){},o.Show=function(){this.node.active=!0},o.Close=function(){var t=this;s(this.node).to(.5,{scale:new i(0,0,1)},{easing:"elasticIn"}).call((function(){return t.node.active=!1})).start()},e}(a))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/Main.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./Utils.ts","./ItemBidding.ts","./API.ts","./ItemWinner.ts","./ItemProgram.ts"],(function(t){"use strict";var n,i,e,r,a,o,s,u,l,m,g,c,p,f,h,d,b,P,y,I,D,E,w,v,A,N,S,C;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.defineProperty},function(t){o=t.cclegacy,s=t._decorator,u=t.Node,l=t.sp,m=t.Label,g=t.Prefab,c=t.tween,p=t.Vec3,f=t.instantiate,h=t.UITransform,d=t.Size,b=t.Component},function(t){P=t.ProgramState,y=t.EventName,I=t.ActionMain},function(t){D=t.default},function(t){E=t.RandomInt,w=t.StringDateToTimestamp,v=t.FormatTime},function(t){A=t.ItemBidding},function(t){N=t.default},function(t){S=t.ItemWinner},function(t){C=t.ItemProgram}],execute:function(){var B,x,z,T,M,W,H,R,L,F,U,k,O,G,_,X,Y,J,V,j,K,q,Q,Z,$,tt,nt,it,et,rt,at,ot,st,ut,lt,mt,gt,ct,pt,ft,ht,dt,bt;o._RF.push({},"418ddTz9+lC7bF5livsSJvo","Main",void 0);var Pt,yt=s.ccclass,It=s.property;!function(t){t.APPEAR="APPEAR",t.DEAL="DEAL",t.IDLE="IDLE2"}(Pt||(Pt={}));t("Main",(B=yt("Main"),x=It({type:u}),z=It({type:u}),T=It({type:l.Skeleton}),M=It({type:m}),W=It({type:m}),H=It({type:u}),R=It({type:m}),L=It({type:m}),F=It({type:u}),U=It({type:u}),k=It({type:u}),O=It({type:u}),G=It({type:u}),_=It({type:u}),X=It({type:u}),Y=It({type:g}),J=It({type:g}),V=It({type:g}),j=It({type:[m]}),K=It({type:[u]}),B((Z=n((Q=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=t.call.apply(t,[this].concat(o))||this,e(r(n),"Auction",Z,r(n)),e(r(n),"AuctionBambo",$,r(n)),e(r(n),"Hammer",tt,r(n)),e(r(n),"Hint",nt,r(n)),e(r(n),"BidName",it,r(n)),e(r(n),"Infomation",et,r(n)),e(r(n),"UserName",rt,r(n)),e(r(n),"TurnCount",at,r(n)),e(r(n),"BiddingNode",ot,r(n)),e(r(n),"BiddingContainer",st,r(n)),e(r(n),"BiddingMore",ut,r(n)),e(r(n),"WinnerNode",lt,r(n)),e(r(n),"WinnerContainer",mt,r(n)),e(r(n),"WinnerMore",gt,r(n)),e(r(n),"ProgramContainer",ct,r(n)),e(r(n),"PrefabWinner",pt,r(n)),e(r(n),"PrefabBidding",ft,r(n)),e(r(n),"PrefabProgram",ht,r(n)),e(r(n),"timeDigits",dt,r(n)),e(r(n),"FloatingItems",bt,r(n)),a(r(n),"winner",[]),a(r(n),"bidding",[]),a(r(n),"program",[]),a(r(n),"state",P.CURRENT),a(r(n),"userinfos",void 0),a(r(n),"floatingOffset",[]),a(r(n),"floatingDirection",[]),a(r(n),"floatingPositionY",[]),a(r(n),"programData",void 0),a(r(n),"winnerIndex",0),a(r(n),"biddingIndex",0),a(r(n),"token",void 0),a(r(n),"timeStart",0),a(r(n),"timeEnd",0),n}i(n,t);var o=n.prototype;return o.onEnable=function(){this.Hammer.setAnimation(0,Pt.APPEAR,!1)},o.start=function(){for(var t=0;t<this.FloatingItems.length;t++)this.floatingOffset[t]={y:E(0,100)/20},c(this.floatingOffset[t]).repeatForever(c(this.floatingOffset[t]).to(3,{y:5}).to(3,{y:-5})).start(),this.floatingDirection[t]=E(0,100)<50?1:-1,this.floatingPositionY[t]=this.FloatingItems[t].position.y;this.Hammer.setCompleteListener(this.OnHammerAnimationComplete.bind(this))},o.update=function(t){this.UpdateCountDown();for(var n=0;n<this.FloatingItems.length;n++)this.FloatingItems[n].setPosition(new p(this.FloatingItems[n].position.x,this.floatingPositionY[n]+this.floatingDirection[n]*this.floatingOffset[n].y,0))},o.SetInfomation=function(t){this.userinfos=t.userinfos,this.programData=t.programData,this.token=t.token||"";var n=this.programData.currentProgram;this.state=P.CURRENT,n&&null!=n||(this.programData.nextProgram.length>0?(n=this.programData.nextProgram[0],this.state=P.NEXT):this.programData.previousProgram.length>0?(n=this.programData.previousProgram[0],this.state=P.PREVIOUS):this.state=P.END),this.timeStart=w(n.createdTime),this.timeEnd=w(n.expiredTime),this.Auction.active=!n.isSpecial,this.AuctionBambo.active=n.isSpecial,this.SetupBidding(),this.SetupWinner(),this.SetupNextProgram(),this.SyncInfomationTop()},o.SetTurn=function(t){this.TurnCount.string=""+t},o.SyncInfomationTop=function(){this.userinfos?(this.UserName.string=this.userinfos.name,this.TurnCount.string=""+this.userinfos.turns,this.Infomation.active=!0):this.Infomation.active=!1,this.programData.currentProgram&&null!=this.programData.currentProgram?this.BidName.string=this.programData.currentProgram.content.toUpperCase():this.state==P.NEXT?this.BidName.string=this.programData.nextProgram[0].content:this.state!=P.PREVIOUS&&this.state!=P.END||(this.BidName.string="")},o.SetupNextProgram=function(){var t=this,n=[];this.programData.currentProgram&&null!=this.programData.currentProgram&&(n=n.concat(this.programData.currentProgram)),0==(n=n.concat(this.programData.nextProgram)).length&&(n=n.concat(this.programData.previousProgram)),this.program.forEach((function(t){return t.active=!1})),n.forEach((function(n,i){var e=null;i<t.program.length?e=t.program[i]:((e=f(t.PrefabProgram)).parent=t.ProgramContainer,t.program.push(e)),e.active=!0,e.getComponent(C).SetInformation(n)}))},o.SetupWinner=function(){var t=this;N.GetWinnerHistory().then((function(n){JSON.parse(n).data.winnerList.forEach((function(n,i){var e=null;i<t.winner.length?e=t.winner[i]:((e=f(t.PrefabWinner)).parent=t.WinnerContainer,t.winner.push(e)),e.getComponent(S).SetInformation(n,i)})),t.ExpandWinner()})).catch((function(t){}))},o.SetupBidding=function(){var t=this;""!=this.token?N.GetBiddingHistory(this.token).then((function(n){JSON.parse(n).data.listAuction.forEach((function(n,i){var e=null;i<t.bidding.length?e=t.bidding[i]:((e=f(t.PrefabBidding)).parent=t.BiddingContainer,t.bidding.push(e)),e.getComponent(A).SetInformation(n,i)})),t.ExpandBidding()})).catch((function(t){})):this.ExpandBidding()},o.UpdateCountDown=function(){var t=this,n=0;this.state==P.CURRENT?((n=this.timeEnd-(new Date).getTime())<0&&(n=0,this.programData.currentProgram=null,this.SetInfomation({userinfos:this.userinfos,programData:this.programData,token:this.token})),this.Hint.string="Phiên đấu giá sẽ kết thúc trong"):this.state==P.NEXT&&((n=this.timeStart-(new Date).getTime())<0&&(n=0,this.programData.currentProgram=this.programData.nextProgram.shift(),this.SetInfomation({userinfos:this.userinfos,programData:this.programData,token:this.token}),D.GetInstance().emit(y.MAIN,{action:I.CHECK_ATTENDANCE})),this.Hint.string="Phiên đấu giá sẽ diễn ra trong"),v(n).split("").forEach((function(n,i){t.timeDigits[i].string=n}))},o.Play=function(){D.GetInstance().emit(y.MAIN,{action:I.PLAY})},o.Share=function(){D.GetInstance().emit(y.MAIN,{action:I.SHARE})},o.Info=function(){D.GetInstance().emit(y.MAIN,{action:I.INFO})},o.Exit=function(){D.GetInstance().emit(y.MAIN,{action:I.EXIT})},o.ExpandBidding=function(){this.biddingIndex=Math.min(this.biddingIndex+3,this.bidding.length);var t=this.BiddingNode.getComponent(h);c(t).to(.5,{contentSize:new d(750,94*(this.biddingIndex+3)+50)},{easing:"sineIn"}).start(),this.BiddingMore.active=this.bidding.length!=this.biddingIndex,this.BiddingNode.active=this.bidding.length>0},o.ExpandWinner=function(){this.winnerIndex=Math.min(this.winnerIndex+3,this.winner.length);var t=this.WinnerNode.getComponent(h);c(t).to(.5,{contentSize:new d(750,94*(this.winnerIndex+3)+50)},{easing:"sineIn"}).start(),this.WinnerMore.active=this.winner.length!=this.winnerIndex},o.Deal=function(){this.Hammer.getCurrent(0).animation.name!=Pt.DEAL&&this.Hammer.setAnimation(0,Pt.DEAL,!1)},o.OnHammerAnimationComplete=function(t){switch(t.animation.name){case Pt.APPEAR:case Pt.DEAL:this.Hammer.setAnimation(0,Pt.IDLE,!0)}},n}(b)).prototype,"Auction",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(Q.prototype,"AuctionBambo",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=n(Q.prototype,"Hammer",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=n(Q.prototype,"Hint",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=n(Q.prototype,"BidName",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=n(Q.prototype,"Infomation",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=n(Q.prototype,"UserName",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=n(Q.prototype,"TurnCount",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=n(Q.prototype,"BiddingNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=n(Q.prototype,"BiddingContainer",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=n(Q.prototype,"BiddingMore",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=n(Q.prototype,"WinnerNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=n(Q.prototype,"WinnerContainer",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=n(Q.prototype,"WinnerMore",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=n(Q.prototype,"ProgramContainer",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=n(Q.prototype,"PrefabWinner",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=n(Q.prototype,"PrefabBidding",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=n(Q.prototype,"PrefabProgram",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=n(Q.prototype,"timeDigits",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),bt=n(Q.prototype,"FloatingItems",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=Q))||q));o._RF.pop()}}}));

System.register("chunks:///_virtual/ItemNotification.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,n,e,r,o,a,c,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Label,l=t.Component}],execute:function(){var s,u,f,p,m;o._RF.push({},"45db9SjQ7xMLrjPwl8puXSz","ItemNotification",void 0);var y=a.ccclass,h=a.property;t("ItemNotification",(s=y("ItemNotification"),u=h(c),s((m=i((p=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,e(r(i),"information",m,r(i)),i}n(i,t);var o=i.prototype;return o.start=function(){},o.SetInformation=function(t){this.information.string=t.name+" vừa ra giá lúc "+t.time.split(" ")[0]},i}(l)).prototype,"information",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=p))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/Defines.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var i,t;return{setters:[function(n){i=n.defineProperty},function(n){t=n.cclegacy}],execute:function(){var e,o,c,N,s;n({ActionBid:void 0,ActionLogin:void 0,ActionMain:void 0,EventName:void 0,ProgramState:void 0}),t._RF.push({},"71218fYhlJHzoDWjLv2DGMl","Defines",void 0),function(n){n.LOGIN="event_login",n.MAIN="event_main",n.BID="event_bid"}(e||(e=n("EventName",{}))),function(n){n[n.LOGIN=0]="LOGIN",n[n.LOGIN_SUCCESS=1]="LOGIN_SUCCESS",n[n.LOGIN_FAIL=2]="LOGIN_FAIL"}(o||(o=n("ActionLogin",{}))),function(n){n[n.PLAY=0]="PLAY",n[n.LOGIN=1]="LOGIN",n[n.SHARE=2]="SHARE",n[n.INFO=3]="INFO",n[n.CHECK_ATTENDANCE=4]="CHECK_ATTENDANCE",n[n.EXIT=5]="EXIT"}(c||(c=n("ActionMain",{}))),function(n){n[n.BID=0]="BID",n[n.MORE_TURN=1]="MORE_TURN",n[n.BACK=2]="BACK"}(N||(N=n("ActionBid",{}))),function(n){n[n.PREVIOUS=0]="PREVIOUS",n[n.CURRENT=1]="CURRENT",n[n.NEXT=2]="NEXT",n[n.END=3]="END"}(s||(s=n("ProgramState",{})));n("Profiles",(function(){i(this,"token",""),i(this,"attendance",[])})),n("UserInfos",(function(){i(this,"name",""),i(this,"email",""),i(this,"image",""),i(this,"code",""),i(this,"turns",0)}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ItemProgram.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(t){"use strict";var e,i,r,n,o,a,l,u,c,p,s,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Node,u=t.Label,c=t.Sprite,p=t.Component},function(t){s=t.StringDateToShortDate,m=t.GetSpriteFromUrl}],execute:function(){var b,f,g,h,y,v,z,P,d,S,w,B,I,D,_;o._RF.push({},"7b38eim8h9B5ozHT5BG2m7Y","ItemProgram",void 0);var k=a.ccclass,F=a.property;t("ItemProgram",(b=k("ItemProgram"),f=F({type:l}),g=F({type:l}),h=F({type:u}),y=F({type:u}),v=F({type:u}),z=F({type:c}),b((S=e((d=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(n(e),"bgPink",S,n(e)),r(n(e),"bgBlue",w,n(e)),r(n(e),"time",B,n(e)),r(n(e),"hotel",I,n(e)),r(n(e),"location",D,n(e)),r(n(e),"thumnail",_,n(e)),e}i(e,t);var o=e.prototype;return o.start=function(){},o.SetInformation=function(t){var e=this;this.time.string=s(t.createdTime,!1),this.hotel.string=t.name,this.location.string=t.description.toUpperCase(),this.bgPink.active=!t.isSpecial,this.bgBlue.active=t.isSpecial,m(t.imageUrl).then((function(t){e.thumnail.spriteFrame=t})).catch((function(t){}))},e}(p)).prototype,"bgPink",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(d.prototype,"bgBlue",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(d.prototype,"time",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(d.prototype,"hotel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(d.prototype,"location",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(d.prototype,"thumnail",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=d))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/Timer.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e;return{setters:[function(t){i=t.defineProperty},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"83182rhGv5E5o+cQT5d7b3o","Timer",void 0);t("default",function(){function t(){i(this,"timer",0),i(this,"duration",0),i(this,"overhead",0),i(this,"isDone",!0)}var e=t.prototype;return e.SetDuration=function(t){this.timer=this.duration=t,this.overhead=0,this.isDone=!1},e.AddTime=function(t){this.timer+=t,this.overhead=0,this.isDone=!1},e.GetTimePercent=function(){return this.timer/this.duration},e.Reset=function(){this.timer=this.duration,this.overhead=0,this.isDone=!1},e.IsDone=function(){return 0==this.timer},e.JustFinished=function(){return!(this.timer>0)&&(!this.isDone&&(this.isDone=!0,!0))},e.Update=function(t){0!=this.timer&&(this.timer-=t,this.timer<0&&(this.overhead=-this.timer,this.timer=0))},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Login.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts"],(function(o){"use strict";var t,e,n,i,a,s,c,g,l;return{setters:[function(o){t=o.inheritsLoose,e=o.defineProperty,n=o.assertThisInitialized},function(o){i=o.cclegacy,a=o._decorator,s=o.Component},function(o){c=o.EventName,g=o.ActionLogin},function(o){l=o.default}],execute:function(){var u;i._RF.push({},"88819R1zIVFQawyuDuWo1i2","Login",void 0);var r=a.ccclass;a.property,o("Login",r("Login")(u=function(o){function i(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=o.call.apply(o,[this].concat(a))||this,e(n(t),"fbSDK",null),e(n(t),"googleApi",null),e(n(t),"googleAuth",null),e(n(t),"googleUser",null),t}t(i,o);var a=i.prototype;return a.onLoad=function(){this.fbSDK=window.FB,this.googleApi=window.gapi,this.googleApi.load("auth2",this.GoogleApiLoaded.bind(this))},a.update=function(o){},a.FacebookLogin=function(){var o=this;this.fbSDK.getLoginStatus((function(t){var e="";"connected"===t.status?(e=t.authResponse.accessToken,l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_SUCCESS,data:{platform:"facebook",token:e}})):(l.GetInstance().emit(c.LOGIN,{action:g.LOGIN,data:{platform:"facebook"}}),o.fbSDK.login((function(o){o.authResponse?(e=o.authResponse.accessToken,l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_SUCCESS,data:{platform:"facebook",token:e}})):l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_FAIL,data:{platform:"facebook"}})})))}))},a.GoogleLogin=function(){this.googleAuth&&(this.googleAuth.signIn().then((function(o){var t=o.getAuthResponse().access_token;l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_SUCCESS,data:{platform:"google",token:t}})})).catch((function(o){l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_FAIL,data:{platform:"google"}})})),l.GetInstance().emit(c.LOGIN,{action:g.LOGIN,data:{platform:"google"}}))},a.GoogleApiLoaded=function(){this.googleAuth=this.googleApi.auth2.init({client_id:"22807595564-aphe2ofiu08oo4aq01dauj5dibstl4pk.apps.googleusercontent.com",scope:"profile"}),1==this.googleAuth.isSignedIn.get()&&this.GoogleLogin()},a.GoogleSigninChanged=function(o){console.log(o)},a.GoogleUserChanged=function(o){var t=o.getAuthResponse().access_token;null!=t&&l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_SUCCESS,data:{platform:"google",token:t}})},i}(s))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/Bid.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./Utils.ts","./API.ts","./Timer.ts","./ItemNotification.ts"],(function(t){"use strict";var i,n,e,o,a,r,c,s,u,l,f,h,m,p,g,d,D,b,y,T,v,B,P,A,E,I,N,w,S;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.defineProperty},function(t){r=t.cclegacy,c=t._decorator,s=t.Sprite,u=t.Node,l=t.sp,f=t.Label,h=t.EditBox,m=t.Color,p=t.tween,g=t.Vec3,d=t.view,D=t.UITransform,b=t.Size,y=t.Component},function(t){T=t.EventName,v=t.ActionBid},function(t){B=t.default},function(t){P=t.FormatTime,A=t.RandomInt,E=t.StringDateToTimestamp,I=t.GetSpriteFromUrl},function(t){N=t.default},function(t){w=t.default},function(t){S=t.ItemNotification}],execute:function(){var C,L,z,x,k,G,_,H,R,O,U,F,M,V,K,j,q,J,X,Z,Q,W,Y;r._RF.push({},"abe62Rom6RGOZBhSfqtMLHb","Bid",void 0);var $,tt=c.ccclass,it=c.property;!function(t){t.APPEAR="APPEAR",t.DEAL="DEAL",t.IDLE="IDLE2"}($||($={}));t("Bid",(C=tt("Bid"),L=it({type:s}),z=it({type:u}),x=it({type:u}),k=it({type:l.Skeleton}),G=it({type:f}),_=it({type:f}),H=it({type:h}),R=it({type:u}),O=it({type:[f]}),U=it({type:[u]}),C((V=i((M=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return i=t.call.apply(t,[this].concat(r))||this,e(o(i),"Background",V,o(i)),e(o(i),"Auction",K,o(i)),e(o(i),"AuctionBambo",j,o(i)),e(o(i),"Hammer",q,o(i)),e(o(i),"BidName",J,o(i)),e(o(i),"TurnCount",X,o(i)),e(o(i),"Price",Z,o(i)),e(o(i),"PriceDigit",Q,o(i)),e(o(i),"TimeDigits",W,o(i)),e(o(i),"Notifications",Y,o(i)),a(o(i),"notificationTimer",new w),a(o(i),"fetchTimer",new w),a(o(i),"notificationData",[]),a(o(i),"timeStart",void 0),a(o(i),"timeEnd",void 0),a(o(i),"isBacking",void 0),i}n(i,t);var r=i.prototype;return r.onEnable=function(){this.Hammer.setAnimation(0,$.APPEAR,!1),this.PriceDigit.active=!1,this.isBacking=!1},r.start=function(){this.notificationTimer.SetDuration(1),this.fetchTimer.SetDuration(30),this.Price.node.on(h.EventType.EDITING_DID_BEGAN,this.OnPriceStart,this),this.Price.node.on(h.EventType.EDITING_DID_ENDED,this.OnPriceEnd,this),this.Price.node.on(h.EventType.TEXT_CHANGED,this.OnPriceChange,this);var t=this.Price._impl._edTxt;t.style.setProperty("color","black"),t.style.setProperty("-webkit-text-fill-color","transparent"),this.Hammer.setCompleteListener(this.OnHammerAnimationComplete.bind(this))},r.update=function(t){var i=this,n=this.timeEnd-(new Date).getTime();if(n>=0)P(n).split("").forEach((function(t,n){i.TimeDigits[n].string=t}));else if(!this.isBacking)return B.GetInstance().emit(T.BID,{action:v.BACK}),void(this.isBacking=!0);this.notificationData.length>0&&(this.notificationTimer.Update(t),this.notificationTimer.IsDone()&&this.notificationData.length>this.Notifications.length&&(this.NotificationTransition(),this.notificationTimer.SetDuration(A(100,500)/100))),this.fetchTimer.Update(t),this.fetchTimer.IsDone()&&this.notificationData.length<10&&(this.SyncNotification(),this.fetchTimer.Reset()),this.Price._showLabels()},r.SyncNotification=function(){var t=this;N.GetBiddingRecent().then((function(i){t.notificationData=t.notificationData.concat(JSON.parse(i).data.recentBidList),t.notificationData.length>t.Notifications.length&&t.NotificationUpdateInfo()})).catch((function(t){}))},r.NotificationUpdateInfo=function(){var t=this;this.Notifications.forEach((function(i,n){var e=t.NotificationGetAlpha(n);i.getComponent(s).color=new m(255,255,255,e.start),i.getComponent(S).SetInformation(t.notificationData[n]),i.active=!0})),this.fetchTimer.IsDone()&&this.notificationData.length<10&&(this.SyncNotification(),this.fetchTimer.Reset())},r.NotificationGetAlpha=function(t){var i=150*[1,2,1,0][t],n=150*[0,1,2,1][t];return{start:i=Math.min(Math.max(i,1),255),end:n=Math.min(Math.max(n,1),255)}},r.NotificationTransition=function(){var t=this;this.Notifications.forEach((function(i,n){var e=t.NotificationGetAlpha(n),o=i.position;p(i).to(.75,{position:new g(o.x,o.y+40,0)}).start();var a=i.getComponent(s);a.color=new m(255,255,255,e.start),p(a).to(.75,{color:{r:255,g:255,b:255,a:e.end}},{easing:"sineIn"}).call((function(){0==n&&t.notificationData.length>t.Notifications.length&&(t.notificationData.shift(),t.NotificationUpdateInfo()),i.position=new g(o.x,o.y-40,0),a.color=new m(255,255,255,e.start)})).start()}))},r.Show=function(t){var i=d.getVisibleSize();this.node.active=!0,this.node.position=new g(0,i.height,0),p(this.node).to(1,{position:new g(0,0,0)},{easing:"expoOut"}).call((function(){return t()})).start(),this.notificationData=[],this.Notifications.forEach((function(t){return t.active=!1})),this.SyncNotification()},r.Hide=function(t){var i=d.getVisibleSize();p(this.node).to(1,{position:new g(0,i.height,0)},{easing:"expoOut"}).call((function(){return t()})).start()},r.SetInformation=function(t,i){var n=this;this.timeStart=E(t.createdTime),this.timeEnd=E(t.expiredTime),this.BidName.string=t.content.toUpperCase(),this.TurnCount.string=""+i,this.Auction.active=!t.isSpecial,this.AuctionBambo.active=t.isSpecial,I(t.imageUrl).then((function(t){n.Background.getComponent(D).setContentSize(new b(t.width,t.height)),n.Background.spriteFrame=t})).catch((function(t){}))},r.SetTurn=function(t){this.TurnCount.string=""+t},r.OnPriceChange=function(t){var i=this.FormatPrice(t.string+"00");this.Price.textLabel.string=i.substring(0,i.length-2),this.PriceDigit.active=t.string.length>0},r.FormatPrice=function(t){return t.length>0?(""+parseInt(t)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):t},r.Bid=function(){var t=this.Price.textLabel.string.replace(".","");B.GetInstance().emit(T.BID,{action:v.BID,price:parseInt(t)})},r.Back=function(){B.GetInstance().emit(T.BID,{action:v.BACK})},r.Deal=function(){this.Price.textLabel.string="",this.Hammer.setAnimation(0,$.DEAL,!1)},r.OnHammerAnimationComplete=function(t){switch(t.animation.name){case $.APPEAR:case $.DEAL:this.Hammer.setAnimation(0,$.IDLE,!0)}},i}(y)).prototype,"Background",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(M.prototype,"Auction",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(M.prototype,"AuctionBambo",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=i(M.prototype,"Hammer",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(M.prototype,"BidName",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(M.prototype,"TurnCount",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(M.prototype,"Price",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(M.prototype,"PriceDigit",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(M.prototype,"TimeDigits",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=i(M.prototype,"Notifications",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=M))||F));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopupGift.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,o,a,r,s,c,l,u,f,p,h,d,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.sp,c=t.ParticleSystem,l=t.Node,u=t.Vec3,f=t.tween,p=t.UITransform,h=t.view,d=t.AudioSource,m=t.Component}],execute:function(){var v,g,G,y,C,b,w,O,P;a._RF.push({},"ae5e6oHii1DAp8iAq9daOTv","PopupGift",void 0);var A,D=r.ccclass,E=r.property;!function(t){t.DROP="drop",t.IDLE="idle3",t.OPEN="explosion2"}(A||(A={}));t("PopupGift",(v=D("PopupGift"),g=E({type:s.Skeleton}),G=E({type:c}),y=E({type:l}),v((w=i((b=function(t){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return i=t.call.apply(t,[this].concat(a))||this,n(o(i),"Gift",w,o(i)),n(o(i),"Confetti",O,o(i)),n(o(i),"Congratulation",P,o(i)),i}e(i,t);var a=i.prototype;return a.onEnable=function(){var t=this;this.node.setScale(new u(0,0,1)),f(this.node).to(.5,{scale:new u(1,1,1)},{easing:"elasticOut"}).call((function(){t.Gift.node.active=!0,t.Gift.setAnimation(0,A.DROP,!1)})).start(),this.node.getComponent(p).contentSize=h.getVisibleSize(),this.Gift.setCompleteListener(this.OnGiftAnimationComplete.bind(this)),this.Gift.setEventListener(this.OnGiftAnimationEvent.bind(this))},a.start=function(){},a.Show=function(){this.Congratulation.active=!1,this.Gift.node.active=!1,this.node.active=!0},a.Close=function(){var t=this;f(this.node).to(.5,{scale:new u(0,0,1)},{easing:"elasticIn"}).call((function(){return t.node.active=!1})).start()},a.OpenGift=function(){this.Gift.setAnimation(0,A.OPEN,!1)},a.OnGiftAnimationComplete=function(t){switch(t.animation.name){case A.DROP:this.Gift.setAnimation(0,A.IDLE,!0);break;case A.OPEN:this.Gift.node.active=!1}},a.OnGiftAnimationEvent=function(t,i){switch(i.data.name){case"Firework":this.Confetti.play(),this.Confetti.getComponent(d).play();break;case"Voucher":this.Congratulation.active=!0,this.Congratulation.setScale(new u(0,0,1)),f(this.Congratulation).to(.5,{scale:new u(1,1,1)},{easing:"elasticOut"}).start()}},i}(m)).prototype,"Gift",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(b.prototype,"Confetti",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(b.prototype,"Congratulation",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=b))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopupError.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,o,i,s,a,c,l,u,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,a=e.Label,c=e.Vec3,l=e.tween,u=e.UITransform,p=e.view,f=e.Component}],execute:function(){var h,g,d,v,y;i._RF.push({},"cd786OL4KtC4rtPw+E8R6+f","PopupError",void 0);var w=s.ccclass,m=s.property;e("PopupError",(h=w("PopupError"),g=m({type:a}),h((y=t((v=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,r(o(t),"message",y,o(t)),t}n(t,e);var i=t.prototype;return i.onEnable=function(){this.node.setScale(new c(0,0,1)),l(this.node).to(.5,{scale:new c(1,1,1)},{easing:"elasticOut"}).start()},i.start=function(){},i.Show=function(e){this.message.string=e,this.node.active=!0,this.node.getComponent(u).contentSize=p.getVisibleSize()},i.Close=function(){var e=this;l(this.node).to(.5,{scale:new c(0,0,1)},{easing:"elasticIn"}).call((function(){return e.node.active=!1})).start()},t}(f)).prototype,"message",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=v))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){"use strict";var e,r,n,a;return{setters:[function(t){e=t.cclegacy,r=t.assetManager,n=t.SpriteFrame,a=t.Texture2D}],execute:function(){function i(t){return t<10?"0"+t:t}t({FormatTime:function(t){var e=Math.floor(t/1e3),r=3600,n=Math.floor(e/r),a=Math.floor((e-n*r)/60),o=e-n*r-60*a;n>100&&(n=99);return""+i(n)+i(a)+i(o)},GetSpriteFromUrl:function(t){return new Promise((function(e,i){r.loadRemote(t,{xhrMimeType:"image/png"},(function(t,r){if(t)i(null);else{var o=new n,s=new a;s.image=r,o.texture=s,e(o)}}))}))},RandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},StringDateToShortDate:function(t,e){void 0===e&&(e=!0);try{var r=t.split(" "),n=r[0].split(":"),a=r[1].split("-");return e?a[0]+"/"+a[1]+"\n"+n[0]+":"+n[1]:n[0]+":"+n[1]+" - "+a[0]+"/"+a[1]}catch(e){return t}},StringDateToTimestamp:function(t){try{var e=t.split(" "),r=e[0].split(":"),n=e[1].split("-");return new Date(parseInt(n[2]),parseInt(n[1])-1,parseInt(n[0]),parseInt(r[0]),parseInt(r[1]),parseInt(r[2])).getTime()}catch(t){return(new Date).getTime()}},convert2Character:i}),e._RF.push({},"ceaaasKiCFOKJzHWmAeEI8E","Utils",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,i,r,o,a,c,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Node,u=t.Component}],execute:function(){var s,l,p,f,d;o._RF.push({},"f2b2fXBSjhBZ4KwKnXZ/HX5","Loading",void 0);var g=a.ccclass,y=a.property;t("Loading",(s=g("Loading"),l=y({type:c}),s((d=n((f=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,i(r(n),"icon",d,r(n)),n}e(n,t);var o=n.prototype;return o.start=function(){},o.update=function(t){this.icon.angle-=120*t},n}(u)).prototype,"icon",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,r,i,s;return{setters:[function(n){t=n.inheritsLoose,e=n.defineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,s=n.EventTarget}],execute:function(){i._RF.push({},"f8ad5rydN9EIZ62nOSFY4Dg","EventMgr",void 0);n("default",new(function(n){function i(){for(var t,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return t=n.call.apply(n,[this].concat(s))||this,e(r(t),"instance",null),t}return t(i,n),i.prototype.GetInstance=function(){return null==this.instance&&(this.instance=new i),this.instance},i}(s)));i._RF.pop()}}}));

System.register("chunks:///_virtual/API.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"fbcf8GwQ39CFpEpDpslNfpR","API",void 0);e("default",new(function(){function e(){}var t=e.prototype;return t.Request=function(e,t,n,r){var i=this;void 0===r&&(r=null);return new Promise((function(o,u){var a=new XMLHttpRequest;a.open(e,"https://gate.dev.tripi.vn/tripi-feed"+t,!0),a.setRequestHeader("Content-type","application/json"),a.setRequestHeader("version","1.0"),a.setRequestHeader("appId","tripi-feed"),a.setRequestHeader("appHash",i.GetHash()),null!=r&&a.setRequestHeader("ge-token",r),a.onreadystatechange=function(){4==a.readyState&&(200==a.status?o(a.response):u(a.response))},a.send(n)}))},t.GetHash=function(){var e=(new Date).getTime(),t=(e=e/1e3-e/1e3%300)+":AsnasjldknsajalLASASs86876n4oadn5aod3nlNSLA",n=window.CryptoJS;return n.enc.Base64.stringify(n.SHA256(t))},t.Login=function(e,t,n){var r={accessToken:e,providerName:t,programCode:"auction",referralCode:n};return this.Request("post","/login/oauth2",JSON.stringify(r))},t.Bid=function(e,t,n){var r={programCode:"auction",programId:e,auctionPrice:t};return this.Request("post","/auction/bid",JSON.stringify(r),n)},t.TakeAttendance=function(e,t){return this.Request("get","/auction/take-attendance?programCode=auction&programId="+e,null,t)},t.GetReferralCode=function(e){return this.Request("get","/auction/get-referral-code",null,e)},t.GetUserInfo=function(e){return this.Request("get","/get-user-info",null,e)},t.GetTurns=function(e){return this.Request("get","/auction/get-available-turn?programCode=auction",null,e)},t.GetBiddingHistory=function(e){return this.Request("get","/auction/get-bidding-history?programCode=auction",null,e)},t.GetPrograms=function(){return this.Request("get","/auction/get-program-info?programCode=auction",null)},t.GetWinnerHistory=function(){return this.Request("get","/auction/get-winner-history?programCode=auction",null)},t.GetBiddingRecent=function(){return this.Request("get","/auction/get-recent-bidding?programCode=auction",null)},e}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Defines.ts","./EventMgr.ts","./PopupAgreement.ts","./Utils.ts","./ItemBidding.ts","./API.ts","./Loading.ts","./ItemWinner.ts","./ItemProgram.ts","./Main.ts","./Timer.ts","./ItemNotification.ts","./Bid.ts","./PopupError.ts","./PopupInformation.ts","./PopupGift.ts","./GameMgr.ts","./Login.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});