System.register("chunks:///_virtual/PopupAgreement.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts"],(function(e){"use strict";var t,n,i,o,r,a,s,c,l,u,g,p,h,b,f,d,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.WebView,c=e.Toggle,l=e.Button,u=e.Vec3,g=e.tween,p=e.UITransform,h=e.view,b=e.Component},function(e){f=e.EventName,d=e.ActionMain},function(e){A=e.default}],execute:function(){var w,v,y,m,L,O,I,z,C;r._RF.push({},"252de94ShdLxLFIQbxXPCxA","PopupAgreement",void 0);var P=a.ccclass,T=a.property;e("PopupAgreement",(w=P("PopupAgreement"),v=T({type:s}),y=T({type:c}),m=T({type:l}),w((I=t((O=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(o(t),"webview",I,o(t)),i(o(t),"toggleAgree",z,o(t)),i(o(t),"buttonAgree",C,o(t)),t}n(t,e);var r=t.prototype;return r.onEnable=function(){this.node.setScale(new u(0,0,1)),g(this.node).to(.5,{scale:new u(1,1,1)},{easing:"elasticOut"}).start()},r.start=function(){this.webview.node.on(s.EventType.LOADED,this.OnWebViewLoaded,this),this.toggleAgree.node.on("toggle",this.OnToggle,this),this.buttonAgree.node.on(l.EventType.CLICK,this.OnAgreement,this),this.toggleAgree.interactable=!1,this.buttonAgree.interactable=!1},r.Show=function(){this.node.active=!0,this.node.getComponent(p).contentSize=h.getVisibleSize()},r.Close=function(){var e=this;g(this.node).to(.5,{scale:new u(0,0,1)},{easing:"elasticIn"}).call((function(){return e.node.active=!1})).start()},r.OnWebViewLoaded=function(){this.toggleAgree.interactable=!0},r.OnToggle=function(e){this.buttonAgree.interactable=e.isChecked},r.OnAgreement=function(){A.GetInstance().emit(f.MAIN,{action:d.LOGIN})},t}(b)).prototype,"webview",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(O.prototype,"toggleAgree",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(O.prototype,"buttonAgree",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=O))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemBidding.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(t){"use strict";var e,i,n,r,o,a,s,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Label,u=t.Component},function(t){c=t.StringDateToShortDate}],execute:function(){var l,p,f,d,g,m,y,b,h;o._RF.push({},"29b29DhKDpPx6KKXVpIBp3Z","ItemBidding",void 0);var D=a.ccclass,I=a.property;t("ItemBidding",(l=D("ItemBidding"),p=I({type:s}),f=I({type:s}),d=I({type:s}),l((y=e((m=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(r(e),"time",y,r(e)),n(r(e),"description",b,r(e)),n(r(e),"status",h,r(e)),e}i(e,t);var o=e.prototype;return o.start=function(){},o.SetInformation=function(t){this.time.string=c(t.auctionDate),this.description.string=t.programInfo.content,this.status.string=t.status},e}(u)).prototype,"time",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(m.prototype,"description",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=e(m.prototype,"status",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./PopupAgreement.ts","./API.ts","./Loading.ts","./Login.ts","./Main.ts","./Bid.ts","./PopupError.ts"],(function(e){"use strict";var t,i,n,a,o,r,s,c,l,u,h,f,p,d,g,S,m,v,I,b,N,A,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.defineProperty},function(e){r=e.cclegacy,s=e._decorator,c=e.sys,l=e.Component},function(e){u=e.Profiles,h=e.UserInfos,f=e.EventName,p=e.ActionLogin,d=e.ActionMain,g=e.ActionBid},function(e){S=e.default},function(e){m=e.PopupAgreement},function(e){v=e.default},function(e){I=e.Loading},function(e){b=e.Login},function(e){N=e.Main},function(e){A=e.Bid},function(e){w=e.PopupError}],execute:function(){var E,P,T,G,O,M,k,y,_,L,R,D,U,B,C;r._RF.push({},"2df67cPW6dPX48dJVTWAnOy","GameMgr",void 0);var F,z=s.ccclass,j=s.property;!function(e){e[e.INIT=0]="INIT",e[e.GET_PROGRAMS=1]="GET_PROGRAMS",e[e.LOGIN=2]="LOGIN",e[e.GET_USER_INFO=3]="GET_USER_INFO",e[e.GET_TURNS=4]="GET_TURNS",e[e.ATTENDANCE=5]="ATTENDANCE",e[e.MAIN=6]="MAIN",e[e.BID=7]="BID"}(F||(F={}));e("GameMgr",(E=z("GameMgr"),P=j({type:b}),T=j({type:N}),G=j({type:A}),O=j({type:I}),M=j({type:w}),k=j({type:m}),E((L=t((_=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(a(t),"login",L,a(t)),n(a(t),"main",R,a(t)),n(a(t),"bid",D,a(t)),n(a(t),"loading",U,a(t)),n(a(t),"popupError",B,a(t)),n(a(t),"popupAgreement",C,a(t)),o(a(t),"state",void 0),o(a(t),"profiles",new u),o(a(t),"userinfos",new h),o(a(t),"programs",null),o(a(t),"params",void 0),t}i(t,e);var r=t.prototype;return r.start=function(){S.GetInstance().on(f.LOGIN,this.OnLoginAction,this),S.GetInstance().on(f.MAIN,this.OnMainAction,this),S.GetInstance().on(f.BID,this.OnBidAction,this),this.params=this.ParseUrl(window.location.href),this.SetState(F.INIT)},r.update=function(e){switch(this.state){case F.INIT:}},r.SetState=function(e){var t=this;switch(this.state=e,this.state){case F.INIT:this.login.node.active=!1,this.main.node.active=!1,this.bid.node.active=!1,this.loading.node.active=!0,this.LoadProfile(),this.SetState(F.GET_PROGRAMS);break;case F.GET_PROGRAMS:v.GetPrograms().then((function(e){var i=t.ParseData(e);i instanceof Object?(t.programs=i,""!=t.profiles.token?t.SetState(F.GET_USER_INFO):t.SetState(F.LOGIN)):(t.loading.node.active=!1,t.ShowMessage(i))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case F.LOGIN:"mobile"==this.params.platform?this.params.token?this.OnLoginAction({action:p.LOGIN_SUCCESS,data:{token:this.params.token,platform:"mytour"}}):this.SetState(F.MAIN):(this.loading.node.active=!1,this.login.node.active=!0);break;case F.GET_USER_INFO:v.GetUserInfo(this.profiles.token).then((function(e){var i=t.ParseData(e);i instanceof Object?(t.userinfos.name=i.name,t.userinfos.email=i.email,t.userinfos.image=i.image,t.SetState(F.GET_TURNS)):(t.loading.node.active=!1,t.ShowMessage(i))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case F.GET_TURNS:v.GetTurns(this.profiles.token).then((function(e){var i=t.ParseData(e);i instanceof Object?(t.userinfos.turns=i.currentTurn,t.SetState(F.ATTENDANCE)):(t.loading.node.active=!1,t.ShowMessage(i))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case F.ATTENDANCE:var i=this.programs.currentProgram.id;this.profiles.attendance.some((function(e){return e==i}))?this.SetState(F.MAIN):v.TakeAttendance(i,this.profiles.token).then((function(e){t.profiles.attendance.push(i),t.SaveProfiles(),t.SetState(F.MAIN)})).catch((function(e){t.SetState(F.MAIN)}));break;case F.MAIN:this.login.node.active=!1,this.loading.node.active=!1,this.main.SetInfomation({userinfos:this.userinfos,programData:this.programs,token:this.profiles.token}),this.main.node.active=!0;break;case F.BID:this.Bid(1200)}},r.Bid=function(e){var t=this;this.loading.node.active=!0,v.Bid(this.programs.currentProgram.id,e,this.profiles.token).then((function(e){var i=t.ParseData(e);i instanceof Object?(t.userinfos.turns=i.currentTurn,t.bid.SetInformation(t.programs.currentProgram,t.userinfos.turns),t.loading.node.active=!1):(t.loading.node.active=!1,t.ShowMessage(i))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}))},r.LoadProfile=function(){try{var e=JSON.parse(c.localStorage.getItem("profiles"));null!=e&&(this.profiles=e)}catch(e){}},r.SaveProfiles=function(){c.localStorage.setItem("profiles",JSON.stringify(this.profiles))},r.ShowMessage=function(e){this.popupError.Show(e)},r.ParseData=function(e){try{return 200==(e=JSON.parse(e)).code?e.data:e.message}catch(e){return"Data Invalid"}},r.ParseUrl=function(e){for(var t,i=/[?&]([^=#]+)=([^&#]*)/g,n={};t=i.exec(e);)n[t[1]]=decodeURIComponent(t[2]);return n},r.Share=function(e){"mobile"==this.params.platform?window.location.href="gh://sharing?content="+e:this.ShareFallback(e)},r.ShareNative=function(e){navigator.share({url:e})},r.ShareFallback=function(e){var t=document.querySelector("web-social-share");if(t&&window){var i={displayNames:!0,config:[{facebook:{socialShareUrl:e,socialSharePopupWidth:400,socialSharePopupHeight:400}},{twitter:{socialShareUrl:e,socialSharePopupWidth:300,socialSharePopupHeight:400}},{whatsapp:{socialShareUrl:e}},{copy:{socialShareUrl:e}}]};t.share=i,t.show=!0}},r.OnLoginAction=function(e){var t=this;switch(e.action){case p.LOGIN:this.loading.node.active=!0;break;case p.LOGIN_SUCCESS:var i=e.data;v.Login(i.token,i.platform).then((function(e){var i=t.ParseData(e);i instanceof Object?(t.profiles.token=i.token,t.SaveProfiles(),t.SetState(F.GET_USER_INFO)):(t.loading.node.active=!1,t.ShowMessage(i))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case p.LOGIN_FAIL:this.loading.node.active=!1}},r.OnMainAction=function(e){var t=this;switch(e.action){case d.PLAY:""!=this.profiles.token?(this.bid.SetInformation(this.programs.currentProgram,this.userinfos.turns),this.bid.Show((function(){t.main.node.active=!1}))):this.popupAgreement.Show();break;case d.LOGIN:window.location.href="gh://redirect-to-login";break;case d.SHARE:this.Share("https://google.com");break;case d.EXIT:window.location.href="gh://exit"}},r.OnBidAction=function(e){var t=this;switch(e.action){case g.BID:this.Bid(e.price);break;case g.MORE_TURN:break;case g.BACK:this.main.node.active=!0,this.main.SetupBidding(),this.bid.Hide((function(){t.bid.node.active=!1}))}},t}(l)).prototype,"login",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(_.prototype,"main",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(_.prototype,"bid",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(_.prototype,"loading",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(_.prototype,"popupError",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(_.prototype,"popupAgreement",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=_))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemWinner.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,r,t,i,o,c,a,l;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Label,l=e.Component}],execute:function(){var u,p,s,f,y,g,m,b,h;o._RF.push({},"3559aEckTBCrqIgOqHLWCp2","ItemWinner",void 0);var d=c.ccclass,I=c.property;e("ItemWinner",(u=d("ItemWinner"),p=I({type:a}),s=I({type:a}),f=I({type:a}),u((m=n((g=function(e){function n(){for(var n,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return n=e.call.apply(e,[this].concat(o))||this,t(i(n),"winner",m,i(n)),t(i(n),"description",b,i(n)),t(i(n),"price",h,i(n)),n}r(n,e);var o=n.prototype;return o.start=function(){},o.SetInformation=function(e){this.winner.string=e.name,this.description.string=e.programInfo.content,this.price.string=e.auctionPrice},n}(l)).prototype,"winner",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=n(g.prototype,"description",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=n(g.prototype,"price",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/Main.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./Utils.ts","./ItemBidding.ts","./API.ts","./ItemWinner.ts","./ItemProgram.ts"],(function(n){"use strict";var i,t,e,r,o,a,u,d,s,l,c,g,p,f,m,h,b,y,I,w,P,v;return{setters:[function(n){i=n.applyDecoratedDescriptor,t=n.inheritsLoose,e=n.initializerDefineProperty,r=n.assertThisInitialized,o=n.defineProperty},function(n){a=n.cclegacy,u=n._decorator,d=n.Node,s=n.Prefab,l=n.instantiate,c=n.UITransform,g=n.tween,p=n.Size,f=n.Component},function(n){m=n.EventName,h=n.ActionMain},function(n){b=n.default},function(n){y=n.StringDateToTimestamp},function(n){I=n.ItemBidding},function(n){w=n.default},function(n){P=n.ItemWinner},function(n){v=n.ItemProgram}],execute:function(){var S,B,x,W,C,M,z,E,N,D,T,A,k,G,_,H,L,U,F,J,R,O,j;a._RF.push({},"418ddTz9+lC7bF5livsSJvo","Main",void 0);var X=u.ccclass,Y=u.property;n("Main",(S=X("Main"),B=Y({type:d}),x=Y({type:d}),W=Y({type:d}),C=Y({type:d}),M=Y({type:d}),z=Y({type:d}),E=Y({type:d}),N=Y({type:s}),D=Y({type:s}),T=Y({type:s}),S((G=i((k=function(n){function i(){for(var i,t=arguments.length,a=new Array(t),u=0;u<t;u++)a[u]=arguments[u];return i=n.call.apply(n,[this].concat(a))||this,e(r(i),"BiddingNode",G,r(i)),e(r(i),"BiddingContainer",_,r(i)),e(r(i),"BiddingMore",H,r(i)),e(r(i),"WinnerNode",L,r(i)),e(r(i),"WinnerContainer",U,r(i)),e(r(i),"WinnerMore",F,r(i)),e(r(i),"ProgramContainer",J,r(i)),e(r(i),"PrefabWinner",R,r(i)),e(r(i),"PrefabBidding",O,r(i)),e(r(i),"PrefabProgram",j,r(i)),o(r(i),"winner",[]),o(r(i),"bidding",[]),o(r(i),"program",[]),o(r(i),"userinfos",void 0),o(r(i),"programData",void 0),o(r(i),"winnerIndex",0),o(r(i),"biddingIndex",0),o(r(i),"token",void 0),o(r(i),"timeStart",0),o(r(i),"timeEnd",0),i}t(i,n);var a=i.prototype;return a.start=function(){},a.update=function(n){this.UpdateCountDown()},a.SetInfomation=function(n){this.userinfos=n.userinfos||{},this.programData=n.programData,this.token=n.token||"",this.timeStart=y(this.programData.currentProgram.createdTime),this.timeEnd=y(this.programData.currentProgram.expiredTime),this.SyncInfomationTop(),this.SetupBidding(),this.SetupWinner(),this.SetupNextProgram()},a.SyncInfomationTop=function(){},a.SetupNextProgram=function(){var n=this;this.programData.nextProgram.forEach((function(i,t){var e=null;t<n.program.length?e=n.program[t]:((e=l(n.PrefabProgram)).parent=n.ProgramContainer,n.program.push(e)),e.getComponent(v).SetInformation(i)}))},a.SetupWinner=function(){var n=this;w.GetWinnerHistory().then((function(i){JSON.parse(i).data.winnerList.forEach((function(i,t){var e=null;t<n.winner.length?e=n.winner[t]:((e=l(n.PrefabWinner)).parent=n.WinnerContainer,n.winner.push(e)),e.getComponent(P).SetInformation(i)})),n.ExpandWinner()})).catch((function(n){}))},a.SetupBidding=function(){var n=this;""!=this.token?w.GetBiddingHistory(this.token).then((function(i){JSON.parse(i).data.listAuction.forEach((function(i,t){var e=null;t<n.bidding.length?e=n.bidding[t]:((e=l(n.PrefabBidding)).parent=n.BiddingContainer,n.bidding.push(e)),e.getComponent(I).SetInformation(i)})),n.ExpandBidding()})).catch((function(n){})):this.ExpandBidding()},a.UpdateCountDown=function(){this.timeEnd,(new Date).getTime()},a.Play=function(){b.GetInstance().emit(m.MAIN,{action:h.PLAY})},a.Share=function(){b.GetInstance().emit(m.MAIN,{action:h.SHARE})},a.Exit=function(){b.GetInstance().emit(m.MAIN,{action:h.EXIT})},a.ExpandBidding=function(){this.biddingIndex=Math.min(this.biddingIndex+3,this.bidding.length);var n=this.BiddingNode.getComponent(c);g(n).to(.5,{contentSize:new p(750,100*(this.biddingIndex+2))},{easing:"sineIn"}).start(),this.BiddingMore.active=this.bidding.length!=this.biddingIndex,this.BiddingNode.active=this.bidding.length>0},a.ExpandWinner=function(){this.winnerIndex=Math.min(this.winnerIndex+3,this.winner.length);var n=this.WinnerNode.getComponent(c);g(n).to(.5,{contentSize:new p(750,100*(this.winnerIndex+2))},{easing:"sineIn"}).start(),this.WinnerMore.active=this.winner.length!=this.winnerIndex},i}(f)).prototype,"BiddingNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(k.prototype,"BiddingContainer",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(k.prototype,"BiddingMore",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(k.prototype,"WinnerNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(k.prototype,"WinnerContainer",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(k.prototype,"WinnerMore",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(k.prototype,"ProgramContainer",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(k.prototype,"PrefabWinner",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(k.prototype,"PrefabBidding",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(k.prototype,"PrefabProgram",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=k))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/Defines.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var i,t;return{setters:[function(n){i=n.defineProperty},function(n){t=n.cclegacy}],execute:function(){var e,o,c,s;n({ActionBid:void 0,ActionLogin:void 0,ActionMain:void 0,EventName:void 0}),t._RF.push({},"71218fYhlJHzoDWjLv2DGMl","Defines",void 0),function(n){n.LOGIN="event_login",n.MAIN="event_main",n.BID="event_bid"}(e||(e=n("EventName",{}))),function(n){n[n.LOGIN=0]="LOGIN",n[n.LOGIN_SUCCESS=1]="LOGIN_SUCCESS",n[n.LOGIN_FAIL=2]="LOGIN_FAIL"}(o||(o=n("ActionLogin",{}))),function(n){n[n.PLAY=0]="PLAY",n[n.LOGIN=1]="LOGIN",n[n.SHARE=2]="SHARE",n[n.EXIT=3]="EXIT"}(c||(c=n("ActionMain",{}))),function(n){n[n.BID=0]="BID",n[n.MORE_TURN=1]="MORE_TURN",n[n.BACK=2]="BACK"}(s||(s=n("ActionBid",{})));n("Profiles",(function(){i(this,"token",""),i(this,"attendance",[])})),n("UserInfos",(function(){i(this,"name",""),i(this,"email",""),i(this,"image",""),i(this,"turns",0)}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ItemProgram.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,n,i,o,a,c,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Label,l=e.Component}],execute:function(){var u,p,s,f,m,y,b,g,h;o._RF.push({},"7b38eim8h9B5ozHT5BG2m7Y","ItemProgram",void 0);var d=a.ccclass,v=a.property;e("ItemProgram",(u=d("ItemProgram"),p=v({type:c}),s=v({type:c}),f=v({type:c}),u((b=r((y=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,n(i(r),"winner",b,i(r)),n(i(r),"description",g,i(r)),n(i(r),"price",h,i(r)),r}t(r,e);var o=r.prototype;return o.start=function(){},o.SetInformation=function(e){},r}(l)).prototype,"winner",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=r(y.prototype,"description",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=r(y.prototype,"price",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=y))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/Login.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts"],(function(o){"use strict";var t,e,n,i,a,s,c,g,l;return{setters:[function(o){t=o.inheritsLoose,e=o.defineProperty,n=o.assertThisInitialized},function(o){i=o.cclegacy,a=o._decorator,s=o.Component},function(o){c=o.EventName,g=o.ActionLogin},function(o){l=o.default}],execute:function(){var u;i._RF.push({},"88819R1zIVFQawyuDuWo1i2","Login",void 0);var r=a.ccclass;a.property,o("Login",r("Login")(u=function(o){function i(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=o.call.apply(o,[this].concat(a))||this,e(n(t),"fbSDK",null),e(n(t),"googleApi",null),e(n(t),"googleAuth",null),e(n(t),"googleUser",null),t}t(i,o);var a=i.prototype;return a.onLoad=function(){this.fbSDK=window.FB,this.googleApi=window.gapi,this.googleApi.load("auth2",this.GoogleApiLoaded.bind(this))},a.update=function(o){},a.FacebookLogin=function(){var o=this;this.fbSDK.getLoginStatus((function(t){var e="";"connected"===t.status?(e=t.authResponse.accessToken,l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_SUCCESS,data:{platform:"facebook",token:e}})):(l.GetInstance().emit(c.LOGIN,{action:g.LOGIN,data:{platform:"facebook"}}),o.fbSDK.login((function(o){o.authResponse?(e=o.authResponse.accessToken,l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_SUCCESS,data:{platform:"facebook",token:e}})):l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_FAIL,data:{platform:"facebook"}})})))}))},a.GoogleLogin=function(){this.googleAuth&&(this.googleAuth.signIn().then((function(o){var t=o.getAuthResponse().access_token;l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_SUCCESS,data:{platform:"google",token:t}})})).catch((function(o){l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_FAIL,data:{platform:"google"}})})),l.GetInstance().emit(c.LOGIN,{action:g.LOGIN,data:{platform:"google"}}))},a.GoogleApiLoaded=function(){this.googleAuth=this.googleApi.auth2.init({client_id:"22807595564-aphe2ofiu08oo4aq01dauj5dibstl4pk.apps.googleusercontent.com",scope:"profile"}),1==this.googleAuth.isSignedIn.get()&&this.GoogleLogin()},a.GoogleSigninChanged=function(o){console.log(o)},a.GoogleUserChanged=function(o){var t=o.getAuthResponse().access_token;null!=t&&l.GetInstance().emit(c.LOGIN,{action:g.LOGIN_SUCCESS,data:{platform:"google",token:t}})},i}(s))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/Bid.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Defines.ts","./EventMgr.ts","./Utils.ts"],(function(t){"use strict";var e,i,n,r,o,a,c,s,u,l,p,f,d,m,h,g,v,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.defineProperty},function(t){a=t.cclegacy,c=t._decorator,s=t.Label,u=t.EditBox,l=t.view,p=t.Vec3,f=t.tween,d=t.Component},function(t){m=t.EventName,h=t.ActionBid},function(t){g=t.default},function(t){v=t.FormatTime,b=t.StringDateToTimestamp}],execute:function(){var B,y,w,D,I,S,T,z,E;a._RF.push({},"abe62Rom6RGOZBhSfqtMLHb","Bid",void 0);var R=c.ccclass,_=c.property;t("Bid",(B=R("Bid"),y=_(s),w=_(s),D=_(u),B((T=e((S=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a))||this,n(r(e),"time",T,r(e)),n(r(e),"turns",z,r(e)),n(r(e),"price",E,r(e)),o(r(e),"timeStart",void 0),o(r(e),"timeEnd",void 0),e}i(e,t);var a=e.prototype;return a.start=function(){},a.update=function(t){var e=this.timeEnd-(new Date).getTime();this.time.string=v(e)},a.Show=function(t){var e=l.getVisibleSize();this.node.active=!0,this.node.position=new p(0,e.height,0),f(this.node).to(1,{position:new p(0,0,0)},{easing:"expoOut"}).call((function(){return t()})).start()},a.Hide=function(t){var e=l.getVisibleSize();f(this.node).to(1,{position:new p(0,e.height,0)},{easing:"expoOut"}).call((function(){return t()})).start()},a.SetInformation=function(t,e){this.timeStart=b(t.createdTime),this.timeEnd=b(t.expiredTime),this.turns.string=""+e},a.Bid=function(){g.GetInstance().emit(m.BID,{action:h.BID,price:parseInt(this.price.string)})},a.MoreTurn=function(){g.GetInstance().emit(m.BID,{action:h.MORE_TURN})},a.Back=function(){g.GetInstance().emit(m.BID,{action:h.BACK})},e}(d)).prototype,"time",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(S.prototype,"turns",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"price",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=S))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopupError.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,o,i,s,a,c,l,u,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,a=e.Label,c=e.Vec3,l=e.tween,u=e.UITransform,p=e.view,f=e.Component}],execute:function(){var h,g,d,v,y;i._RF.push({},"cd786OL4KtC4rtPw+E8R6+f","PopupError",void 0);var w=s.ccclass,m=s.property;e("PopupError",(h=w("PopupError"),g=m({type:a}),h((y=t((v=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,r(o(t),"message",y,o(t)),t}n(t,e);var i=t.prototype;return i.onEnable=function(){this.node.setScale(new c(0,0,1)),l(this.node).to(.5,{scale:new c(1,1,1)},{easing:"elasticOut"}).start()},i.start=function(){},i.Show=function(e){this.message.string=e,this.node.active=!0,this.node.getComponent(u).contentSize=p.getVisibleSize()},i.Close=function(){var e=this;l(this.node).to(.5,{scale:new c(0,0,1)},{easing:"elasticIn"}).call((function(){return e.node.active=!1})).start()},t}(f)).prototype,"message",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=v))||d));i._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){"use strict";var e,r,n,a;return{setters:[function(t){e=t.cclegacy,r=t.assetManager,n=t.SpriteFrame,a=t.Texture2D}],execute:function(){function i(t){return t<10?"0"+t:t}t({CopyClipboard:function(t){window.copyToClipboard(t)},FormatTime:function(t){var e=Math.floor(t/1e3),r=3600,n=Math.floor(e/r),a=Math.floor((e-n*r)/60),o=e-n*r-60*a;return i(n)+":"+i(a)+":"+i(o)},GetSpriteFromUrl:function(t){return new Promise((function(e,i){r.loadRemote(t,(function(t,r){if(t)i(null);else{var o=new n,s=new a;s.image=r,o.texture=s,e(o)}}))}))},StringDateToShortDate:function(t){try{var e=t.split(" "),r=e[0].split(":"),n=e[1].split("-");return n[0]+"/"+n[1]+"\n"+r[0]+":"+r[1]}catch(e){return t}},StringDateToTimestamp:function(t){try{var e=t.split(" "),r=e[0].split(":"),n=e[1].split("-");return new Date(parseInt(n[2]),parseInt(n[1])-1,parseInt(n[0]),parseInt(r[0]),parseInt(r[1]),parseInt(r[2])).getTime()}catch(t){return(new Date).getTime()}},convert2Character:i}),e._RF.push({},"ceaaasKiCFOKJzHWmAeEI8E","Utils",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,i,r,o,a,c,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Node,u=t.Component}],execute:function(){var s,l,p,f,d;o._RF.push({},"f2b2fXBSjhBZ4KwKnXZ/HX5","Loading",void 0);var g=a.ccclass,y=a.property;t("Loading",(s=g("Loading"),l=y({type:c}),s((d=n((f=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,i(r(n),"icon",d,r(n)),n}e(n,t);var o=n.prototype;return o.start=function(){},o.update=function(t){this.icon.angle-=120*t},n}(u)).prototype,"icon",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,r,i,s;return{setters:[function(n){t=n.inheritsLoose,e=n.defineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,s=n.EventTarget}],execute:function(){i._RF.push({},"f8ad5rydN9EIZ62nOSFY4Dg","EventMgr",void 0);n("default",new(function(n){function i(){for(var t,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return t=n.call.apply(n,[this].concat(s))||this,e(r(t),"instance",null),t}return t(i,n),i.prototype.GetInstance=function(){return null==this.instance&&(this.instance=new i),this.instance},i}(s)));i._RF.pop()}}}));

System.register("chunks:///_virtual/API.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"fbcf8GwQ39CFpEpDpslNfpR","API",void 0);e("default",new(function(){function e(){}var t=e.prototype;return t.Request=function(e,t,n,r){var i=this;void 0===r&&(r=null);return new Promise((function(o,u){var a=new XMLHttpRequest;a.open(e,"https://gate.dev.tripi.vn/tripi-feed"+t,!0),a.setRequestHeader("Content-type","application/json"),a.setRequestHeader("version","1.0"),a.setRequestHeader("appId","tripi-feed"),a.setRequestHeader("appHash",i.GetHash()),null!=r&&a.setRequestHeader("ge-token",r),a.onreadystatechange=function(){4==a.readyState&&(200==a.status?o(a.response):u(a.response))},a.send(n)}))},t.GetHash=function(){var e=(new Date).getTime(),t=(e=e/1e3-e/1e3%300)+":AsnasjldknsajalLASASs86876n4oadn5aod3nlNSLA",n=window.CryptoJS;return n.enc.Base64.stringify(n.SHA256(t))},t.Login=function(e,t){var n={accessToken:e,providerName:t,programCode:"auction",referralCode:""};return this.Request("post","/login/oauth2",JSON.stringify(n))},t.Bid=function(e,t,n){var r={programCode:"auction",programId:e,auctionPrice:t};return this.Request("post","/auction/bid",JSON.stringify(r),n)},t.TakeAttendance=function(e,t){return this.Request("get","/auction/take-attendance?programCode=auction&programId="+e,null,t)},t.GetReferralCode=function(e){return this.Request("get","/auction/get-referral-code",null,e)},t.GetUserInfo=function(e){return this.Request("get","/get-user-info",null,e)},t.GetTurns=function(e){return this.Request("get","/auction/get-available-turn?programCode=auction",null,e)},t.GetBiddingHistory=function(e){return this.Request("get","/auction/get-bidding-history?programCode=auction",null,e)},t.GetPrograms=function(){return this.Request("get","/auction/get-program-info?programCode=auction",null)},t.GetWinnerHistory=function(){return this.Request("get","/auction/get-winner-history?programCode=auction",null)},t.GetBiddingRecent=function(){return this.Request("get","/auction/get-recent-bidding?programCode=auction",null)},e}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Defines.ts","./EventMgr.ts","./PopupAgreement.ts","./Utils.ts","./ItemBidding.ts","./API.ts","./Loading.ts","./Login.ts","./ItemWinner.ts","./ItemProgram.ts","./Main.ts","./Bid.ts","./PopupError.ts","./GameMgr.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});