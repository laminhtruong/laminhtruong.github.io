System.register("chunks:///fight/fightConstants.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(t,R){var n,_,e;return{setters:[function(t){n=t.defineProperty},function(t){_=t.cclegacy}],execute:function(){_._RF.push({},"dbe36y+LwBGGIL8I87F3O+/","fightConstants",void 0),t("fightConstants",e=function(){}),n(e,"ROAD_POINT_TYPE",{NORMAL:1,START:2,GREETING:3,PLATFORM:4,END:5,AI_START:6}),n(e,"ROAD_MOVE_TYPE",{LINE:1,BEND:2}),n(e,"CAR_GROUP",{NORMAL:1,MAIN_CAR:2,OTHER_CAR:4}),n(e,"CUSTOMER_TALK_TIME",{INTO_THE_CAR:1,NEW_ORDER:2}),n(e,"CLICK_BOX_REWARD",300),_._RF.pop()}}}));

System.register("chunks:///framework/oneToMultiListener.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(r,t){var e,n,o,i,s,a,u,l;return r({_dec:void 0,_class:void 0,_class2:void 0,_temp:void 0}),{setters:[function(r){e=r.defineProperty},function(r){n=r.cclegacy,o=r._decorator}],execute:function(){n._RF.push({},"10a25g6TDNP2IICdF4Htopx","oneToMultiListener",void 0),l=o.ccclass,r("oneToMultiListener",(i=l("oneToMultiListener"),i((u=a=function(){function r(){}return r.on=function(r,t,e){var n={handler:t,target:e},o=this.handlers[r];o||(o=[],this.handlers[r]=o);for(var i=0;i<o.length;i++)if(!o[i])return o[i]=n,i;return o.push(n),o.length},r.off=function(r,t,e){var n=this.handlers[r];if(n)for(var o=0;o<n.length;o++){var i=n[o];if(i.handler===t&&(!e||e===i.target)){n.splice(o,1);break}}},r.dispatchEvent=function(r){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];var o,i=this.handlers[r];e=[];for(o=1;o<arguments.length;o++)e.push(arguments[o]);if(i)for(o=0;o<i.length;o++){var s=i[o];s.handler&&s.handler.apply(s.target,e)}},r.setSupportEventList=function(r){if(!(r instanceof Array))return cc.error("supportEvent was not array"),!1;for(var t in this.supportEvent={},r){var e=r[t];this.supportEvent[e]=t}return!0},r}(),e(a,"handlers",void 0),e(a,"supportEvent",void 0),s=u))||s)),n._RF.pop()}}}));

System.register("chunks:///framework/clientEvent.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","./oneToMultiListener.js"],(function(e,t){var n,i,c,o,r,s,l,u,a,p;return e({_dec:void 0,_class:void 0,_class2:void 0,_temp:void 0}),{setters:[function(e){n=e.defineProperty,i=e.inheritsLoose},function(e){c=e.cclegacy,o=e._decorator},function(e){r=e.oneToMultiListener}],execute:function(){c._RF.push({},"5a305zVBk5GUIdzJLbOwV+H","clientEvent",void 0),p=o.ccclass,o.property,e("clientEvent",(s=p("clientEvent"),s((a=u=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t}(r),n(u,"handlers",{}),l=a))||l)),c._RF.pop()}}}));

System.register("chunks:///framework/configuration.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(t,s){var a,i,n,e,o,c,r,h,u;return t({_dec:void 0,_class:void 0,_class2:void 0,_temp:void 0}),{setters:[function(t){a=t.defineProperty,i=t.createClass},function(t){n=t.cclegacy,e=t._decorator}],execute:function(){n._RF.push({},"05c37maoztIcqYQxP8Afj1j","configuration",void 0),u=e.ccclass,t("configuration",(o=u("configuration"),o((h=r=function(){function t(){a(this,"jsonData",null),a(this,"path",null),a(this,"KEY_CONFIG","CarConfig"),a(this,"markSave",!1),a(this,"saveTimer",-1)}var s=t.prototype;return s.start=function(){var t,s=this;(this.jsonData={userId:""},this.path=this.getConfigPath(),cc.sys.isNative)?t=jsb.fileUtils.getValueMapFromFile(this.path)[this.KEY_CONFIG]:t=cc.sys.localStorage.getItem(this.KEY_CONFIG);if(t&&t.length){t.startsWith("@")&&(t=t.substring(1));try{var a=JSON.parse(t);this.jsonData=a}catch(t){}}this.saveTimer=setInterval((function(){s.scheduleSave()}),500)},s.setConfigDataWithoutSave=function(t,s){var a=this.jsonData.userId;this.jsonData[a]?this.jsonData[a][t]=s:console.error("no account can not save")},s.setConfigData=function(t,s){this.setConfigDataWithoutSave(t,s),this.markSave=!0},s.getConfigData=function(t){var s=this.jsonData.userId;if(this.jsonData[s]){var a=this.jsonData[s][t];return a||""}return cc.log("no account can not load"),""},s.setGlobalData=function(t,s){this.jsonData[t]=s,this.save()},s.getGlobalData=function(t){return this.jsonData[t]},s.setUserId=function(t){this.jsonData.userId=t,this.jsonData[t]||(this.jsonData[t]={}),this.save()},s.getUserId=function(){return this.jsonData.userId},s.scheduleSave=function(){this.markSave&&this.save()},s.markModified=function(){this.markSave=!0},s.save=function(){var t=JSON.stringify(this.jsonData);if(this.markSave=!1,cc.sys.isNative){var s={};s[this.KEY_CONFIG]=t,jsb.fileUtils.writeToFile(s,this.path)}else{cc.sys.localStorage.setItem(this.KEY_CONFIG,t)}},s.getConfigPath=function(){var t=cc.sys.platform,s="";return t===cc.sys.OS_WINDOWS?s="src/conf":t===cc.sys.OS_LINUX?s="./conf":cc.sys.isNative?(s=jsb.fileUtils.getWritablePath(),s+="conf"):s="src/conf",s},s.parseUrl=function(t){if(t&&!("string"==typeof t&&t.length<=0)){var s={};if("string"==typeof t)(t=t.split("?")[1]).split("&").forEach((function(t){var a=t.indexOf("=");if(-1!==a){var i=t.substring(0,a);s[i]=t.substring(a+1)}}));else s=t;s.action&&this.setGlobalData("urlParams",s),s.source&&this.setGlobalData("source",s.source),s.adchannelid&&this.setGlobalData("adchannelid",s.adchannelid)}},t.generateGuestAccount=function(){return""+Date.now()+10},i(t,null,[{key:"instance",get:function(){return this._instance?this._instance:(this._instance=new t,this._instance.start(),this._instance)}}]),t}(),a(r,"_instance",void 0),c=h))||c)),n._RF.pop()}}}));

System.register("chunks:///framework/resourceUtil.js",["cc"],(function(e,t){var a,r,n,o,c,s,i,f;return e({_dec:void 0,_class:void 0}),{setters:[function(e){a=e.cclegacy,r=e._decorator,n=e.Prefab,o=e.SpriteFrame,c=e.Texture2D}],execute:function(){a._RF.push({},"aebeeEGJRZGbK315QTzsoll","resourceUtil",void 0),f=r.ccclass,e("resourceUtil",(s=f("resourceUtil"),s(i=function(){function e(){}return e.loadRes=function(e,t,a){cc.loader.loadRes(e,t,(function(e,t){if(e)return cc.error(e.message||e),void a(e,t);a(e,t)}))},e.getMap=function(e,t){var a="map";a+=e>=100?e:e>=10?"0"+e:"00"+e,this.loadRes("gamePackage/map/config/"+a,null,(function(e,a){if(e)t(e,a);else{var r="";if(a._file){window.LZString&&(r=window.LZString.decompressFromEncodedURIComponent(a._file));var n=JSON.parse(r);t(null,n)}else if(a.text){window.LZString&&(r=window.LZString.decompressFromEncodedURIComponent(a.text));n=JSON.parse(r);t(null,n)}else a.json?t(null,a.json):t("failed")}}))},e.getMapObjs=function(e,t,a,r){for(var o=[],c=0;c<t.length;c++)o.push("gamePackage/map/"+e+"/"+t[c]);cc.loader.loadResArray(o,n,a,r)},e.getUIPrefabRes=function(e,t){this.loadRes("prefab/ui/"+e,cc.Prefab,t)},e.createUI=function(e,t,a){this.getUIPrefabRes(e,(function(e,r){if(!e){var n=cc.instantiate(r);n.setPosition(0,0,0),a||(a=cc.find("Canvas")),a.addChild(n),t(null,n)}}))},e.getCarsBatch=function(e,t,a){for(var r=[],o=0;o<e.length;o++)r.push("prefab/car/car"+e[o]);cc.loader.loadResArray(r,n,t,a)},e.getUICar=function(e,t){this.loadRes("prefab/ui/car/uiCar"+e,n,t)},e.getCar=function(e,t){this.loadRes("prefab/car/car"+e,n,t)},e.setCarIcon=function(e,t,a,r){var n="gamePackage/texture/car/car"+e;a&&(n+="Black"),this.setSpriteFrame(n,t,r)},e.getJsonData=function(e,t){cc.loader.loadRes("datas/"+e,(function(e,a){e?cc.error(e.message||e):a.json?t(e,a.json):t("failed!!!")}))},e.getData=function(e,t){cc.loader.loadRes("datas/"+e,(function(e,a){if(e)cc.error(e.message||e);else{var r=a.text;r?t(e,r):cc.loader.load(a.nativeUrl,(function(e,a){t(e,r=a)}))}}))},e.setSpriteFrame=function(e,t,a){this.loadRes(e+"/spriteFrame",o,(function(r,n){if(r)return console.error("set sprite frame failed! err:",e,r),void a(r);t&&cc.isValid(t)&&(t.spriteFrame=n,a(null))}))},e.setRemoteImage=function(e,t,a){if(e&&e.startsWith("http")){cc.loader.load({url:e,type:"png"},(function(t,r){if(t)return console.error("set avatar failed! err:",e,t),void a(t);var n=new c;n.image=r;var s=new o;s.texture=n,a&&a(null,s)}))}},e.setGameIcon=function(e,t,a){e.startsWith("http")?this.setRemoteImage(e,t,a):this.setSpriteFrame("gamePackage/textures/icons/games/"+e,t,a)},e.getCustomer=function(e,t){this.loadRes("gamePackage/map/customer/customer"+e,n,t)},e.setCustomerIcon=function(e,t,a){var r="gamePackage/texture/head/head"+e;this.setSpriteFrame(r,t,a)},e.getEffect=function(e,t){this.loadRes("prefab/effect/"+e,n,t)},e}())||i)),a._RF.pop()}}}));

System.register("chunks:///framework/lodash.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(r,n){var t,e,i,u,o,f,a,c;return r({_dec:void 0,_class:void 0,_class2:void 0,_temp:void 0}),{setters:[function(r){t=r.defineProperty},function(r){e=r.cclegacy,i=r._decorator}],execute:function(){e._RF.push({},"8cbacDdVTBOgZQMyvQzOeAz","lodash",void 0),c=i.ccclass,r("lodash",(u=c("lodash"),u((a=f=function(){function r(){}return r.find=function(r,n){var t;if(Array.isArray(r)||(r=this.toArray(r)),(t=r.filter(n)).length)return t[0]},r.forEach=function(r,n){Array.isArray(r)?r.forEach(n):this.toArrayKey(r).forEach((function(t,e,i){var u=t.key,o=t.value;n(o,u,r)}))},r.cloneDeep=function(r){if(null===r||"object"!=typeof r)return r;var n={};for(var t in r.constructor===Array&&(n=[]),r)r.hasOwnProperty(t)&&(n[t]=this.cloneDeep(r[t]));return n},r.map=function(r,n){Array.isArray(r)||(r=this.toArray(r));var t=[];return r.forEach((function(r,e,i){t.push(n(r,e,i))})),t},r.random=function(r,n){var t=Math.random()*(n-r+1)+r;return Math.floor(t)},r.toArrayKey=function(r){var n=[];for(var t in r)r.hasOwnProperty(t)&&n.push({key:t,value:r[t]});return n},r.toArray=function(r){var n=[];for(var t in r)r.hasOwnProperty(t)&&n.push(r[t]);return n},r.filter=function(r,n){return Array.isArray(r)||(r=this.toArray(r)),r.filter(n)},r.isEqual=function(r,n){var t=r instanceof Object,e=n instanceof Object;if(!t||!e)return r===n;if(Object.keys(r).length!==Object.keys(n).length)return!1;for(var i in r){var u=r[i]instanceof Object,o=n[i]instanceof Object;if(u&&o)return this.isEqual(r[i],n[i]);if(r[i]!==n[i])return!1}return!0},r.pullAllWith=function(r,n,t){return n.forEach((function(n){r.filter((function(r){return t(r,n)})).forEach((function(n){var t=r.indexOf(n);-1!==r.indexOf(n)&&r.splice(t,1)}))})),r},r.now=function(){return Date.now()},r.pullAll=function(r,n){return n.forEach((function(n){var t=r.indexOf(n);-1!==r.indexOf(n)&&r.splice(t,1)})),r},r.forEachRight=function(r,n){Array.isArray(r)||(r=this.toArray(r));for(var t=r.length-1;t>=0;t--){if(!n(r[t]))break}},r.startsWith=function(r,n,t){return(r=r.substr(t)).startsWith(n)},r.endsWith=function(r,n,t){return(r=r.substr(t)).endsWith(n)},r.remove=function(r,n){var t=[],e=[];return r.forEach((function(r,i){n(r)&&(t.push(r),e.push(i))})),this.basePullAt(r,e),t},r.basePullAt=function(r,n){for(var t,e=r?n.length:0,i=e-1;e--;){var u=n[e];e!==i&&u===t||(t=u,Array.prototype.splice.call(r,u,1))}return r},r.findIndex=function(r,n,t){var e;if(r=r.slice(t),"function"==typeof n){for(e=0;e<r.length;e++)if(n(r[e]))return e}else if(Array.isArray(n))for(e=0;e<r.length;e++){var i=n[0],u=!0;if(n.length>1&&(u=n[1]),r[e][i]===u)return e}else for(e=0;e<r.length;e++)if(r[e]===n)return e;return-1},r.concat=function(){var r=arguments.length;if(!r)return[];for(var n=arguments[0],t=1;t<r;)n=n.concat(arguments[t]),t++;return n},r.isNumber=function(r){return"number"==typeof r},r.indexOf=function(r,n,t){return(r=r.slice(t)).indexOf(n)},r.join=function(r,n){if(null===r)return"";var t="";return r.forEach((function(r){t+=r+n})),t.substr(0,t.length-1)},r.split=function(r,n,t){return r.split(n,t)},r.max=function(r){if(r&&r.length){for(var n,t=0;t<r.length;t++)0===t?n=r[0]:n<r[t]&&(n=r[t]);return n}},r.drop=function(r,n){return(null===r?0:r.length)?r.slice(n):[]},r.flattenDeep=function(r){return r.reduce((function(r,n){return r.concat(Array.isArray(n)?this.flattenDeep(n):n)}),[])},r.uniq=function(r){var n=[];return r.forEach((function(r){-1===n.indexOf(r)&&n.push(r)})),n},r.isNaN=function(r){return this.isNumber(r)&&r!==+r},r.chunk=function(r,n){if(!(null===r?0:r.length)||n<1)return[];for(var t=[];r.length>n;)t.push(r.slice(0,n)),r=r.slice(n);return t.push(r),t},r.toFinite=function(r){return r?(r=Number(r))===1/0||r===-1/0?17976931348623157e292*(r<0?-1:1):r==r?r:0:0===r?r:0},r.baseRange=function(r,n,t,e){for(var i=-1,u=(0,Math.max)((0,Math.ceil)((n-r)/(t||1)),0),o=Array(u);u--;)o[e?u:++i]=r,r+=t;return o},r.isObject=function(r){var n=typeof r;return null!==r&&("object"===n||"function"===n)},r.isLength=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=r.MAX_SAFE_INTEGER},r.isArrayLike=function(r){return null!==r&&this.isLength(r.length)},r.eq=function(r,n){return r===n||r!=r&&n!=n},r.isIndex=function(n,t){var e=typeof n;return!!(t=null===t?r.MAX_SAFE_INTEGER:t)&&("number"===e||"symbol"!==e&&/^(?:0|[1-9]\d*)$/.test(n))&&n>-1&&n%1==0&&n<t},r.isIterateeCall=function(r,n,t){if(!this.isObject(t))return!1;var e=typeof n;return!!("number"===e?this.isArrayLike(t)&&this.isIndex(n,t.length):"string"===e&&n in t)&&this.eq(t[n],r)},r.createRange=function(r){return function(n,t,e){return e&&"number"!=typeof e&&this.isIterateeCall(n,t,e)&&(t=e=void 0),n=this.toFinite(n),void 0===t?(t=n,n=0):t=this.toFinite(t),e=void 0===e?n<t?1:-1:this.toFinite(e),this.baseRange(n,t,e,r)}},r.maxBy=function(r,n){if(r&&r.length){for(var t,e,i=0;i<r.length;i++)0===i?(t=n(r[0]),e=r[0]):t<r[i]&&(t=r[i],e=r[i]);return e}},r.minBy=function(r,n){if(r&&r.length){for(var t,e,i=0;i<r.length;i++)0===i?(t=n(r[0]),e=r[0]):t>r[i]&&(t=n(r[i]),e=r[i]);return e}},r.sumBy=function(r,n){var t=0;for(var e in r)t+=n(r[e]);return t},r.countBy=function(r,n){var t={};for(var e in r){var i=r[e];t.hasOwnProperty(i)?t[i]+=1:t[i]=1}return t},r}(),t(f,"MAX_SAFE_INTEGER",9007199254740991),o=a))||o)),e._RF.pop()}}}));

System.register("chunks:///framework/audioManager.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","./configuration.js","./resourceUtil.js","./lodash.js"],(function(i,s){var o,t,n,u,a,e,c,r,l,d,h,p;return i({_dec:void 0,_class:void 0,_class2:void 0,_temp:void 0}),{setters:[function(i){o=i.defineProperty,t=i.createClass},function(i){n=i.cclegacy,u=i._decorator},function(i){a=i.configuration},function(i){e=i.resourceUtil},function(i){c=i.lodash}],execute:function(){n._RF.push({},"e478cuMHJdIHa5fP3m5UZ7S","audioManager",void 0),p=u.ccclass,i("audioManager",(r=p("audioManager"),r((h=d=function(){function i(){o(this,"musicVolume",1),o(this,"soundVolume",1),o(this,"audios",{}),o(this,"arrSound",[])}var s=i.prototype;return s.init=function(){this.musicVolume=this.getConfiguration(!0)?.8:0,this.soundVolume=this.getConfiguration(!1)?1:0},s.onAppShow=function(){for(var i in this.audios){var s=this.audios[i];s.loop&&s.clip.play()}},s.getConfiguration=function(i){var s;return!(s=i?a.instance.getGlobalData("music"):a.instance.getGlobalData("sound"))||"true"===s},s.playMusic=function(i,s){var o=this,t="gamePackage/audio/music/"+i;e.loadRes(t,cc.AudioClip,(function(t,n){var u={};u.clip=n,u.loop=s,u.isMusic=!0,o.audios[i]=u,o.playClip(i,!0)}))},s.playSound=function(i,s){var o=this;if(this.soundVolume){e.loadRes("gamePackage/audio/sound/"+i,cc.AudioClip,(function(t,n){var u={};u.clip=n,u.loop=s,u.isMusic=!1,o.arrSound.push(u),s&&(o.audios[i]=u),n.setVolume(o.soundVolume),n.play(),n.once("ended",(function(){c.remove(o.arrSound,(function(i){return i.clip===u.clip}))}))}))}},s.playClip=function(i,s){var o=this.audios[i],t=this.musicVolume;s||(t=this.soundVolume);var n=o.clip;n.setVolume(t),n.setLoop(o.loop),n.play()},s.stop=function(i){this.audios.hasOwnProperty(i)&&this.audios[i].stop()},s.setMusic=function(i){for(var s in"number"!=typeof i&&(i=i?1:0),this.musicVolume=i,this.audios){if(this.audios.hasOwnProperty(s)&&this.audios[s].isMusic)this.audios[s].clip.setVolume(this.musicVolume)}},s.pauseAll=function(){for(var i in console.log("pause all music!!!"),this.audios){if(this.audios.hasOwnProperty(i))this.audios[i].clip.pause()}},s.resumeAll=function(){for(var i in this.audios){if(this.audios.hasOwnProperty(i))this.audios[i].clip.play()}},s.openMusic=function(){this.setMusic(.8),a.instance.setGlobalData("music","true")},s.closeMusic=function(){this.setMusic(0),a.instance.setGlobalData("music","false")},s.openSound=function(){this.setSound(1),a.instance.setGlobalData("sound","true")},s.closeSound=function(){this.setSound(0),a.instance.setGlobalData("sound","false")},s.setSound=function(i){for(var s in this.soundVolume=i,this.audios){if(this.audios.hasOwnProperty(s)&&!this.audios[s].isMusic)this.audios[s].clip.setVolume(this.soundVolume)}for(var o=0;o<this.arrSound.length;o++){this.arrSound[o].clip.setVolume(this.soundVolume)}},s.isAudioStarting=function(i){var s=!1;if("number"==typeof i){var o=cc.audioEngine.getState(i);s=o===cc.audioEngine.AudioState.PLAYING||o===cc.audioEngine.AudioState.INITIALZING,cc.sys.browserType===cc.sys.BROWSER_TYPE_WECHAT_GAME&&(s=s||o===cc.audioEngine.AudioState.PAUSED)}return s},t(i,null,[{key:"instance",get:function(){return this._instance?this._instance:(this._instance=new i,this._instance.init(),this._instance)}}]),i}(),o(d,"_instance",void 0),l=h))||l)),n._RF.pop()}}}));

System.register("chunks:///framework/constant.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(E,I){var N,_,A;return{setters:[function(E){N=E.defineProperty},function(E){_=E.cclegacy}],execute:function(){_._RF.push({},"1ad87mpTDFDV7de0xMwTCq4","constant",void 0),E("constant",A=function(){}),N(A,"GAME_NAME","car"),N(A,"LOCAL_CACHE",{PLAYER:"player",SETTINGS:"settings",DATA_VERSION:"dataVersion",ACCOUNT:"account",HISTORY:"history",BAG:"bag"}),N(A,"MAX_LEVEL",20),N(A,"MIN_CAR_ID",101),N(A,"MAX_CAR_ID",109),N(A,"AUDIO_SOUND",{BACKGROUND:"background",CRASH:"crash",GET_MONEY:"getMoney",IN_CAR:"inCar",NEW_ORDER:"newOrder",CAR_START:"carStart",WIN:"win",STOP:"stop",TOOTING1:"tooting1",TOOTING2:"tooting2"}),N(A,"SIGNIN_REWARD_STATUS",{RECEIVED:0,RECEIVABLE:1,UNRECEIVABLE:2,FILL_SIGNIN:3,AFTER_FILL_SIGNIN:4}),N(A,"MAX_SIGNIN_DAY",7),N(A,"NORMAL_SHOW_TIME",3),N(A,"NEWBEE_LEVEL",2),N(A,"REWARD_TYPE",{DIAMOND:1,GOLD:2,CAR:3}),N(A,"ONLINE",{MAX_TIME:60,PROFIT_PER_SECOND:.3,TIME_PER_CIRCLE:10}),N(A,"SHARE_FUNCTION",{BALANCE:"balance",RELIVE:"relive",OFFLINE:"offline",RANK:"rank",LOTTERY:"lottery",LOTTERY_REWARD:"lotteryReward",TRIAL:"trial",CLICK_BOX:"clickBox",ONLINE:"online",SIGNIN:"signIn",FILL_SIGNIN:"fillSignIn",INVINCIBLE:"invincible",SHOP_SHARE:"shopShare",SHOP_VIDEO:"shopVideo"}),N(A,"INITIAL_CAR",1),N(A,"BUY_CAR_TYPE",{GOLD:1,LOGIN:2,CONTINUOUS_LOGIN:3,SHARE:4,VIDEO:5,GAME:6,INVITE:7,SIGNIN:8,PASS_LEVEL:9}),N(A,"OPEN_REWARD_TYPE",{AD:0,SHARE:1,NULL:2}),N(A,"GOLD_REWARD",{SECOND:500,SEVENT:500}),N(A,"LOTTERY",{MONEY:2e3,EXCHANGE:500}),N(A,"CUSTOMER_MAX_CNT",2),N(A,"MENU_INIT_BOTTOM",40),N(A,"MENU_BOTTOM",250),_._RF.pop()}}}));

System.register("chunks:///framework/poolManager.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(t,o){var e,i,n,c,r,a,s,l,u;return t({_dec:void 0,_class:void 0,_class2:void 0,_temp:void 0}),{setters:[function(t){e=t.defineProperty,i=t.createClass},function(t){n=t.cclegacy,c=t._decorator}],execute:function(){n._RF.push({},"907776q4iZNubarZf3Ut3A8","poolManager",void 0),u=c.ccclass,c.property,t("poolManager",(r=u("poolManager"),r((l=s=function(){function t(){e(this,"dictPool",{}),e(this,"dictPrefab",{})}var o=t.prototype;return o.getNode=function(t,o){var e=t.name;this.dictPrefab[e]=t;var i=null;if(this.dictPool.hasOwnProperty(e)){var n=this.dictPool[e];i=n.size()>0?n.get():cc.instantiate(t)}else{var c=new cc.NodePool;this.dictPool[e]=c,i=cc.instantiate(t)}return i.parent=o,i},o.putNode=function(t){var o=t.name,e=null;this.dictPool.hasOwnProperty(o)?e=this.dictPool[o]:(e=new cc.NodePool,this.dictPool[o]=e),e.put(t)},o.clearPool=function(t){this.dictPool.hasOwnProperty(t)&&this.dictPool[t].clear()},i(t,null,[{key:"instance",get:function(){return this._instance?this._instance:(this._instance=new t,this._instance)}}]),t}(),e(s,"_instance",void 0),a=l))||a)),n._RF.pop()}}}));

System.register("chunks:///fight/car.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","./fightConstants.js","../framework/clientEvent.js","../framework/resourceUtil.js","../framework/audioManager.js","../framework/constant.js","../framework/poolManager.js"],(function(t,i){var e,s,n,o,r,h,a,c,l,d,g,u,p,v,R,P,f,m,T,C,S,y,_,w,A,M,b,O,k,x,E;return t({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_temp:void 0}),{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.inheritsLoose,n=t.createClass,o=t.defineProperty,r=t.assertThisInitialized,h=t.initializerDefineProperty},function(t){a=t.cclegacy,c=t._decorator,l=t.Node,d=t.instantiate,g=t.Vec3,u=t.RigidBodyComponent,p=t.ColliderComponent,v=t.Component},function(t){R=t.fightConstants},function(t){P=t.clientEvent},function(t){f=t.resourceUtil},function(t){m=t.audioManager},function(t){T=t.constant},function(t){C=t.poolManager}],execute:function(){a._RF.push({},"e6d4fVD3pxJ7Y1Khf8fRUoa","car",void 0),x=c.ccclass,E=c.property,5,t("car",(S=x("car"),y=E({displayName:"最大移动速度"}),_=E({displayName:"最小移动速度"}),w=E(l),S((b=e((M=function(t){function i(){var i;return i=t.call(this)||this,o(r(i),"_isMoving",!1),h(r(i),"maxSpeed",b,r(i)),h(r(i),"minSpeed",O,r(i)),h(r(i),"nodeGas",k,r(i)),o(r(i),"_minSpeed",-1),o(r(i),"_maxSpeed",-1),o(r(i),"manager",null),o(r(i),"isMain",!1),o(r(i),"currentSpeed",0),o(r(i),"accelerate",2),o(r(i),"originRotation",0),o(r(i),"targetRotation",0),o(r(i),"curRoadPoint",null),o(r(i),"circleCenterPoint",null),o(r(i),"quarter",0),o(r(i),"entry",null),o(r(i),"foward",new g(0,0,-1)),o(r(i),"posTarget",new g),o(r(i),"posSrc",void 0),o(r(i),"_callback",null),o(r(i),"isOver",!1),o(r(i),"curProgress",0),o(r(i),"maxProgress",0),o(r(i),"hasCustomer",!1),o(r(i),"lastPos",null),o(r(i),"lastRotation",null),o(r(i),"isBraking",!1),o(r(i),"arrTyres",[]),o(r(i),"curTyreRotation",0),o(r(i),"nodeCarBackLight",null),o(r(i),"tootingCoolTime",0),o(r(i),"isCarMoving",!1),o(r(i),"nodeInvincible",null),o(r(i),"_isHosting",!1),o(r(i),"_isInvincible",!1),o(r(i),"invincibleRotation",0),i}s(i,t),n(i,[{key:"isMoving",set:function(t){this._isMoving=t,this.updateBackLight()},get:function(){return this._isMoving}},{key:"isHosting",set:function(t){this._isHosting=t,this.updateBackLight()},get:function(){return this._isHosting}},{key:"isInvincible",set:function(t){var i=this;if(this._isInvincible=t,t){if(this.nodeInvincible)return void(this.nodeInvincible.active=!0);f.getEffect("shield",(function(t,e){t?console.error(t):(i.nodeInvincible=d(e),i.nodeInvincible.parent=i.node)}))}else this.nodeInvincible&&(this.nodeInvincible.destroy(),this.nodeInvincible=null)},get:function(){return this._isInvincible}}]);var e=i.prototype;return e.start=function(){var t=this;this._minSpeed=this.minSpeed,this._maxSpeed=this.maxSpeed;var i=this.node.getChildByPath("RootNode/tyre1");i&&(this.arrTyres=[i,this.node.getChildByPath("RootNode/tyre2"),this.node.getChildByPath("RootNode/tyre3"),this.node.getChildByPath("RootNode/tyre4")],this.nodeCarBackLight=this.node.getChildByPath("RootNode/light1")),f.getEffect("gas",(function(i,e){i||C.instance.getNode(e,t.nodeGas).setPosition(new g(0,0,0))}))},e.markMainCar=function(t){this.isMain=t;var i=this.node.getComponent(u),e=this.node.getComponent(p);e.off("onCollisionEnter",this.onCollisionEnter,this),t?(i.setGroup(R.CAR_GROUP.MAIN_CAR),i.setMask(R.CAR_GROUP.OTHER_CAR),e.on("onCollisionEnter",this.onCollisionEnter,this)):(i.setGroup(R.CAR_GROUP.OTHER_CAR),i.setMask(-1))},e.setEntry=function(t){this.entry=t,this.reset()},e.onCollisionEnter=function(t){var i=this;if(this.isMain&&"ground"!==t.otherCollider.node.name){var e=t.otherCollider.node;t.otherCollider.node===this.node&&(e=t.selfCollider.node);var s=e.getComponent("car");if(!s.isOver){s.isOver=!0;var n=e.getComponent(u);n.useGravity=!0,this.isInvincible?n.applyForce(new g(0,1e4,-3e3),new g(0,.5,0)):n.applyForce(new g(0,1500,-3e3),new g(0,.5,0))}if(!this.isOver){m.instance.playSound(T.AUDIO_SOUND.CRASH);var o=this.node.getComponent(u);if(this.isInvincible)return this.lastPos=this.node.worldPosition,this.lastRotation=this.node.eulerAngles,o.enabled=!1,this.scheduleOnce((function(){i.isInvincible=!1,o.enabled=!0,i.revive(),i.currentSpeed=i._minSpeed}),.1),void this.scheduleOnce((function(){C.instance.putNode(e)}),.3);this.lastPos=this.node.worldPosition,this.lastRotation=this.node.eulerAngles,this.isOver=!0,o.useGravity=!0,o.setGroup(R.CAR_GROUP.MAIN_CAR),o.setMask(R.CAR_GROUP.OTHER_CAR|R.CAR_GROUP.NORMAL),P.dispatchEvent("gameOver",!1)}}},e.updateBackLight=function(){this.nodeCarBackLight&&(this.nodeCarBackLight.active=!this.isMoving||this.isHosting)},e.startRunning=function(){this.isOver||(this.isMoving=!0,this.accelerate=.4,this.nodeGas&&(this.nodeGas.active=!0),this.isBraking&&(P.dispatchEvent("endBraking"),this.isBraking=!1))},e.startWithMinSpeed=function(){this.currentSpeed=this.minSpeed,this.stopRunning(!0),this.nodeGas&&(this.nodeGas.active=!0)},e.stopRunning=function(t){this.isOver||(this.isMoving=!1,this.accelerate=-.15,this.isBraking||t||(P.dispatchEvent("startBraking"),this.isBraking=!0))},e.stopImmediately=function(){this.isMoving=!1,this.currentSpeed=0},e.setMoveOverListener=function(t){this._callback=t},e.resetPhysical=function(){this.isOver=!1,this.isMain&&this.markMainCar(!0);var t=this.node.getComponent(u);t.useGravity=!1,t.sleep(),t.wakeUp()},e.revive=function(){this.resetPhysical(),console.log("revive pos ",this.lastPos);var t=new g(this.lastPos.x,0,this.lastPos.z);this.node.setWorldPosition(t),this.node.eulerAngles=this.lastRotation,this.isMoving=!1,this.currentSpeed=0},e.reset=function(){this.resetPhysical(),this.isMain&&(this.curProgress=0,this.hasCustomer=!1,this.nodeGas&&(this.nodeGas.active=!1),this.isInvincible=!1),this.tootingCoolTime=0,this.curRoadPoint=this.entry.getComponent("roadPoint"),this.posSrc=this.entry.worldPosition,this.posTarget=this.curRoadPoint.next.worldPosition,this.node.setWorldPosition(this.entry.worldPosition),this.posTarget.z!==this.posSrc.z?this.posTarget.z<this.posSrc.z?this.node.eulerAngles=new g(0,360,0):this.node.eulerAngles=new g(0,180,0):this.posTarget.x>this.posSrc.x?this.node.eulerAngles=new g(0,270,0):this.node.eulerAngles=new g(0,90,0),this.originRotation=this.node.eulerAngles.y,this.targetRotation=this.originRotation,this.isMoving=!1,this.isHosting=!1,this.currentSpeed=0,this._minSpeed>0&&(this.minSpeed=this._minSpeed,this.maxSpeed=this._maxSpeed)},e.greeting=function(){var t=this;this.isHosting=!0,this.curProgress++,this.hasCustomer=!0,P.dispatchEvent("greetingCustomer"),this.manager.greeting(this.node.worldPosition,this.curRoadPoint.direction,(function(){t.isMoving=!1,t.currentSpeed=0,t.isHosting=!1,P.dispatchEvent("showGuide",!0)}))},e.takeCustomer=function(){var t=this;this.isHosting=!0,this.hasCustomer=!1,P.dispatchEvent("takeCustomer"),this.manager.takeCustomer(this.node.worldPosition,this.curRoadPoint.direction,this.curProgress===this.maxProgress,(function(){t.isMoving=!1,t.currentSpeed=0,t.isHosting=!1,P.dispatchEvent("showGuide",!0)}))},e.arrivalPoint=function(){if(this.node.setWorldPosition(this.posTarget),this.curRoadPoint.moveType===R.ROAD_MOVE_TYPE.BEND&&(this.node.eulerAngles=new g(0,this.targetRotation,0)),this.posSrc=this.posTarget,this.posTarget=null,this.curRoadPoint.next){if(this.curRoadPoint=this.curRoadPoint.next.getComponent("roadPoint"),this.isMain&&(this.curRoadPoint.type===R.ROAD_POINT_TYPE.GREETING?this.greeting():this.curRoadPoint.type===R.ROAD_POINT_TYPE.PLATFORM?this.takeCustomer():this.curRoadPoint.type===R.ROAD_POINT_TYPE.END&&(P.dispatchEvent("gameOver",!0),this.moveAfterFinished())),this.curRoadPoint.next?this.posTarget=this.curRoadPoint.next.worldPosition:this._callback&&this._callback(this),this.originRotation=this.node.eulerAngles.y,this.targetRotation=this.originRotation,this.curRoadPoint.moveType===R.ROAD_MOVE_TYPE.BEND){if(this.curRoadPoint.clockwise){this.originRotation=this.originRotation<=0?360+this.originRotation:this.originRotation,this.targetRotation=this.originRotation-90,this.posTarget.x>this.posSrc.x&&this.posTarget.z<this.posSrc.z||this.posTarget.x<this.posSrc.x&&this.posTarget.z>this.posSrc.z?this.circleCenterPoint=new g(this.posTarget.x,0,this.posSrc.z):this.circleCenterPoint=new g(this.posSrc.x,0,this.posTarget.z);var t=g.subtract(new g,this.circleCenterPoint,this.posSrc).length();this.quarter=90/(Math.PI*t/2)}else{this.originRotation=this.originRotation>=360?this.originRotation-360:this.originRotation,this.targetRotation=this.originRotation+90,this.posTarget.x>this.posSrc.x&&this.posTarget.z<this.posSrc.z||this.posTarget.x<this.posSrc.x&&this.posTarget.z>this.posSrc.z?this.circleCenterPoint=new g(this.posSrc.x,0,this.posTarget.z):this.circleCenterPoint=new g(this.posTarget.x,0,this.posSrc.z);var i=g.subtract(new g,this.circleCenterPoint,this.posSrc).length();this.quarter=90/(Math.PI*i/2)}this.node.eulerAngles=new g(0,this.originRotation,0)}}else this.curRoadPoint=null,this._callback&&this._callback(this)},e.update=function(t){if(this.nodeInvincible&&(this.invincibleRotation+=200*t,this.invincibleRotation>360&&(this.invincibleRotation-=360),this.nodeInvincible.eulerAngles=new g(this.invincibleRotation,0,0)),this.tootingCoolTime>0&&(this.tootingCoolTime=this.tootingCoolTime>t?this.tootingCoolTime-t:0),!this.isMoving&&this.currentSpeed<.01||!this.posTarget||this.isHosting||this.isOver)this.isCarMoving=!1;else{if(this.isCarMoving=!0,this.currentSpeed+=this.accelerate*t,this.currentSpeed=this.currentSpeed>this.maxSpeed?this.maxSpeed:this.currentSpeed,this.currentSpeed<this.minSpeed&&(this.currentSpeed=this.minSpeed,this.isBraking&&(P.dispatchEvent("endBraking"),this.isBraking=!1)),this.arrTyres.length>0){this.curTyreRotation-=200*this.currentSpeed,this.curTyreRotation<-360&&(this.curTyreRotation+=360);for(var i=new g(this.curTyreRotation,0),e=0;e<this.arrTyres.length;e++){this.arrTyres[e].eulerAngles=i}}switch(this.curRoadPoint.moveType){case R.ROAD_MOVE_TYPE.LINE:var s=new g;g.subtract(s,this.posTarget,this.node.worldPosition),s.normalize(),g.multiplyScalar(s,s,this.currentSpeed);var n=this.node.worldPosition;s.add(n),this.posTarget.z!==this.posSrc.z?this.posTarget.z<this.posSrc.z?(this.node.eulerAngles=new g(0,360,0),s.z<this.posTarget.z&&(s.z=this.posTarget.z)):(this.node.eulerAngles=new g(0,180,0),s.z>this.posTarget.z&&(s.z=this.posTarget.z)):this.posTarget.x>this.posSrc.x?(this.node.eulerAngles=new g(0,270,0),s.x>this.posTarget.x&&(s.x=this.posTarget.x)):(this.node.eulerAngles=new g(0,90,0),s.x<this.posTarget.x&&(s.x=this.posTarget.x)),this.node.setWorldPosition(s);break;case R.ROAD_MOVE_TYPE.BEND:var o=this.targetRotation-this.originRotation,r=this.node.eulerAngles.y<0?360+this.node.eulerAngles.y:this.node.eulerAngles.y;this.node.eulerAngles.y>360&&(r=this.node.eulerAngles.y-360);var h=o*Math.abs((r-this.originRotation)/o)+this.currentSpeed*this.quarter*(this.targetRotation>this.originRotation?1:-1);Math.abs(o)<Math.abs(h)&&(h=o);var a=this.originRotation+h,c=g.rotateY(new g,this.posSrc,this.circleCenterPoint,h*Math.PI/180);this.node.setWorldPosition(c),this.node.eulerAngles=new g(0,a,0)}g.subtract(new g,this.posTarget,this.node.worldPosition).lengthSqr()<.001&&this.arrivalPoint()}},e.moveAfterFinished=function(){this.isMoving=!0,this.minSpeed=.2,this.maxSpeed=.2,this.startRunning()},e.tooting=function(){if(!(this.tootingCoolTime>0)){this.tootingCoolTime=5;var t=1===Math.floor(2*Math.random())?T.AUDIO_SOUND.TOOTING1:T.AUDIO_SOUND.TOOTING2;m.instance.playSound(t,!1)}},i}(v)).prototype,"maxSpeed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),O=e(M.prototype,"minSpeed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),k=e(M.prototype,"nodeGas",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=M))||A)),a._RF.pop()}}}));

System.register("chunks:///fight/follow.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(o,t){var e,i,r,l,n,s,a,f,w,c,d,h,u,p,g,v,y,P,T;return o({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_temp:void 0}),{setters:[function(o){e=o.applyDecoratedDescriptor,i=o.inheritsLoose,r=o.initializerDefineProperty,l=o.assertThisInitialized,n=o.defineProperty},function(o){s=o.cclegacy,a=o._decorator,f=o.Node,w=o.Vec3,c=o.Component}],execute:function(){s._RF.push({},"ff8ee6OQldPNLrgLpXROotm","follow",void 0),P=a.ccclass,T=a.property,o("follow",(d=P("follow"),h=T({type:f}),d((g=e((p=function(o){function t(){var t;return t=o.call(this)||this,r(l(t),"followTarget",g,l(t)),r(l(t),"isFollowRotation",v,l(t)),r(l(t),"offset",y,l(t)),n(l(t),"moveSpeed",3),n(l(t),"isPlayingStart",!1),t}i(t,o);var e=t.prototype;return e.start=function(){},e.showStart=function(){},e.lateUpdate=function(o){if(this.followTarget){var t=this.node.worldPosition;if(this.isPlayingStart){var e=new w(this.followTarget.worldPosition.x+this.offset.x,this.followTarget.worldPosition.y+this.offset.y,this.followTarget.worldPosition.z+this.offset.z);w.subtract(new w,t,e).length()>.001&&w.lerp(e,t,e,this.moveSpeed*o),this.node.setWorldPosition(e),this.node.lookAt(this.followTarget.worldPosition,new w(0,1,0))}else{var i=this.offset;this.isFollowRotation&&(i=w.transformQuat(cc.v3(),this.offset,this.followTarget.rotation));var r=new w(this.followTarget.worldPosition.x+i.x,this.followTarget.worldPosition.y+i.y,this.followTarget.worldPosition.z+i.z);w.subtract(new w,t,r).length();if(this.node.setWorldPosition(r),this.node.lookAt(this.followTarget.worldPosition,new w(0,1,0)),this.isFollowRotation){var l=new w(this.node.eulerAngles);l.y=this.followTarget.eulerAngles.y,this.node.eulerAngles=l}}}},t}(c)).prototype,"followTarget",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(p.prototype,"isFollowRotation",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),y=e(p.prototype,"offset",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new w}}),u=p))||u)),s._RF.pop()}}}));

System.register("chunks:///fight/roadPoint.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","./fightConstants.js","../framework/resourceUtil.js"],(function(e,i){var t,r,n,o,a,s,c,l,d,u,p,_,T,y,h,f,O,v,P,b,A,E,R,m,N,I,g,D,Y,C,G,w,S,z,M,F;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_dec8:void 0,_dec9:void 0,_dec10:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_descriptor8:void 0,_descriptor9:void 0,_temp:void 0,ROAD_POINT_TYPE:void 0,ROAD_MOVE_TYPE:void 0}),{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.defineProperty},function(e){s=e.cclegacy,c=e._decorator,l=e.Vec3,d=e.Component},function(e){u=e.fightConstants},function(e){p=e.resourceUtil}],execute:function(){s._RF.push({},"953fazcJb1LuJlDQlkFCkFG","roadPoint",void 0),S=c.ccclass,z=c.property,function(e){e[e["普通节点"]=u.ROAD_POINT_TYPE.NORMAL]="普通节点",e[e["开始节点"]=u.ROAD_POINT_TYPE.START]="开始节点",e[e["接客节点"]=u.ROAD_POINT_TYPE.GREETING]="接客节点",e[e["送客节点"]=u.ROAD_POINT_TYPE.PLATFORM]="送客节点",e[e["结束节点"]=u.ROAD_POINT_TYPE.END]="结束节点",e[e["AI开始节点"]=u.ROAD_POINT_TYPE.AI_START]="AI开始节点"}(M||(M={})),cc.Enum(M),function(e){e[e["直线行走"]=u.ROAD_MOVE_TYPE.LINE]="直线行走",e[e["曲线行走"]=u.ROAD_MOVE_TYPE.BEND]="曲线行走"}(F||(F={})),cc.Enum(F),e("roadPoint",(_=S("roadPoint"),T=z({displayName:"类型",type:M,displayOrder:1}),y=z({displayName:"下一站",type:cc.Node,displayOrder:2}),h=z({displayName:"行走方式",type:F,displayOrder:3}),f=z({displayName:"顺时针",displayOrder:4,visible:function(){return this.moveType===u.ROAD_MOVE_TYPE.BEND}}),O=z({displayName:"顾客方向",displayOrder:4,visible:function(){return this.type===u.ROAD_POINT_TYPE.GREETING||this.type===u.ROAD_POINT_TYPE.PLATFORM}}),v=z({displayName:"延迟生成/秒",displayOrder:5,visible:function(){return this.type===u.ROAD_POINT_TYPE.AI_START}}),P=z({displayName:"生成频率/秒",displayOrder:5,visible:function(){return this.type===u.ROAD_POINT_TYPE.AI_START}}),b=z({displayName:"车辆行驶速度",displayOrder:5,visible:function(){return this.type===u.ROAD_POINT_TYPE.AI_START}}),A=z({displayName:"产生车辆(,分隔)",displayOrder:5,visible:function(){return this.type===u.ROAD_POINT_TYPE.AI_START}}),_((m=t((R=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return i=e.call.apply(e,[this].concat(r))||this,n(o(i),"type",m,o(i)),n(o(i),"next",N,o(i)),n(o(i),"moveType",I,o(i)),n(o(i),"clockwise",g,o(i)),n(o(i),"direction",D,o(i)),n(o(i),"delayTime",Y,o(i)),n(o(i),"genInterval",C,o(i)),n(o(i),"carSpeed",G,o(i)),n(o(i),"cars",w,o(i)),a(o(i),"arrCars",[]),a(o(i),"_genrateCb",null),i}r(i,e);var t=i.prototype;return t.start=function(){this.arrCars=this.cars.split(",")},t.startGenerateCar=function(e){this.type===u.ROAD_POINT_TYPE.AI_START&&(this._genrateCb=e,this.stopGenerateCar(),this.scheduleOnce(this.delayStartGen,this.delayTime),p.getCarsBatch(this.arrCars,(function(){}),(function(){})))},t.delayStartGen=function(){this.scheduleGen(),this.schedule(this.scheduleGen,this.genInterval,cc.macro.REPEAT_FOREVER)},t.scheduleGen=function(){var e=Math.floor(Math.random()*this.arrCars.length);this._genrateCb&&this._genrateCb(this,this.arrCars[e])},t.stopGenerateCar=function(){this.unschedule(this.delayStartGen),this.unschedule(this.scheduleGen)},i}(d)).prototype,"type",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.普通节点}}),N=t(R.prototype,"next",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(R.prototype,"moveType",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.直线行走}}),g=t(R.prototype,"clockwise",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=t(R.prototype,"direction",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),Y=t(R.prototype,"delayTime",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),C=t(R.prototype,"genInterval",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),G=t(R.prototype,"carSpeed",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.05}}),w=t(R.prototype,"cars",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"201"}}),E=R))||E)),s._RF.pop()}}}));

System.register("chunks:///framework/util.js",["cc"],(function(t,r){var e,n,o,a,u;return t({_dec:void 0,_class:void 0}),{setters:[function(t){e=t.cclegacy,n=t._decorator}],execute:function(){e._RF.push({},"f1bcdp9t1BPdo0rL87xRyba","util",void 0),u=n.ccclass,n.property,t("util",(o=u("util"),o(a=function(){function t(){}return t.clone=function(t){if(null===t||"object"!=typeof t)return t;var r={};for(var e in t.constructor===Array&&(r=[]),t)t.hasOwnProperty(e)&&(r[e]=this.clone(t[e]));return r},t.objectToArray=function(t){var r=[];for(var e in t)t.hasOwnProperty(e)&&r.push(t[e]);return r},t.arrayToObject=function(t,r){var e={};for(var n in t)t.hasOwnProperty(n)&&t[n][r]&&(e[t[n][r]]=t[n]);return e},t.getWeightRandIndex=function(t,r){for(var e=Math.floor(Math.random()*r),n=0,o=0;o<t.length&&!(e<(n+=t[o]));o++);return o},t.getRandomNFromM=function(t,r){for(var e=[],n=0,o=0;o<r&&!(o>=t+1);){n=this.getRandomInt(0,t);for(var a=0,u=0;u<o;u++)if(e[u]===n){a=1;break}0===a&&(e[o]=n,o++)}return e},t.getRandomInt=function(t,r){var e=Math.random()*(r-t+1)+t;return Math.floor(e)},t.getStringLength=function(t){for(var r=t,e=0,n=0,o=r.length;n<o;n++){e+=r.charCodeAt(n)<=255?1:2}return Math.ceil(e/2)},t.isEmptyObject=function(t){var r=!0;if(t&&t.constructor===Object){for(var e in t)if(t.hasOwnProperty(e)){r=!1;break}}else r=!1;return r},t.formatNum=function(t){if(t<=0)return"0";var r=Math.round(Math.log(t)/Math.log(1e3));return parseInt((t/Math.pow(1e3,r-1<0?0:r-1)).toString(),10)+["","","K","M","B"][r]},t.isNewDay=function(t){var r=new Date(t),e=new Date,n=r.getYear(),o=r.getMonth(),a=r.getDate(),u=e.getYear(),i=e.getMonth(),f=e.getDate();return u>n||(i>o||f>a)},t.getPropertyCount=function(t){var r,e=0;for(r in t)t.hasOwnProperty(r)&&e++;return e},t.difference=function(t,r){var e=[];if(t.constructor!==Array||r.constructor!==Array)return e;for(var n=t.length,o=0;o<n;o++)-1===r.indexOf(t[o])&&e.push(t[o]);return e},t.simulationUUID=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t.trim=function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},t.isNowValid=function(t,r){var e=new Date(t),n=new Date(r),o=!1;if(e.getDate()+""!="NaN"&&n.getDate()+""!="NaN"){var a=new Date;o=a<n&&a>e}return o},t.getDeltaDays=function(t,r){t=new Date(t),r=new Date(r);var e=t.getFullYear(),n=t.getMonth()+1,o=t.getDate(),a=r.getFullYear(),u=r.getMonth()+1,i=r.getDate();t=new Date(e+"/"+n+"/"+o+" GMT+0800").getTime();var f=(r=new Date(a+"/"+u+"/"+i+" GMT+0800").getTime())-t;return Math.floor(f/864e5)},t.getMin=function(t){var r=null;if(t.constructor===Array)for(var e=t.length,n=0;n<e;n++)r=0===n?Number(t[0]):r>Number(t[n])?Number(t[n]):r;return r},t.formatTwoDigits=function(t){return(Array(2).join(0)+t).slice(-2)},t.formatDate=function(t,r){var e={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(r)&&(r=r.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+n+")").test(r)&&(r=r.replace(RegExp.$1,1===RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return r},t.getDay=function(){var t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},t.formatMoney=function(t){for(var r=["","K","M","G","T","P","E","Z","Y","B","N","D"],e="",n=0;n<r.length;n++){if(!(t>=1e4)){e=Math.floor(t)+r[n];break}t/=1e3}return""===e&&(e=Math.floor(t)+"U"),e},t.formatTimeForSecond=function(t){var r="",e=t%60,n=Math.floor(t/60);n=n<0?0:n;var o=Math.floor(n/60),a=n%60;return o>0&&(r+=o>9?o.toString():"0"+o,r+=":"),r+=a>9?a.toString():"0"+a,r+=":",r+=e>9?e.toString():"0"+e},t.formatTimeForMillisecond=function(t){var r=Math.floor(t/1e3%60),e=Math.floor(t/1e3/60%60),n=Math.floor(t/1e3/60/60);return(r<10?"0"+r:r)+":"+(e<10?"0"+e:e)+":"+(n<10?"0"+n:n)},t.zip=function(t){var r=pako.gzip(encodeURIComponent(t),{to:"string"});return this.base64encode(r)},t.rand=function(t){for(var r=this.clone(t),e=r.length-1;e>=0;e--){var n=Math.floor(Math.random()*(e+1)),o=r[n];r[n]=r[e],r[e]=o}return r},t}())||a)),e._RF.pop()}}}));

System.register("chunks:///framework/csvManager.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,t){var r,n,i,s,u,o,a,l,c,h;return e({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(e){r=e.defineProperty},function(e){n=e.cclegacy,i=e._decorator}],execute:function(){n._RF.push({},"64d5aR01mZIArZ14oqSxdz0","csvManager",void 0),o=i.ccclass,c=function(e,t,r,n){return r instanceof Array?"number"===r[t]?Number(n[t]):"boolean"===r[t]?"true"===n[t]||"t"===n[t]||"1"===n[t]:n[t]:isNaN(Number(e))?"false"==e||"true"==e||"t"==e||"f"==e?"true"===n[t]||"t"===n[t]||"1"===n[t]:n[t]:Number(n[t])},h={STANDARD_DECODE_OPTS:{skip:0,limit:!1,header:!1,cast:!1,comment:""},STANDARD_ENCODE_OPTS:{delimiter:(a=[",",";","\t","|","^"])[0],newline:(l=["\r\n","\r","\n"])[0],skip:0,limit:!1,header:!1},quoteMark:'"',doubleQuoteMark:'""',quoteRegex:/"/g,assign:function(){for(var e=Array.prototype.slice.call(arguments),t=e[0],r=e.slice(1),n=0,i=r.length;n<i;n++)for(var s in r[n])t[s]=r[n][s];return t},map:function(e,t){for(var r=[],n=0,i=e.length;n<i;n++)r[n]=t(e[n],n);return r},getType:function(e){return Object.prototype.toString.call(e).slice(8,-1)},getLimit:function(e,t){return!1===e?t:e},buildObjectConstructor:function(e,t,r){return function(n){var i=new Object,s=function(e,t){return i[e]=t};return r?e.forEach((function(e,i){s(e,c(t[i],i,r,n))})):e.forEach((function(e,r){s(e,c(t[r],r,null,n))})),i}},buildArrayConstructor:function(e,t,r){return function(n){var i=new Array(t.length),s=function(e,t){return i[e]=t};return r?e.forEach((function(e,i){s(e,c(t[i],i,r,n))})):e.forEach((function(e,r){s(e,c(t[r],r,null,n))})),i}},frequency:function(e,t,r){void 0===r&&(r=!1);for(var n=0,i=0,s=this.getLimit(r,e.length);i<s&&-1!==(i=e.indexOf(t,i));)i+=1,n++;return n},mostFrequent:function(e,t,r){for(var n,i=t.length-1;i>=0;i--)this.frequency(e,t[i],r)>0&&(n=t[i]);return n||t[0]},unsafeParse:function(e,t,r){var n,i,s=e.split(t.newline);function u(e){var r=e.shift();if(r.indexOf('"')>=0){for(var n=0,i=0,s=0;e.length>0&&(-1!==(n=r.indexOf('"',i))||s%2!=0);)-1!==n?(i=n+1,s++):r=r+t.newline+e.shift();var u,o=[],a=0,l=0,c=0,h=r.length;for(var f in r)if(r.hasOwnProperty(f)){var d=parseInt(f),p=r[f];0===d&&'"'===p&&(a++,l=1),'"'===p&&(a++,r[d-1]===t.delimiter&&l===d&&l++),'"'===p&&a%2==0&&(r[d+1]!==t.delimiter&&d+1!==h||(c=d,u=r.substring(l,c),o.push(u),c=l=c+2)),p===t.delimiter&&a%2==0&&((c=d)>l?(u=r.substring(l,c),o.push(u),c=l=c+1):c===l&&(o.push(""),c=l=c+1))}return(c=h)>=l&&(u=r.substring(l,c),o.push(u)),o}return r.split(t.delimiter)}for(t.skip>0&&s.splice(t.skip),t.header?(!0===t.header?(t.comment=u(s),t.cast=u(s),n=u(s)):"Array"===this.getType(t.header)&&(n=t.header),i=this.buildObjectConstructor(n,s[0].split(t.delimiter),t.cast)):i=this.buildArrayConstructor(n,s[0].split(t.delimiter),t.cast);s.length>0;){var o=u(s);o.length>1&&r(i(o),n[0])}return!0},safeParse:function(e,t,r){t.delimiter;var n=t.newline,i=e.split(n);return t.skip>0&&i.splice(t.skip),!0},encodeCells:function(e,t,r){for(var n=e.slice(0),i=0,s=n.length;i<s;i++)-1!==n[i].indexOf(this.quoteMark)&&(n[i]=n[i].replace(this.quoteRegex,this.doubleQuoteMark)),-1===n[i].indexOf(t)&&-1===n[i].indexOf(r)||(n[i]=this.quoteMark+n[i]+this.quoteMark);return n.join(t)},encodeArrays:function(e,t,r){var n=t.delimiter,i=t.newline;t.header&&"Array"===this.getType(t.header)&&r(this.encodeCells(t.header,n,i));for(var s=0,u=this.getLimit(t.limit,e.length);s<u;s++)r(this.encodeCells(e[s],n,i));return!0},encodeObjects:function(e,t,r){var n,i,s=t.delimiter,u=t.newline;for(var o in n=[],i=[],e[0])n.push(o),i.push(e[0][o]);!0===t.header?r(this.encodeCells(n,s,u)):"Array"===this.getType(t.header)&&r(this.encodeCells(t.header,s,u)),r(this.encodeCells(i,s));for(var a=1,l=this.getLimit(t.limit,e.length);a<l;a++){i=[];for(var c=0,h=n.length;c<h;c++)i.push(e[a][n[c]]);r(this.encodeCells(i,s,u))}return!0},parse:function(e,t,r){var n;if("Function"===this.getType(t)?(r=t,t={}):"Function"!==this.getType(r)?r=(n=[]).push.bind(n):n=[],t=this.assign({},this.STANDARD_DECODE_OPTS,t),this.opts=t,!t.delimiter||!t.newline){var i=Math.min(48,Math.floor(e.length/20),e.length);t.delimiter=t.delimiter||this.mostFrequent(e,a,i),t.newline=t.newline||this.mostFrequent(e,l,i)}return this.unsafeParse(e,t,r)&&(!(n.length>0)||n)},encode:function(e,t,r){var n;return"Function"===this.getType(t)?(r=t,t={}):"Function"!==this.getType(r)&&(r=(n=[]).push.bind(n)),(t=this.assign({},this.STANDARD_ENCODE_OPTS,t)).skip>0&&(e=e.slice(t.skip)),("Array"===this.getType(e[0])?this.encodeArrays:this.encodeObjects)(e,t,r)&&(!(n.length>0)||n.join(t.newline))}},e("csvManager",(s=o("csvManager"),s(u=function(){function e(){r(this,"csvTables",{}),r(this,"csvTableForArr",{}),r(this,"tableCast",{}),r(this,"tableComment",{})}var t=e.prototype;return t.addTable=function(e,t,r){if(!this.csvTables[e]||r){var n={},i=[];h.parse(t,{header:!0},(function(e,t){n[e[t]]=e,i.push(e)})),this.tableCast[e]=h.opts.cast,this.tableComment[e]=h.opts.comment,this.csvTables[e]=n,this.csvTableForArr[e]=i}},t.getTableArr=function(e){return this.csvTableForArr[e]},t.getTable=function(e){return this.csvTables[e]},t.queryOne=function(e,t,r){var n=this.getTable(e);if(!n)return null;if(!t)return n[r];for(var i in n)if(n.hasOwnProperty(i)&&n[i][t]===r)return n[i]},t.queryByID=function(e,t){return this.queryOne(e,null,t)},t.queryAll=function(e,t,r){var n=this.getTable(e);if(!n||!t)return null;var i={};for(var s in n)n.hasOwnProperty(s)&&n[s][t]===r&&(i[s]=n[s]);return i},t.queryIn=function(e,t,r){var n=this.getTable(e);if(!n||!t)return null;for(var i={},s=Object.keys(n),u=s.length,o=0;o<u;o++){var a=n[s[o]];r.indexOf(a[t])>-1&&(i[s[o]]=a)}return i},t.queryByCondition=function(e,t){if(t.constructor!==Object)return null;var r=this.getTable(e);if(!r)return null;for(var n={},i=Object.keys(r),s=i.length,u=Object.keys(t),o=u.length,a=0;a<s;a++){for(var l=r[i[a]],c=!0,h=0;h<o;h++){var f=u[h];c=c&&t[f].indexOf(l[f])>-1&&!n[i[a]]}c&&(n[i[a]]=l)}return n},e}())||u)),n._RF.pop()}}}));

System.register("chunks:///framework/localConfig.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","./resourceUtil.js","./csvManager.js"],(function(n,r){var t,e,a,i,s,c,o,u,l,h,f;return n({_dec:void 0,_class:void 0,_class2:void 0,_temp:void 0}),{setters:[function(n){t=n.defineProperty,e=n.createClass},function(n){a=n.cclegacy,i=n._decorator},function(n){s=n.resourceUtil},function(n){c=n.csvManager}],execute:function(){a._RF.push({},"acd0cVlaIhLurmAIUS/N+2B","localConfig",void 0),f=i.ccclass,i.property,n("localConfig",(o=f("localConfig"),o((h=l=function(){function n(){t(this,"csvManager",void 0),t(this,"arrCars",void 0),t(this,"_callback",null),t(this,"_skills",{}),t(this,"currentLoad",0),t(this,"cntLoad",0),t(this,"servers",[])}var r=n.prototype;return r.loadConfig=function(n){this._callback=n,this.csvManager=new c,this.loadCSV()},r.loadCSV=function(){var n=this,r=["talk","car","signIn"];this.cntLoad=r.length+1,r.forEach((function(r,t,e){s.getData(r,(function(t,e){n.csvManager.addTable(r,e),n.tryToCallbackOnFinished()}))})),s.getJsonData("servers",(function(r,t){n.servers=t,n.tryToCallbackOnFinished()}))},r.queryOne=function(n,r,t){return this.csvManager.queryOne(n,r,t)},r.queryByID=function(n,r){return this.csvManager.queryByID(n,r)},r.getTable=function(n){return this.csvManager.getTable(n)},r.getTableArr=function(n){return this.csvManager.getTableArr(n)},r.getCars=function(){if(this.arrCars)return this.arrCars;var r=n.instance.getTableArr("car");return this.arrCars=r.sort((function(n,r){return n.sort-r.sort})),this.arrCars},r.queryAll=function(n,r,t){return this.csvManager.queryAll(n,r,t)},r.queryIn=function(n,r,t){return this.csvManager.queryIn(n,r,t)},r.queryByCondition=function(n,r){return this.csvManager.queryByCondition(n,r)},r.tryToCallbackOnFinished=function(){this._callback&&(this.currentLoad++,this.currentLoad>=this.cntLoad&&this._callback())},r.getCurrentServer=function(){return this.servers[0]},r.getVersion=function(){var n=this.getCurrentServer();return n?n.version:"unknown"},e(n,null,[{key:"instance",get:function(){return this._instance?this._instance:(this._instance=new n,this._instance)}}]),n}(),t(l,"_instance",void 0),u=h))||u)),a._RF.pop()}}}));

System.register("chunks:///framework/playerData.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","./configuration.js","./constant.js","./util.js","./localConfig.js"],(function(e,n){var t,a,i,r,s,o,l,f,I,h,y,c,p,u,C,g;return e({_dec:void 0,_class:void 0,_class2:void 0,_temp:void 0}),{setters:[function(e){t=e.defineProperty,a=e.inheritsLoose,i=e.assertThisInitialized,r=e.createClass},function(e){s=e.cclegacy,o=e._decorator,l=e.Component},function(e){f=e.configuration},function(e){I=e.constant},function(e){h=e.util},function(e){y=e.localConfig}],execute:function(){s._RF.push({},"985d59n5DNIrIcY9mIscZXN","playerData",void 0),g=o.ccclass,o.property,e("playerData",(c=g("playerData"),c((C=u=function(e){function n(){for(var n,a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return n=e.call.apply(e,[this].concat(r))||this,t(i(n),"serverTime",void 0),t(i(n),"localTime",void 0),t(i(n),"showCar",void 0),t(i(n),"isComeFromBalance",!1),t(i(n),"userId",""),t(i(n),"playerInfo",null),t(i(n),"history",null),t(i(n),"settings",null),t(i(n),"isNewBee",!1),t(i(n),"dataVersion",""),t(i(n),"signInInfo",null),n}a(n,e);var s=n.prototype;return s.loadGlobalCache=function(){var e=f.instance.getUserId();e&&(this.userId=e)},s.loadFromCache=function(){this.playerInfo=this.loadDataByKey(I.LOCAL_CACHE.PLAYER),this.playerInfo.currentCar?this.showCar=this.playerInfo.currentCar:this.showCar=I.INITIAL_CAR,this.history=this.loadDataByKey(I.LOCAL_CACHE.HISTORY),this.settings=this.loadDataByKey(I.LOCAL_CACHE.SETTINGS)},s.loadDataByKey=function(e){var n={},t=f.instance.getConfigData(e);if(t)try{n=JSON.parse(t)}catch(e){n={}}return n},s.createPlayerInfo=function(e){if(this.playerInfo={},this.playerInfo.diamond=0,this.playerInfo.gold=0,this.playerInfo.level=1,this.playerInfo.realLevel=1,this.playerInfo.passCheckPoint=!1,this.playerInfo.createDate=new Date,this.playerInfo.currentCar=I.INITIAL_CAR,this.playerInfo.cars=[I.INITIAL_CAR],this.playerInfo.dictBuyTask={},this.showCar=this.playerInfo.currentCar,this.isNewBee=!0,this.playerInfo.signInInfo={},this.playerInfo.dictGetCarTime={},e)for(var n in e)this.playerInfo[n]=e[n];this.savePlayerInfoToLocalCache()},s.saveAccount=function(e){this.userId=e,f.instance.setUserId(e)},s.savePlayerInfoToLocalCache=function(){f.instance.setConfigData(I.LOCAL_CACHE.PLAYER,JSON.stringify(this.playerInfo))},s.saveAll=function(){f.instance.setConfigDataWithoutSave(I.LOCAL_CACHE.PLAYER,JSON.stringify(this.playerInfo)),f.instance.setConfigDataWithoutSave(I.LOCAL_CACHE.HISTORY,JSON.stringify(this.history)),f.instance.setConfigDataWithoutSave(I.LOCAL_CACHE.SETTINGS,JSON.stringify(this.settings)),f.instance.setConfigData(I.LOCAL_CACHE.DATA_VERSION,this.dataVersion)},s.updatePlayerInfo=function(e,n){var t=!1;this.playerInfo.hasOwnProperty(e)&&("number"==typeof n?(t=!0,this.playerInfo[e]+=n,this.playerInfo[e]<0&&(this.playerInfo[e]=0)):"boolean"!=typeof n&&"string"!=typeof n||(t=!0,this.playerInfo[e]=n)),t&&f.instance.setConfigData(I.LOCAL_CACHE.PLAYER,JSON.stringify(this.playerInfo))},s.updateSignInCurrentDay=function(){if(0===Object.keys(this.playerInfo.signInInfo).length||this.isNeedRecycleSignInInfo())this.createNewSignInInfo();else{var e=h.getDeltaDays(this.playerInfo.signInInfo.signInDate,Date.now());if(0===e)return;this.updateSignInFillSignInDays(0,!0),this.playerInfo.signInInfo.currentDay+=e,this.playerInfo.signInInfo.currentDay<=0&&this.createNewSignInInfo(),this.playerInfo.signInInfo.currentDay>I.MAX_SIGNIN_DAY?I.MAX_SIGNIN_DAY:this.playerInfo.signInInfo.currentDay,this.playerInfo.signInInfo.signInDate=Date.now()}this.savePlayerInfoToLocalCache()},s.createNewSignInInfo=function(){this.playerInfo.hasOwnProperty("signInInfo")||(this.playerInfo.signInInfo={},this.playerInfo.dictGetCarTime={});var e=this.playerInfo.signInInfo;e.createDate=Date.now(),e.signInDate=Date.now(),e.currentDay=1,e.receivedDays=[],e.afterFillSignInDays=[],this.savePlayerInfoToLocalCache()},s.isNeedRecycleSignInInfo=function(){this.playerInfo.signInInfo||this.createNewSignInInfo();var e=!1;return h.getDeltaDays(this.playerInfo.signInInfo.createDate,Date.now())>=I.MAX_SIGNIN_DAY&&(e=!0),e},s.updateSignInReceivedDays=function(e){var n=this.playerInfo.signInInfo.receivedDays;Array.isArray(n)&&n.includes(e)||(n.push(Number(e)),this.savePlayerInfoToLocalCache())},s.updateSignInFillSignInDays=function(e,n){var t=this.playerInfo.signInInfo.afterFillSignInDays;if(n)t.length=0;else{if(Array.isArray(t)&&t.includes(e))return;t.push(Number(e))}this.savePlayerInfoToLocalCache()},s.getSignInReceivedInfo=function(){this.playerInfo.signInInfo||this.createNewSignInInfo();var e=this.playerInfo.signInInfo;return{isAllReceived:!(e.receivedDays.length<e.currentDay),isTodayReceived:!!e.receivedDays.includes(e.currentDay)}},s.isHadCarAndDuringPeriod=function(e){var n=this.playerInfo.signInInfo.createDate;this.playerInfo.dictGetCarTime||(this.playerInfo.dictGetCarTime={});var t=this.playerInfo.dictGetCarTime[e];return-1!==this.playerInfo.cars.indexOf(e)&&t&&t<n},s.updateDictGetCarTime=function(e){this.playerInfo.dictGetCarTime||(this.playerInfo.dictGetCarTime={}),this.playerInfo.dictGetCarTime[e]=this.playerInfo.signInInfo.createDate,f.instance.setConfigData(I.LOCAL_CACHE.PLAYER,JSON.stringify(this.playerInfo))},s.getLastOnlineRewardTime=function(){return this.playerInfo.onlineRewardTime?this.playerInfo.onlineRewardTime:(this.playerInfo.onlineRewardTime=this.getCurrentTime(),this.savePlayerInfoToLocalCache(),this.playerInfo.onlineRewardTime)},s.updateLastOnlineRewardTime=function(e){var n=this.getCurrentTime()-1e3*e;this.playerInfo.onlineRewardTime=n,this.savePlayerInfoToLocalCache()},s.syncServerTime=function(e){this.serverTime=e,this.localTime=Date.now()},s.getCurrentTime=function(){var e=Date.now()-this.localTime;return this.serverTime+e},s.hasCar=function(e){return e===I.INITIAL_CAR||(this.playerInfo.cars||(this.playerInfo.cars=[I.INITIAL_CAR]),-1!==this.playerInfo.cars.indexOf(e))},s.hasCarCanReceived=function(){for(var e=y.instance.getCars(),n=0;n<e.length;n++){var t=e[n];if(t.type!==I.BUY_CAR_TYPE.GOLD&&t.type!==I.BUY_CAR_TYPE.SIGNIN&&(!this.hasCar(t.ID)&&this.playerInfo.dictBuyTask&&this.playerInfo.dictBuyTask.hasOwnProperty(t.type)&&this.playerInfo.dictBuyTask[t.type]>=t.num))return!0}return!1},s.finishBuyTask=function(e,n,t){this.playerInfo.dictBuyTask||(this.playerInfo.dictBuyTask={}),this.playerInfo.dictBuyTask.hasOwnProperty(e)&&t?this.playerInfo.dictBuyTask[e]+=n:this.playerInfo.dictBuyTask[e]=n,this.savePlayerInfoToLocalCache()},s.getBuyTypeProgress=function(e){return this.playerInfo.dictBuyTask&&this.playerInfo.dictBuyTask.hasOwnProperty(e)?this.playerInfo.dictBuyTask[e]:0},s.getCurrentCar=function(){return this.playerInfo.currentCar||(this.playerInfo.currentCar=I.INITIAL_CAR),this.playerInfo.currentCar},s.useCar=function(e){return!!this.hasCar(e)&&(this.playerInfo.currentCar=e,this.savePlayerInfoToLocalCache(),this.showCar=this.playerInfo.currentCar,!0)},s.buyCar=function(e){return-1!==this.playerInfo.cars.indexOf(e)||(this.playerInfo.cars.push(e),this.savePlayerInfoToLocalCache(),!0)},s.clear=function(){this.playerInfo={},this.settings={},this.saveAll()},s.passLevel=function(e){this.playerInfo.level++,this.playerInfo.gold+=e,console.log("###1 this.playerInfo.level",this.playerInfo.level,"this.playerInfo.realLevel",this.playerInfo.realLevel),this.playerInfo.passCheckPoint?(this.playerInfo.realLevel=this.getRandLevel(),console.log("###3 this.playerInfo.level",this.playerInfo.level,"this.playerInfo.realLevel",this.playerInfo.realLevel)):this.playerInfo.level>=I.MAX_LEVEL?(this.playerInfo.realLevel=I.MAX_LEVEL,this.playerInfo.level=I.MAX_LEVEL,this.playerInfo.passCheckPoint=!0,console.log("###2 this.playerInfo.level",this.playerInfo.level,"this.playerInfo.realLevel",this.playerInfo.realLevel)):this.playerInfo.realLevel=this.playerInfo.level,this.savePlayerInfoToLocalCache()},s.getRandLevel=function(){var e=16+Math.floor(5*Math.random());return e!==this.playerInfo.realLevel?e:this.getRandLevel()},r(n,null,[{key:"instance",get:function(){return this._instance?this._instance:(this._instance=new n,this._instance)}}]),n}(l),t(u,"_instance",void 0),p=C))||p)),s._RF.pop()}}}));

System.register("chunks:///fight/carManager.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","./fightConstants.js","../framework/clientEvent.js","../framework/resourceUtil.js","../framework/constant.js","../framework/poolManager.js","./car.js","./follow.js","./roadPoint.js","../framework/localConfig.js","../framework/playerData.js"],(function(t,n){var a,e,i,r,o,s,c,h,l,f,u,p,C,g,m,d,v,w,M,_,y,I,E,A,P,b,R;return t({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(t){a=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.defineProperty,r=t.assertThisInitialized,o=t.initializerDefineProperty},function(t){s=t.cclegacy,c=t._decorator,h=t.Vec3,l=t.macro,f=t.Component},function(t){u=t.fightConstants},function(t){p=t.clientEvent},function(t){C=t.resourceUtil},function(t){g=t.constant},function(t){m=t.poolManager},function(t){d=t.car},function(t){v=t.follow},function(t){w=t.roadPoint},function(t){M=t.localConfig},function(t){_=t.playerData}],execute:function(){s._RF.push({},"0ab97H51jJALJr6aO9gzNGg","carManager",void 0),b=c.ccclass,R=c.property,t("carManager",(y=b("carManager"),I=R({type:v}),y((P=a((A=function(t){function n(){for(var n,a=arguments.length,e=new Array(a),s=0;s<a;s++)e[s]=arguments[s];return n=t.call.apply(t,[this].concat(e))||this,i(r(n),"_fightMap",null),i(r(n),"_customerManager",null),i(r(n),"mainCar",null),o(r(n),"followCamera",P,r(n)),n}e(n,t);var a=n.prototype;return a.start=function(){},a.onEnable=function(){p.on("showInvincible",this.showInvincible,this)},a.onDisable=function(){p.off("showInvincible",this.showInvincible,this)},a.showInvincible=function(){this.mainCar&&(this.mainCar.isInvincible=!0)},a.init=function(t,n){this._fightMap=t,this._customerManager=n,this.creatMainCar()},a.creatMainCar=function(){var t=this,n=_.instance.showCar?_.instance.showCar:g.INITIAL_CAR,a=M.instance.queryByID("car",n.toString()),e=a?a.model:g.MIN_CAR_ID;C.getCar(e,(function(n,a){if(n)console.error(n);else{t.mainCar&&m.instance.putNode(t.mainCar.node);var e=m.instance.getNode(a,t.node);t.mainCar=e.getComponent("car"),t.mainCar.markMainCar(!0),t.mainCar.setEntry(t._fightMap.path[0]),t.mainCar.manager=t._customerManager,t.mainCar.maxProgress=t._fightMap.levelProgressCnt,t.mainCar.setMoveOverListener((function(){})),t.followCamera.followTarget=e,t.followCamera.showStart()}}))},a.preloadAICar=function(t){for(var n=[],a=1;a<this._fightMap.path.length;a++){var e=this._fightMap.path[a].getComponent(w);if(e.type!==u.ROAD_POINT_TYPE.AI_START)return;for(var i=e.cars.split(","),r=0;r<i.length;r++)-1===n.indexOf(i[r])&&n.push(i[r])}var o=0;C.getCarsBatch(n,(function(t){++o<=15&&p.dispatchEvent("updateLoading",2)}),(function(){o<=15&&p.dispatchEvent("updateLoading",30-2*o),t&&t()}))},a.startGenerateEnemy=function(){this.genAICar=this.genAICar.bind(this);for(var t=1;t<this._fightMap.path.length;t++){this._fightMap.path[t].getComponent(w).startGenerateCar(this.genAICar)}},a.stopGenerateEnemy=function(){for(var t=1;t<this._fightMap.path.length;t++){this._fightMap.path[t].getComponent(w).stopGenerateCar()}},a.genAICar=function(t,n){var a=this;C.getCar(n,(function(n,e){if(n)console.error(n);else{var i=m.instance.getNode(e,a.node).getComponent("car");i.setEntry(t.node),i.minSpeed=t.carSpeed,i.maxSpeed=t.carSpeed,i.startRunning(),i.markMainCar(!1),i.setMoveOverListener((function(t){m.instance.putNode(t.node)}))}}))},a.reset=function(){this.mainCar.setEntry(this._fightMap.path[0]),this.mainCar.maxProgress=this._fightMap.levelProgressCnt,this.followCamera.followTarget=this.mainCar.node,this.stopGenerateEnemy(),this.recrycleAllAICar()},a.recrycleAllAICar=function(){var t=[];this.node.children.forEach((function(n){t.push(n)}),this),t.forEach((function(t){var n=t.getComponent("car");n&&!n.isMain&&m.instance.putNode(t)}))},a.recrycleLimitAICar=function(){var t=this,n=[];this.node.children.forEach((function(t){n.push(t)}),this),n.forEach((function(n){var a=n.getComponent("car"),e=h.distance(n.worldPosition,t.mainCar.node.worldPosition);a&&!a.isMain&&Math.abs(e)<=5?m.instance.putNode(n):(a.isOver=!1,a.startRunning())}))},a.controlMainCar=function(t){t?(p.dispatchEvent("showGuide",!1),this.mainCar.startRunning()):this.mainCar.stopRunning()},a.startGame=function(){p.dispatchEvent("showGuide",!0),this.mainCar.startWithMinSpeed(),this.startGenerateEnemy(),this.schedule(this.checkCarIsCloser,.2,l.REPEAT_FOREVER)},a.gameOver=function(t){this.followCamera.followTarget=null,this.stopGenerateEnemy(),this.unschedule(this.checkCarIsCloser),this.node.children.forEach((function(t){t.getComponent(d).stopImmediately()}))},a.changeCameraFollowRotation=function(){this.followCamera.isFollowRotation=!this.followCamera.isFollowRotation},a.getCurrentProgress=function(){return{cur:this.mainCar.curProgress,isOver:!this.mainCar.hasCustomer}},a.revive=function(){this.recrycleLimitAICar(),this.mainCar.revive(),this.followCamera.followTarget=this.mainCar.node,this.startGenerateEnemy()},a.checkCarIsCloser=function(){if(this.mainCar.isCarMoving){var t=this.mainCar.node,n=t.getWorldPosition();this.node.children.forEach((function(a){if(a!==t){var e=a.getWorldPosition(),i=a.forward;e.x-=i.x,e.z-=i.z,Math.abs(e.x-n.x)<2&&Math.abs(e.z-n.z)<2&&a.getComponent(d).tooting()}}))}},n}(f)).prototype,"followCamera",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=A))||E)),s._RF.pop()}}}));

System.register("chunks:///fight/customerManager.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","./fightConstants.js","../framework/clientEvent.js","../framework/resourceUtil.js","../framework/audioManager.js","../framework/constant.js","../framework/poolManager.js"],(function(e,t){var o,n,s,r,i,a,u,l,c,d,m,h,f,p,C,g,_,v,w,y,M,S;return e({_dec:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,s=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.defineProperty},function(e){a=e.cclegacy,u=e._decorator,l=e.Vec3,c=e.AnimationComponent,d=e.Component},function(e){m=e.fightConstants},function(e){h=e.clientEvent},function(e){f=e.resourceUtil},function(e){p=e.audioManager},function(e){C=e.constant},function(e){g=e.poolManager}],execute:function(){a._RF.push({},"586a8tdaBhPQprl2rcvzztA","customerManager",void 0),M=u.ccclass,S=u.property,e("customerManager",(_=M("customerManager"),_((y=o((w=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,s(r(t),"moveSpeed",y,r(t)),i(r(t),"nodeCustomer",null),i(r(t),"_targetPos",null),i(r(t),"_callback",null),i(r(t),"_offset",null),i(r(t),"customerId",-1),i(r(t),"retryTimes",0),t}n(t,e);var o=t.prototype;return o.start=function(){},o.newOrder=function(){this.customerId=Math.floor(Math.random()*C.CUSTOMER_MAX_CNT)+1,h.dispatchEvent("showTalk",this.customerId,m.CUSTOMER_TALK_TIME.NEW_ORDER)},o.greeting=function(e,t,o){var n=this;-1===this.customerId&&(this.customerId=Math.floor(Math.random()*C.CUSTOMER_MAX_CNT)+1),this.nodeCustomer&&(g.instance.putNode(this.nodeCustomer),this.nodeCustomer=null),f.getCustomer(this.customerId.toString(),(function(s,r){if(s)return console.error(s),void(n.retryTimes<3&&n.greeting(e,t,o));n.retryTimes=0,n.nodeCustomer=g.instance.getNode(r,n.node),t=new l(t.x,t.y,t.z);var i=new l;l.multiplyScalar(i,t,1.3),l.add(i,e,i);var a=i.clone();l.multiplyScalar(i,t,.25),l.add(i,e,i);var u=i.clone();n.nodeCustomer.setWorldPosition(a),0!==t.x?t.x>0?n.nodeCustomer.eulerAngles=new l(0,270,0):n.nodeCustomer.eulerAngles=new l(0,90,0):t.z>0?n.nodeCustomer.eulerAngles=new l(0,180,0):n.nodeCustomer.eulerAngles=new l(0,0,0),p.instance.playSound(C.AUDIO_SOUND.NEW_ORDER),n.customerMove(u,(function(){p.instance.playSound(C.AUDIO_SOUND.IN_CAR),o&&o(),n.scheduleOnce((function(){h.dispatchEvent("showTalk",n.customerId,m.CUSTOMER_TALK_TIME.INTO_THE_CAR)}),1)}))}))},o.takeCustomer=function(e,t,o,n){var s=this;if(this.nodeCustomer){t=new l(t.x,t.y,t.z);var r=new l;l.multiplyScalar(r,t,.25),l.add(r,e,r);var i=r.clone();this.nodeCustomer.active=!0,this.nodeCustomer.setWorldPosition(i),0!==t.x?t.x>0?this.nodeCustomer.eulerAngles=new l(0,90,0):this.nodeCustomer.eulerAngles=new l(0,270,0):t.z>0?this.nodeCustomer.eulerAngles=new l(0,0,0):this.nodeCustomer.eulerAngles=new l(0,180,0),l.multiplyScalar(r,t,1.3),l.add(r,e,r);var a=r.clone();p.instance.playSound(C.AUDIO_SOUND.GET_MONEY),this.customerMove(a,(function(){n(),o||s.scheduleOnce((function(){s.newOrder()}),2)}))}else n()},o.customerMove=function(e,t){this._targetPos=e,this._callback=t,this.nodeCustomer.getComponent(c).play("walk"),this._offset=l.subtract(new l,this._targetPos,this.nodeCustomer.worldPosition),this._offset.multiplyScalar(this.moveSpeed)},o.update=function(e){if(this._targetPos&&this.nodeCustomer){var t=this.nodeCustomer.getWorldPosition(),o=new l;l.multiplyScalar(o,this._offset,e),t.add(o),l.subtract(o,t,this._targetPos).lengthSqr()<.01?this.onMoveOver():this.nodeCustomer.setWorldPosition(t)}},o.onMoveOver=function(){this.nodeCustomer.setWorldPosition(this._targetPos),this.nodeCustomer.active=!1,this._targetPos=null,this._callback&&this._callback()},o.reset=function(){this.nodeCustomer&&cc.isValid(this.nodeCustomer)&&(this.nodeCustomer.getComponent(c).getState("walk").stop(),this.nodeCustomer.destroy(),this.nodeCustomer=null);this.customerId=-1},t}(d)).prototype,"moveSpeed",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),v=w))||v)),a._RF.pop()}}}));

System.register("chunks:///fight/effectManager.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","../framework/clientEvent.js","../framework/audioManager.js","../framework/constant.js","../framework/poolManager.js","./carManager.js"],(function(n,e){var r,t,i,a,o,c,s,l,u,d,f,g,h,p,v,M,N,k,m,y,_,B,b;return n({_dec:void 0,_dec2:void 0,_dec3:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_temp:void 0}),{setters:[function(n){r=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized,o=n.defineProperty},function(n){c=n.cclegacy,s=n._decorator,l=n.Prefab,u=n.Component},function(n){d=n.clientEvent},function(n){f=n.audioManager},function(n){g=n.constant},function(n){h=n.poolManager},function(n){p=n.carManager}],execute:function(){c._RF.push({},"cf371ivOc1Ae64t3ScAzqjv","effectManager",void 0),B=s.ccclass,b=s.property,n("effectManager",(v=B("effectManager"),M=b({type:l}),N=b({type:p}),v((y=r((m=function(n){function e(){for(var e,r=arguments.length,t=new Array(r),c=0;c<r;c++)t[c]=arguments[c];return e=n.call.apply(n,[this].concat(t))||this,i(a(e),"pfTailLine",y,a(e)),i(a(e),"carManager",_,a(e)),o(a(e),"currentNode",null),e}t(e,n);var r=e.prototype;return r.start=function(){},r.onEnable=function(){d.on("startBraking",this.onBrakingStart,this),d.on("endBraking",this.onBrakingEnd,this)},r.onDisable=function(){d.off("startBraking",this.onBrakingStart,this),d.off("endBraking",this.onBrakingEnd,this)},r.onBrakingStart=function(){this.currentNode=h.instance.getNode(this.pfTailLine,this.node),this.currentNode.setWorldPosition(this.carManager.mainCar.node.worldPosition),this.currentNode.eulerAngles=this.carManager.mainCar.node.eulerAngles,f.instance.playSound(g.AUDIO_SOUND.STOP,!1)},r.onBrakingEnd=function(){var n=this.currentNode;this.currentNode=null,this.scheduleOnce((function(){n&&n.isValid&&h.instance.putNode(n)}),2)},r.update=function(n){this.currentNode&&this.carManager.mainCar&&(this.currentNode.setWorldPosition(this.carManager.mainCar.node.worldPosition),this.currentNode.eulerAngles=this.carManager.mainCar.node.eulerAngles)},r.reset=function(){if(this.currentNode){h.instance.putNode(this.currentNode),h.instance.clearPool(this.currentNode.name),this.currentNode=null;for(var n=this.node.children.slice(0),e=0;e<n.length;e++){var r=n[e];r&&r.isValid&&r.destroy()}}},e}(u)).prototype,"pfTailLine",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=r(m.prototype,"carManager",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=m))||k)),c._RF.pop()}}}));

System.register("chunks:///i18nMaster/runtime-scripts/polyglot.min.js",["cc"],(function(n,t){var r,e,i,s,o,u,a,c,l,f,p;function h(n,t){var r=function(n){var t={};return e(n,(function(n,r){e(n,(function(n){t[n]=r}),this)}),this),t}(n.pluralTypeToLanguages);return r[t]||r[a.call(t,/-/,1)[0]]||r.en}function y(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(n,t,r,e,i){if("string"!=typeof n)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return n;var o=n,l=e||p,y=i||f,g="number"==typeof t?{smart_count:t}:t;if(null!=g.smart_count&&o){var v=a.call(o,c);o=(v[function(n,t,r){return n.pluralTypes[h(n,t)](r)}(y,r||"en",g.smart_count)]||v[0]).replace(/^\s+|\s+$/gm,"")}return o=u.call(o,l,(function(n,t){return s(g,t)&&null!=g[t]?g[t]:n}))}function v(n){var t=n||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var r=t.allowMissing?g:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:r,this.warn=t.warn||o,this.tokenRegex=function(n){var t=n&&n.prefix||"%{",r=n&&n.suffix||"}";if(t===c||r===c)throw new RangeError('"'+c+'" token is reserved for pluralization');return new RegExp(y(t)+"(.*?)"+y(r),"g")}(t.interpolation),this.pluralRules=t.pluralRules||f}return{setters:[function(n){r=n.cclegacy}],execute:function(){r._RF.push({},"26839JcVWpGabE9xA7/uWJw","polyglot.min",void 0),e=function(n,t,r){if(n=arguments[0],t="function"==typeof arguments[1]?arguments[1]:new Function,Array.isArray(n))n.forEach((function(n,r,e){t(n,r)}));else for(var e in n)if(n.hasOwnProperty(e)){var i=n[e];t(i,e)}},i=function(n){console.warn(n)},s=function(n,t){return n.hasOwnProperty(t)},o=function(n){i(n)},u=String.prototype.replace,a=String.prototype.split,c="||||",f={pluralTypes:{arabic:function(n){if(n<3)return n;var t=n%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:l=function(n){var t=n%100,r=t%10;return 11!==t&&1===r?0:2<=r&&r<=4&&!(t>=12&&t<=14)?1:2},chinese:function(){return 0},croatian:l,french:function(n){return n>1?1:0},german:function(n){return 1!==n?1:0},russian:l,lithuanian:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=9&&(n%100<11||n%100>19)?1:2},czech:function(n){return 1===n?0:n>=2&&n<=4?1:2},polish:function(n){if(1===n)return 0;var t=n%10;return 2<=t&&t<=4&&(n%100<10||n%100>=20)?1:2},icelandic:function(n){return n%10!=1||n%100==11?1:0},slovenian:function(n){var t=n%100;return 1===t?0:2===t?1:3===t||4===t?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}},p=/%\{(.*?)\}/g,v.prototype.locale=function(n){return n&&(this.currentLocale=n),this.currentLocale},v.prototype.extend=function(n,t){var r=this;e(n,(function(n,e){var i=t?t+"."+e:e;"object"==typeof n?r.extend(n,i):r.phrases[i]=n}),this)},v.prototype.unset=function(n,t){"string"==typeof n?delete this.phrases[n]:e(n,(function(n,r){var e=t?t+"."+r:r;"object"==typeof n?this.unset(n,e):delete this.phrases[e]}),this)},v.prototype.clear=function(){this.phrases={}},v.prototype.replace=function(n){this.clear(),this.extend(n)},v.prototype.t=function(n,t){var r,e,i=null==t?{}:t;if("string"==typeof this.phrases[n])r=this.phrases[n];else if("string"==typeof i._)r=i._;else if(this.onMissingKey){e=(0,this.onMissingKey)(n,i,this.currentLocale,this.tokenRegex,this.pluralRules)}else this.warn('Missing translation for key: "'+n+'"'),e=n;return"string"==typeof r&&(e=g(r,i,this.currentLocale,this.tokenRegex,this.pluralRules)),e},v.prototype.has=function(n){return s(this.phrases,n)},v.transformPhrase=function(n,t,r){return g(n,t,r)},r._RF.pop(),n("default",v)}}}));

System.register("chunks:///i18nMaster/runtime-scripts/LanguageData.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","./polyglot.min.js"],(function(n,e){var t,r,i,a,o;function u(n){return window.i18n.languages[n]}function c(n){n&&(a?a.replace(n):a=new i({phrases:n,allowMissing:!0}))}return{setters:[function(n){t=n.defineProperty},function(n){r=n.cclegacy},function(n){i=n.default}],execute:function(){r._RF.push({},"d6597NeRz5OuZ6kceJkHWc3","LanguageData",void 0),a=null,window.i18n||(window.i18n={languages:{},curLang:""}),t(o=function(){function n(){}return n.init=function(n){if(n!==window.i18n.curLang){var e=u(n)||{};window.i18n.curLang=n,c(e),this.inst=a}},n.t=function(n,e){0===Object.keys(a.phrases).length&&(c(u(window.i18n.curLang)||{}),console.warn("###防止出现parses数据丢失，重新替换数据"));if(a)return a.t(n,e)},n.prototype.updateSceneRenderers=function(){for(var n=cc.director.getScene().children,e=[],t=0;t<n.length;++t){var r=n[t].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(e,r)}for(var i=0;i<e.length;++i){var a=e[i];a.node.active&&a.updateLabel()}for(var o=[],u=0;u<n.length;++u){var c=n[u].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(o,c)}for(var l=0;l<o.length;++l){var s=o[l];s.node.active&&s.updateSprite(window.i18n.curLang)}},n}(),"inst",null),r._RF.pop(),n("default",o)}}}));

System.register("chunks:///fight/fightMap.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","./fightConstants.js","../framework/clientEvent.js","../framework/resourceUtil.js","../framework/poolManager.js","./roadPoint.js","../i18nMaster/runtime-scripts/LanguageData.js"],(function(e,t){var i,r,o,n,s,a,p,l,c,h,d,u,g,m,f,y,v,x,b,P,M,N,_,w,F;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,s=e.defineProperty,a=e.createClass},function(e){p=e.cclegacy,l=e._decorator,c=e.Node,h=e.Vec3,d=e.Component},function(e){u=e.fightConstants},function(e){g=e.clientEvent},function(e){m=e.resourceUtil},function(e){f=e.poolManager},function(e){y=e.roadPoint},function(e){v=e.default}],execute:function(){p._RF.push({},"273adkVLRhECoDje+nCdBuE","fightMap",void 0),w=l.ccclass,F=l.property,e("fightMap",(x=w("fightMap"),b=F({type:cc.Node,displayName:"各路线起点"}),P=F({displayName:"导出"}),x((_=i((N=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(n(t),"path",_,n(t)),s(n(t),"_isExporting",!1),s(n(t),"objMap",void 0),s(n(t),"objExport",void 0),s(n(t),"_progressListener",void 0),s(n(t),"_completeListener",void 0),s(n(t),"curProgress",void 0),s(n(t),"maxProgress",void 0),s(n(t),"levelProgressCnt",0),t}r(t,e);var i=t.prototype;return i.start=function(){},i._export=function(){var e=this,t=this.node.name;this.objExport={},this.parseDetailByType("plane"),this.parseDetailByType("road"),this.parseDetailByType("house"),this.parseDetailByType("tree"),this.parseDetailByType("sign"),this.parsePath();var i=window.cce.project,r=require("fs"),o=JSON.stringify(this.objExport);window.LZString&&(console.log("zip"),o=window.LZString.compressToEncodedURIComponent(o));var n=i+"/assets/resources/gamePackage/map/config/"+t+".zip";r.writeFile(n,o,(function(t){e._isExporting=!1,console.log("writeFile success",t)}))},i.parsePath=function(){for(var e=this.node.getChildByName("path"),t={name:e.name,pX:e.position.x,pY:e.position.y,pZ:e.position.z,children:[]},i=0;i<this.path.length;i++){var r=this.path[i],o=r.parent,n={name:o.name,pX:o.position.x,pY:o.position.y,pZ:o.position.z,path:this.parseRoadPoint(r)};t.children.push(n)}this.objExport[t.name]=t},i.parseRoadPoint=function(e){if(!e)return null;var t=e.getComponent(y);return{name:e.name,pX:Number(e.position.x.toFixed(3)),pY:Number(e.position.y.toFixed(3)),pZ:Number(e.position.z.toFixed(3)),rX:Number(e.eulerAngles.x.toFixed(3)),rY:Number(e.eulerAngles.y.toFixed(3)),rZ:Number(e.eulerAngles.z.toFixed(3)),sX:Number(e.scale.x.toFixed(3)),sY:Number(e.scale.y.toFixed(3)),sZ:Number(e.scale.z.toFixed(3)),type:t.type,next:this.parseRoadPoint(t.next),moveType:t.moveType,clockwise:t.clockwise,direction:t.direction,delayTime:t.delayTime,genInterval:t.genInterval,carSpeed:t.carSpeed,cars:t.cars}},i.parseDetailByType=function(e){var t=this.node.getChildByName(e);if(t){for(var i={name:t.name,pX:t.position.x,pY:t.position.y,pZ:t.position.z,children:[]},r=0;r<t.children.length;r++){var o=t.children[r],n=this.parseChildDetail(o,e);i.children.push(n)}this.objExport[i.name]=i}else console.log("this map don't have "+e)},i.parseChildDetail=function(e,t){return{name:e.name,pX:Number(e.position.x.toFixed(3)),pY:Number(e.position.y.toFixed(3)),pZ:Number(e.position.z.toFixed(3)),rX:Number(e.eulerAngles.x.toFixed(3)),rY:Number(e.eulerAngles.y.toFixed(3)),rZ:Number(e.eulerAngles.z.toFixed(3)),sX:Number(e.scale.x.toFixed(3)),sY:Number(e.scale.y.toFixed(3)),sZ:Number(e.scale.z.toFixed(3))}},i.buildMap=function(e,t,i){this._progressListener=t,this._completeListener=i,this.objMap=e,this.curProgress=0,this.maxProgress=6,this.buildModel("plane"),this.buildModel("road"),this.buildModel("tree"),this.buildModel("house"),this.buildModel("sign"),this.buildPath()},i.buildModel=function(e){var t=this;if(this.objMap.hasOwnProperty(e)){for(var i=[],r=this.objMap[e],o=0;o<r.children.length;o++){var n=r.children[o].name;-1===i.indexOf(n)&&i.push(n)}var s={};m.getMapObjs(e,i,(function(){}),(function(i,o){if(i)console.error(i);else{for(var n=0;n<o.length;n++){var a=o[n];s[a.data.name]=a}var p=new c(e);p.parent=t.node,p.setPosition(new h(r.pX,r.pY,r.pZ));for(var l=0;l<r.children.length;l++){var d=r.children[l],u=s[d.name],g=f.instance.getNode(u,p);g.setPosition(d.pX,d.pY,d.pZ),g.eulerAngles=new h(d.rX,d.rY,d.rZ),g.setScale(d.sX,d.sY,d.sZ)}t.triggerFinished(e)}}))}else this.triggerFinished(e)},i.buildPath=function(){if(this.objMap.hasOwnProperty("path")){this.path=[],this.levelProgressCnt=0;var e=this.objMap.path,t=new c("path");t.parent=this.node,t.setPosition(e.pX,e.pY,e.pZ);for(var i=0;i<e.children.length;i++){var r=e.children[i],o=new c(r.name);o.parent=t,o.setPosition(r.pX,r.pY,r.pZ);var n=this.createRoadPoint(r.path,o);this.path.push(n)}this.triggerFinished("path")}},i.createRoadPoint=function(e,t){if(!e)return null;var i=new c(e.name);i.parent=t,i.setPosition(e.pX,e.pY,e.pZ),i.setScale(e.sX,e.sY,e.sZ),i.eulerAngles=new h(e.rX,e.rY,e.rZ);var r=i.addComponent(y);return r.type=e.type,r.moveType=e.moveType,r.clockwise=e.clockwise,r.direction=e.direction,r.delayTime=e.delayTime,r.genInterval=e.genInterval,r.carSpeed=e.carSpeed,r.cars=e.cars,r.type===u.ROAD_POINT_TYPE.PLATFORM&&this.levelProgressCnt++,e.next&&(r.next=this.createRoadPoint(e.next,t)),i},i.triggerFinished=function(e){console.log("build "+e+" finished!");var t="";switch(e){case"plane":t=v.t("fightMap.trimTheGround");break;case"road":t=v.t("fightMap.pavingTheRoad");break;case"tree":t=v.t("fightMap.plantingTree");break;case"house":t=v.t("fightMap.decorateHouse");break;case"sign":t=v.t("fightMap.paintLandmarks")}t&&g.dispatchEvent("updateLoading",10,t),this.curProgress++,this._progressListener&&this._progressListener(this.curProgress,this.maxProgress),this.curProgress>=this.maxProgress&&this._completeListener&&this._completeListener()},i.recycle=function(){console.log("recycle map elements..."),this.recycleModel("plane"),this.recycleModel("road"),this.recycleModel("tree"),this.recycleModel("house"),this.recycleModel("sign"),this.node.removeAllChildren()},i.recycleModel=function(e){var t=this.node.getChildByName(e);if(t)for(var i=0;i<t.children.length;i++){var r=t.children[i];f.instance.putNode(r)}},a(t,[{key:"Export",get:function(){return this._isExporting},set:function(e){e&&CC_EDITOR&&(this._isExporting=!0,this._export())}}]),t}(d)).prototype,"path",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i(N.prototype,"Export",[P],Object.getOwnPropertyDescriptor(N.prototype,"Export"),N.prototype),M=N))||M)),p._RF.pop()}}}));

System.register("chunks:///ui/common/tips.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/poolManager.js"],(function(t,e){var i,n,o,s,r,c,a,l,p,u,d,h,f,g,v,y,_,b,w;return t({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized,r=t.defineProperty},function(t){c=t.cclegacy,a=t._decorator,l=t.LabelComponent,p=t.Vec3,u=t.tween,d=t.Component},function(t){h=t.poolManager}],execute:function(){c._RF.push({},"60f49uw4/dA4rGh/C738U1T","tips",void 0),b=a.ccclass,w=a.property,t("tips",(f=b("tips"),g=w(l),f((_=i((y=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),c=0;c<i;c++)n[c]=arguments[c];return e=t.call.apply(t,[this].concat(n))||this,o(s(e),"lbTips",_,s(e)),r(s(e),"targetPos",void 0),e}n(e,t);var i=e.prototype;return i.start=function(){},i.show=function(t,e){var i=this;this.targetPos=new p(0,200,0),this.node.setPosition(this.targetPos),this.lbTips.string=t;var n=this.lbTips.node.getContentSize();cc.isValid(n)?(this.node.setContentSize(n.width+100<240?240:n.width+100,n.height+30),this.scheduleOnce((function(){u(i.targetPos).by(.8,new p(0,150,0)).call((function(){e&&e(),h.instance.putNode(i.node)})).start()}),.8)):h.instance.putNode(this.node)},e}(d)).prototype,"lbTips",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v)),c._RF.pop()}}}));

System.register("chunks:///framework/uiManager.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","./resourceUtil.js","./poolManager.js","../ui/common/tips.js"],(function(i,t){var o,n,e,a,s,r,c,p,h,u,l,d;return i({_dec:void 0,_class:void 0,_class2:void 0,_temp:void 0}),{setters:[function(i){o=i.defineProperty,n=i.createClass},function(i){e=i.cclegacy,a=i._decorator},function(i){s=i.resourceUtil},function(i){r=i.poolManager},function(i){c=i.tips}],execute:function(){e._RF.push({},"ae98dhzQlZL2p1SbDgvNdoJ","uiManager",void 0),d=a.ccclass,a.property,800,i("uiManager",(p=d("uiManager"),p((l=u=function(){function i(){o(this,"dictSharedPanel",{}),o(this,"dictLoading",{}),o(this,"arrPopupDialog",[]),o(this,"showTipsTime",0)}var t=i.prototype;return t.showDialog=function(i,t,o){var n=this;if(!this.dictLoading[i]){var e=i.lastIndexOf("/"),a=i.slice(e+1);if(t||(t=[]),this.dictSharedPanel.hasOwnProperty(i)){var r=this.dictSharedPanel[i];if(cc.isValid(r)){r.parent=cc.find("Canvas"),r.active=!0;var c=r.getComponent(a);return c.show&&c.show.apply(c,t),void(o&&o(c))}}this.dictLoading[i]=!0,s.createUI(i,(function(e,s){var r=!1;if(n.dictLoading[i]||(r=!0),n.dictLoading[i]=!1,e)console.error(e);else{s.zIndex=100,n.dictSharedPanel[i]=s;var c=s.getComponent(a);c.show&&c.show.apply(c,t),o&&o(c),r&&n.hideDialog(i)}}))}},t.hideDialog=function(i,t){if(this.dictSharedPanel.hasOwnProperty(i)){var o=this.dictSharedPanel[i];if(o&&cc.isValid(o)){var n=o.getComponent("animationUI");n?n.close((function(){o.parent=null,t&&"function"==typeof t&&t()})):(o.parent=null,t&&"function"==typeof t&&t())}else t&&"function"==typeof t&&t()}this.dictLoading[i]=!1},t.pushToPopupSeq=function(i,t,o){var n={panelPath:i,scriptName:t,param:o,isShow:!1};this.arrPopupDialog.push(n),this.checkPopupSeq()},t.insertToPopupSeq=function(i,t,o){var n={panelPath:t,param:o,isShow:!1};this.arrPopupDialog.splice(i,0,n)},t.shiftFromPopupSeq=function(i){var t=this;this.hideDialog(i,(function(){t.arrPopupDialog[0]&&t.arrPopupDialog[0].panelPath===i&&(t.arrPopupDialog.shift(),t.checkPopupSeq())}))},t.checkPopupSeq=function(){if(this.arrPopupDialog.length>0){var i=this.arrPopupDialog[0];i.isShow||(this.showDialog(i.panelPath,i.param),this.arrPopupDialog[0].isShow=!0)}},t.showTips=function(i,t){var o=Date.now();if(o-this.showTipsTime<800){var n=800-(o-this.showTipsTime);setTimeout(function(i,t){this._showTipsAni(i,t)}.bind(this,i,t),n),this.showTipsTime=o+n}else this._showTipsAni(i,t),this.showTipsTime=o},t._showTipsAni=function(i,t){s.getUIPrefabRes("common/tips",(function(o,n){o||r.instance.getNode(n,cc.find("Canvas")).getComponent(c).show(i,t)}))},n(i,null,[{key:"instance",get:function(){return this._instance?this._instance:(this._instance=new i,this._instance)}}]),i}(),o(u,"_instance",void 0),h=l))||h)),e._RF.pop()}}}));

System.register("chunks:///ui/main/flyRewardItem.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(t,e){var o,a,n,r,i,s,c,l,h,d,u,p;return t({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(t){o=t.inheritsLoose,a=t.defineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,i=t._decorator,s=t.Vec3,c=t.SpriteComponent,l=t.tween,h=t.Component}],execute:function(){r._RF.push({},"62dd66o/TBEyqhX8gZkE8/G","flyRewardItem",void 0),p=i.ccclass,i.property,t("flyRewardItem",(d=p("flyRewardItem"),d(u=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,a(n(e),"targetPos",new s),a(n(e),"targetRotation",new s(0,0,0)),a(n(e),"targetScale",new s(1,1,1)),a(n(e),"posLast",void 0),a(n(e),"_callback",void 0),e}o(e,t);var r=e.prototype;return r.start=function(){},r.show=function(t,e,o){var a=this;this.posLast=e,this._callback=o;var n=this.node.addComponent(c);n.trim=!1,n.sizeMode=c.SizeMode.RAW,n.spriteFrame=t,this.node.eulerAngles=new s(0,0,Math.floor(360*Math.random())),this.targetRotation=new s(this.node.eulerAngles);var r=new s(Math.floor(300*Math.random())-150,Math.floor(300*Math.random())-150,0),i=s.distance(r,new s(0,0,0))/400;l(this.targetPos).to(i,r,{easing:"cubicInOut"}).start();var h=120+Math.floor(60*Math.random());h=this.targetRotation.z+Math.floor(2*Math.random())===1?h:-h,l(this.targetRotation).to(i,new s(0,0,h)).start(),l(this.targetScale).to(2*i/3,new s(1.4,1.4,1.4)).to(i/3,new s(1,1,1)).call((function(){a.move2Target()})).start()},r.move2Target=function(){var t=this,e=s.distance(this.node.position,this.posLast)/1500,o=Math.floor(10*Math.random())/10;l(this.targetScale).to(.3,new s(1.4,1.4,1.4)).to(.7,new s(1,1,1)).union().repeat(50).start(),this.scheduleOnce((function(){l(t.targetPos).to(e,t.posLast).call((function(){t._callback&&t._callback(t.node)})).start()}),o)},r.update=function(t){this.node.position=this.targetPos,this.node.eulerAngles=this.targetRotation,this.node.setScale(this.targetScale)},e}(h))||u)),r._RF.pop()}}}));

System.register("chunks:///ui/main/flyReward.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/clientEvent.js","./flyRewardItem.js"],(function(e,i){var t,n,r,o,a,c,d,l,s,u,f,p,v,h,m,y,_,w,b,g,R,P,I,k;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_temp:void 0}),{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.defineProperty},function(e){c=e.cclegacy,d=e._decorator,l=e.SpriteFrame,s=e.Node,u=e.AnimationComponent,f=e.Component},function(e){p=e.clientEvent},function(e){v=e.flyRewardItem}],execute:function(){c._RF.push({},"d14d4EewSBFtIn6B/rRUvjM","flyReward",void 0),I=d.ccclass,k=d.property,10,e("flyReward",(h=I("flyReward"),m=k(l),y=k(s),_=k(u),h((g=t((b=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return i=e.call.apply(e,[this].concat(n))||this,r(o(i),"imgGold",g,o(i)),r(o(i),"ndRewardParent",R,o(i)),r(o(i),"aniBoom",P,o(i)),a(o(i),"finishIdx",0),a(o(i),"_callback",void 0),a(o(i),"isGoldOrDiamond",!0),i}n(i,e);var t=i.prototype;return t.start=function(){this.aniBoom.play(),this.createReward()},t.getTargetPos=function(){var e=cc.find("Canvas/goldPos");return e?e.getPosition():(this.node.destroy(),void(this._callback&&this._callback()))},t.createReward=function(){for(var e=this,i=this.imgGold,t=this.getTargetPos(),n=0;n<10;n++){var r=new s("flyRewardItem"),o=r.addComponent(v);r.parent=this.ndRewardParent,o.show(i,t,(function(i){e.onFlyOver(i)}))}},t.setInfo=function(e){this.isGoldOrDiamond=e},t.onFlyOver=function(e){this.isGoldOrDiamond?p.dispatchEvent("receiveGold"):p.dispatchEvent("receiveDiamond"),e.active=!1,this.finishIdx++,10===this.finishIdx&&(this._callback&&this._callback(),this.node.destroy())},t.setEndListener=function(e){this._callback=e},i}(f)).prototype,"imgGold",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(b.prototype,"ndRewardParent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(b.prototype,"aniBoom",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=b))||w)),c._RF.pop()}}}));

System.register("chunks:///logic/gameLogic.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","../framework/clientEvent.js","../framework/configuration.js","../framework/resourceUtil.js","../framework/constant.js","../framework/playerData.js","../framework/uiManager.js","../ui/main/flyReward.js"],(function(n,e){var t,i,a,c,o,r,s,u,d,f,l,g,p,m,v;return n({_dec:void 0,_class:void 0,_class2:void 0,_temp:void 0}),{setters:[function(n){t=n.defineProperty},function(n){i=n.cclegacy,a=n._decorator},function(n){c=n.clientEvent},function(n){o=n.configuration},function(n){r=n.resourceUtil},function(n){s=n.constant},function(n){u=n.playerData},function(n){d=n.uiManager},function(n){f=n.flyReward}],execute:function(){i._RF.push({},"b6eeddtwEdPDYszSPn2rVjb","gameLogic",void 0),v=a.ccclass,n("gameLogic",(l=v("gameLogic"),l((m=p=function(){function n(){}return n.addGold=function(n){u.instance.updatePlayerInfo("gold",n),c.dispatchEvent("updateGold")},n.useCar=function(n){u.instance.useCar(n),c.dispatchEvent("updateCar")},n.buyCar=function(n){u.instance.buyCar(n),c.dispatchEvent("buyCar")},n.isVibrateOpen=function(){var n=o.instance.getGlobalData("vibrate");return null==n&&(n=!0),n},n.getOpenRewardType=function(n,e,t){e(null,s.OPEN_REWARD_TYPE.NULL)},n.checkIsByVideoAds=function(n){return!1},n.updateRewardIcon=function(n,e,t,i,a){var c=this;this.getOpenRewardType(n,(function(n,o){switch(o){case s.OPEN_REWARD_TYPE.AD:e.node.active=!0,e.spriteFrame=i||c.imgAd;break;case s.OPEN_REWARD_TYPE.SHARE:e.node.active=!0,e.spriteFrame=a||c.imgShare;break;case s.OPEN_REWARD_TYPE.NULL:e.node.active=!1}t&&t(n,o)}))},n.finishBuyTask=function(n,e,t){u.instance.finishBuyTask(n,e,t),c.dispatchEvent("updateBuyTask")},n.openReward=function(n,e){e&&e(null)},n.afterLogin=function(){u.instance.isNewBee||this.checkSignIn()},n.checkSignIn=function(){1!==u.instance.playerInfo.level&&(u.instance.updateSignInCurrentDay(),u.instance.getSignInReceivedInfo().isTodayReceived||d.instance.pushToPopupSeq("signIn/signIn","signIn",{}))},n.showFlyReward=function(n,e){r.createUI("common/flyReward",(function(n,t){n?e&&e():t.getComponent(f).setEndListener(e)}))},n}(),t(p,"imgAd",null),t(p,"imgShare",null),g=m))||g)),i._RF.pop()}}}));

System.register("chunks:///ui/common/updateValueLabel.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(t,i){var e,a,n,s,l,r,o,h,c,u,d,p;return t({_dec:void 0,_dec2:void 0,_class:void 0,_temp:void 0}),{setters:[function(t){e=t.inheritsLoose,a=t.defineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.LabelComponent,o=t.Component}],execute:function(){s._RF.push({},"4b7cfRS5bdP8qo8rorNgln5","updateValueLabel",void 0),d=l.ccclass,l.property,p=l.requireComponent,t("updateValueLabel",(h=d("updateValueLabel"),c=p(r),h(u=c(u=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),l=0;l<e;l++)s[l]=arguments[l];return i=t.call.apply(t,[this].concat(s))||this,a(n(i),"isPlaying",!1),a(n(i),"startVal",0),a(n(i),"endVal",0),a(n(i),"diffVal",0),a(n(i),"currTime",0),a(n(i),"changingTime",0),a(n(i),"label",null),i}e(i,t);var s=i.prototype;return s.start=function(){},s.playUpdateValue=function(t,i,e){this.startVal=t,this.endVal=i,this.diffVal=this.endVal-this.startVal,this.currTime=0,this.changingTime=e,this.label=this.node.getComponent(r),this.label.string=t.toString(),this.isPlaying=!0},s.update=function(t){if(this.isPlaying){if(this.currTime<this.changingTime){this.currTime+=t;var i=this.startVal+parseInt((this.currTime/this.changingTime*this.diffVal).toString());return i<this.startVal?i=this.startVal:i>this.endVal&&(i=this.endVal),void(this.label.string=""+i)}this.label.string=""+this.endVal,this.isPlaying=!1}},i}(o))||u)||u)),s._RF.pop()}}}));

System.register("chunks:///ui/common/loading.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","./updateValueLabel.js"],(function(r,e){var t,i,s,o,n,l,a,c,u,g,p,d,P,h,b,f,y,v,_,m;return r({_dec:void 0,_dec2:void 0,_dec3:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_temp:void 0}),{setters:[function(r){t=r.applyDecoratedDescriptor,i=r.inheritsLoose,s=r.initializerDefineProperty,o=r.assertThisInitialized,n=r.defineProperty},function(r){l=r.cclegacy,a=r._decorator,c=r.LabelComponent,u=r.Vec3,g=r.Component},function(r){p=r.updateValueLabel}],execute:function(){l._RF.push({},"99c5fx0klFHq52oGPdZL7Z5","loading",void 0),_=a.ccclass,m=a.property,r("loading",(d=_("loading"),P=m(p),h=m(c),d((y=t((f=function(r){function e(){for(var e,t=arguments.length,i=new Array(t),l=0;l<t;l++)i[l]=arguments[l];return e=r.call.apply(r,[this].concat(i))||this,s(o(e),"lbProgress",y,o(e)),s(o(e),"lbTips",v,o(e)),n(o(e),"targetProgress",0),n(o(e),"oriPos",null),e}i(e,r);var t=e.prototype;return t.start=function(){},t.show=function(r){this.targetProgress=r||0,this.lbProgress.playUpdateValue(this.targetProgress,this.targetProgress,0),this.lbProgress.isPlaying=!1,this.lbTips.string="",this.oriPos=this.lbProgress.node.getPosition()},t.updateProgress=function(r,e){this.targetProgress=r;var t=Number(this.lbProgress.string);this.lbProgress.playUpdateValue(t,this.targetProgress,(this.targetProgress-t)/20),e&&(this.lbTips.string=e),this.oriPos&&this.lbProgress.node.setPosition(new u(this.oriPos.x-10,this.oriPos.y,this.oriPos.z))},e}(g)).prototype,"lbProgress",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(f.prototype,"lbTips",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=f))||b)),l._RF.pop()}}}));

System.register("chunks:///ui/fight/fightCanvas.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/clientEvent.js","../../fight/carManager.js","../../logic/gameLogic.js","../common/loading.js"],(function(i,o){var n,t,e,r,s,a,c,u,h,d,g,l,f,p,v,m,_,T,y,b,L,P,w,C,E,M,S;return i({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_temp:void 0}),{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.inheritsLoose,e=i.initializerDefineProperty,r=i.assertThisInitialized,s=i.defineProperty},function(i){a=i.cclegacy,c=i._decorator,u=i.SpriteFrame,h=i.Node,d=i.Component},function(i){g=i.clientEvent},function(i){l=i.carManager},function(i){f=i.gameLogic},function(i){p=i.loading}],execute:function(){a._RF.push({},"daea1EBoy1Ms6PBdAupQWnn","fightCanvas",void 0),M=c.ccclass,S=c.property,i("fightCanvas",(v=M("fightCanvas"),m=S(l),_=S(u),T=S(u),y=S(p),v((P=n((L=function(i){function o(){for(var o,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return o=i.call.apply(i,[this].concat(t))||this,e(r(o),"carManager",P,r(o)),e(r(o),"imgShare",w,r(o)),e(r(o),"imgVideo",C,r(o)),e(r(o),"loadingUI",E,r(o)),s(r(o),"curProgress",50),s(r(o),"isFirstLoad",!0),s(r(o),"isTouching",!1),o}t(o,i);var n=o.prototype;return n.start=function(){f.imgAd=this.imgVideo,f.imgShare=this.imgShare,this.loadingUI.show(this.curProgress),this.node.on(h.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(h.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(h.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},n.onEnable=function(){g.on("updateLoading",this.updateLoadingProgress,this),g.on("showGuide",this.showGuide,this)},n.onDisable=function(){g.off("updateLoading",this.updateLoadingProgress,this),g.off("showGuide",this.showGuide,this)},n.onTouchStart=function(){this.isTouching=!0,this.carManager.controlMainCar(!0)},n.onTouchEnd=function(){this.isTouching=!1,this.carManager.controlMainCar(!1)},n.showGuide=function(i){var o=this;i&&this.isTouching&&this.scheduleOnce((function(){o.onTouchStart()}),0)},n.updateLoadingProgress=function(i,o){this.isFirstLoad?this.curProgress+=Math.floor(i/2):this.curProgress+=i,this.loadingUI.updateProgress(this.curProgress,o)},n.loadNewLevel=function(){this.loadingUI.node.active=!0,this.curProgress=0,this.isFirstLoad=!1},n.finishLoading=function(){this.loadingUI.node.active=!1},o}(d)).prototype,"carManager",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(L.prototype,"imgShare",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(L.prototype,"imgVideo",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(L.prototype,"loadingUI",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=L))||b)),a._RF.pop()}}}));

System.register("chunks:///fight/fightManager.js",["../_virtual/_rollupPluginBabelHelpers.js","cc","./fightConstants.js","../framework/clientEvent.js","../framework/resourceUtil.js","../framework/playerData.js","./carManager.js","./customerManager.js","./effectManager.js","../i18nMaster/runtime-scripts/LanguageData.js","./fightMap.js","../framework/uiManager.js","../ui/fight/fightCanvas.js"],(function(e,t){var i,a,n,r,o,s,c,l,h,u,f,g,d,v,p,M,m,y,C,L,w,b,_,I,O,k,G,j,D,U,P,z,E,F,R,N,S,T;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_temp:void 0}),{setters:[function(e){i=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.defineProperty},function(e){s=e.cclegacy,c=e._decorator,l=e.Node,h=e.ColliderComponent,u=e.Component},function(e){f=e.fightConstants},function(e){g=e.clientEvent},function(e){d=e.resourceUtil},function(e){v=e.playerData},function(e){p=e.carManager},function(e){M=e.customerManager},function(e){m=e.effectManager},function(e){y=e.default},function(e){C=e.fightMap},function(e){L=e.uiManager},function(e){w=e.fightCanvas}],execute:function(){s._RF.push({},"f3d36qkNslPB4TIGcZlp8vd","fightManager",void 0),S=c.ccclass,T=c.property,e("fightManager",(b=S("fightManager"),_=T(w),I=T({type:C}),O=T({type:M}),k=T({type:p}),G=T({type:m}),j=T({type:l,displayName:"地面"}),b((P=i((U=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,n(r(t),"fightLoading",P,r(t)),n(r(t),"mapManager",z,r(t)),n(r(t),"customerManager",E,r(t)),n(r(t),"carManager",F,r(t)),n(r(t),"effectManager",R,r(t)),n(r(t),"nodeGround",N,r(t)),o(r(t),"isStart",!1),o(r(t),"isOver",!1),o(r(t),"isFinishedLevel",!1),o(r(t),"money",0),o(r(t),"curLevel",void 0),o(r(t),"hasRevive",!1),t}a(t,e);var i=t.prototype;return i.start=function(){var e=this;this.initGround(),this.loadMap((function(){e.initCar(),e.loadCar()}))},i.onEnable=function(){g.on("startGame",this.startGame,this),g.on("takeCustomer",this.onTakeCustomer,this),g.on("gameOver",this.gameOver,this),g.on("newLevel",this.newLevel,this),g.on("updateCar",this.updateMainCar,this),g.on("revive",this.revive,this)},i.onDisable=function(){g.off("startGame",this.startGame,this),g.off("takeCustomer",this.onTakeCustomer,this),g.off("gameOver",this.gameOver,this),g.off("newLevel",this.newLevel,this),g.off("updateCar",this.updateMainCar,this),g.off("revive",this.revive,this)},i.initGround=function(){var e=this.nodeGround.getComponent(h);e.setGroup(f.CAR_GROUP.NORMAL),e.setMask(-1)},i.loadMap=function(e){var t=this,i=1;v.instance.playerInfo&&(console.log("###playerData.instance.playerInfo.realLevel;",v.instance.playerInfo.realLevel),i=v.instance.playerInfo.passCheckPoint?v.instance.playerInfo.realLevel:v.instance.playerInfo.level,console.log("###level",i)),this.curLevel=i,console.log("load level "+this.curLevel);var a=this.curLevel>100?this.curLevel:this.curLevel+100;g.dispatchEvent("updateLoading",4,y.t("fightManager.loadingMap")),d.getMap(a,(function(i,a){i?console.error(i):(g.dispatchEvent("updateLoading",10,y.t("fightManager.buildingCity")),t.mapManager.buildMap(a,(function(){}),(function(){g.dispatchEvent("updateLoading",6,y.t("fightManager.cityLoadOver")),e&&e()})))}))},i.initCar=function(){this.carManager.init(this.mapManager,this.customerManager)},i.reset=function(){this.carManager.reset(),this.customerManager.reset(),this.effectManager.reset(),this.isStart=!1,this.isOver=!1,this.isFinishedLevel=!1,this.money=0,this.hasRevive=!1,this.loadCar()},i.loadCar=function(){var e=this;this.carManager.preloadAICar((function(){e.fightLoading.finishLoading(),e.showMainUI()}))},i.startGame=function(){this.isStart||(this.isStart=!0,this.carManager.startGame(),this.showFightUI())},i.gameOver=function(e){this.isOver||(this.isFinishedLevel=e,this.isOver=!0,this.carManager.gameOver(e),this.showBalanceUI())},i.onTakeCustomer=function(){var e=this,t=Math.floor(30+this.curLevel/2+Math.floor(10*Math.random()));this.money+=t,g.dispatchEvent("makeMoney",t),d.getEffect("coin",(function(t,i){t&&console.error(t);var a=cc.instantiate(i);a.parent=e.node,e.carManager.mainCar&&a.setWorldPosition(e.carManager.mainCar.node.getWorldPosition()),e.scheduleOnce((function(){a.destroy()}),2)}))},i.showMainUI=function(){L.instance.showDialog("main/mainUI")},i.showFightUI=function(){L.instance.hideDialog("main/mainUI"),L.instance.showDialog("fight/fightUI",[this])},i.showBalanceUI=function(){var e=this.carManager.getCurrentProgress();L.instance.showDialog("fight/balance",[v.instance.playerInfo.level,e.cur,e.isOver,this.mapManager.levelProgressCnt,this.money,this.isFinishedLevel])},i.newLevel=function(e){var t=this;this.fightLoading.loadNewLevel(),L.instance.hideDialog("fight/fightUI"),this.hasRevive=!1,e?(this.mapManager.recycle(),this.loadMap((function(){t.reset()}))):this.reset()},i.updateMainCar=function(){this.carManager.creatMainCar()},i.revive=function(){this.carManager.revive()},t}(u)).prototype,"fightLoading",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(U.prototype,"mapManager",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(U.prototype,"customerManager",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(U.prototype,"carManager",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(U.prototype,"effectManager",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(U.prototype,"nodeGround",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=U))||D)),s._RF.pop()}}}));

System.register("chunks:///framework/eventListener.js",["../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(t,e){var n,r,o,s,i,c,u,a,p;return t({_dec:void 0,_class:void 0,_temp:void 0,_dec2:void 0,_class3:void 0}),{setters:[function(t){n=t.defineProperty},function(t){r=t.cclegacy,o=t._decorator}],execute:function(){r._RF.push({},"10a09om3sZD8q2H50TLwLIc","eventListener",void 0),a=o.ccclass,o.property,s=a("oneToOneListener"),p=s(i=function(){function t(){n(this,"supportEvent",void 0),this.supportEvent=null}var e=t.prototype;return e.on=function(t,e,n){this[t]={handler:e,target:n}},e.off=function(t,e){var n=this[t];n&&n.handler&&n.handler===e&&(this[t]=null)},e.dispatchEvent=function(t){if(null===this.supportEvent||this.supportEvent.hasOwnProperty(t)){for(var e=this[t],n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);e.handler?e.handler.apply(e.target,n):cc.log("not register "+t+"    callback func")}else cc.error("please add the event into clientEvent.js")},e.setSupportEventList=function(t){if(!(t instanceof Array))return cc.error("supportEvent was not array"),!1;for(var e in this.supportEvent={},t){var n=t[e];this.supportEvent[n]=e}return!0},t}())||i,t("eventListener",(c=a("eventListener"),c(u=function(){function t(){}return t.getBaseClass=function(t){return p},t}())||u)),r._RF.pop()}}}));

System.register("chunks:///i18nMaster/i18n/en.js",["cc"],(function(e,i){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"c2ee7NzXEdG1Z3CXlfjoO8M","en",void 0),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.en={main:{dataLoading:"Data loading...",dataLoadOver:"Data loading completed...",loginSuccess:"Login success...",gameResourceLoading:"Game Resource Loading...",audioResourceLoading:"Audio Resource Loading...",mappingResourceLoading:"Mapping resource loading...",modelResourceLoading:"Model resource loading...",entering:"Entering..."},mainUI:{start:"Click screen to start",changeCar:"Change cars"},shop:{btnClose:"Close",go:"Go",acquired:"Acquired",current:"Current",receive:"Receive",getGold:"Gold coins for watching AD"},balance:{"你完成了%{value}个订单":"Complete %{value} order",youEarnedIt:"You earned it",clickReceive:"Click revive",receiveImmediately:"Receive Now"},carTask:{"初始车辆":"Initial vehicle","分享获得":"Share gain","签到获得":"Signin gain","通过关卡获得":"Get through a checkpoint"},signin:{title:"Sign in on the 7th",notYet:"Not yet",normalReceive:"Normal receive",receive:"Receive",doubleReceive:"Double receive",fillSignin:"Fill signin"},fightManager:{loadingMap:"Loading map...",buildingCity:"Start building cities...",cityLoadOver:"City loaded..."},fightMap:{trimTheGround:"The ground is being trimmed...",pavingTheRoad:"Paving the way...",plantingTree:"The trees are being planted...",decorateHouse:"The house is being renovated...",paintLandmarks:"The landmark is being painted..."},online:{close:"Close",clickReceive:"Click receive",dailyIncome:"Daily income is available"},lottery:{title:"Wheel of fortune",free:"Free"},talk:{"你好,请到街对面接我.":"Hello, please meet me across the street.","停车!停车!":"Stop the car, please! Stop the car, please!","去消费最高的地方.":"Go to the place where you spend the most.","去附近的希尔顿酒店.":"Go to the nearby hilton hotel.","司机快来!我老婆要生了!":"Driver, come on!  My wife is having a baby!","大哥快点,我赶时间.":"Eldest brother hurry up, I'm in a hurry.","师傅,5分钟内能到吗?":"Master, can you be there in 5 minutes?","师傅,你是老司机嘛?":"Master, are you an old driver?","师傅,你跑一天能赚多少?":"Master, how much do you earn per day?","师傅快点,我要赶飞机.":"Master, hurry up, I have to catch the plane.","师傅跟上那辆法拉利.":"Master, keep up with that Ferrari.","带我去最近的银行.":"Take me to the nearest bank.","帮我跟上前面那辆车!":"Help me keep up with the car in front!","快去火车站,我赶车!":"Go to the railway station, I'll catch the bus!","我在酒店大堂门口等你.":"I'll wait for you at the gate of the hotel lobby.","要下雨了,你快来!":"It's going to rain, you come quickly!"},showReward:{title:"Reward",normalReceive:"Normal receive",ReceiveImmediately:" Receive Now",doubleReceive:"Double receive",alreadyHadCar:"You already own the vehicle and automatically convert it into the corresponding gold coin.",buySuccessful:"Buy successful",confrim:"Confrim",signinReward:"Signin reward"},revive:{reviveImmediately:"Resurrection Now",skip:"Skip",tips:"It's a pity that we came close to the finish line.!",continue:"Resurrection continues."},clickBox:{title:"Mysterious gift",progress:"The faster you click, the more rewards you will receive.",clickMe:"click me fast",normalReceive:"Normal receive",doubleReceive:"Double receive"},trial:{title:"Free trial",tryItNow:"Try It Now",giveUp:"Give up the trial and start the game."},invinceible:{title:"Invincible start",confirm:"Confrim",close:"Close"},setting:{title:"Setting",version:"Version:",close:"Close"}},t._RF.pop()}}}));

System.register("chunks:///i18nMaster/i18n/zh.js",["cc"],(function(e,i){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"3c2acsRBE9KO4h4sGTiBlRL","zh",void 0),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.zh={main:{dataLoading:"数据加载中...",dataLoadOver:"数据加载完成...",loginSuccess:"登录成功...",gameResourceLoading:"游戏资源加载中...",audioResourceLoading:"音效资源加载中...",mappingResourceLoading:"贴图资源加载中...",modelResourceLoading:"模型资源加载中...",entering:"正在进入..."},mainUI:{start:"点击屏幕开始",changeCar:"换车"},shop:{btnClose:"关闭",go:"前往",acquired:"已获得",current:"当前",receive:"领取",getGold:"看广告可获取金币"},balance:{"你完成了%{value}个订单":"你完成了%{value}个订单",youEarnedIt:"你赚到了",clickReceive:"点击领取",receiveImmediately:"立即领取"},carTask:{"初始车辆":"初始车辆","分享获得":"分享获得","签到获得":"签到获得","通过关卡获得":"通过关卡获得"},signin:{title:"七日登录",notYet:"暂不领取",normalReceive:"普通领取",receive:"领取",doubleReceive:"双倍领取",fillSignin:"补签"},fightManager:{loadingMap:"正在加载地图...",buildingCity:"开始建造城市...",cityLoadOver:"城市加载完毕..."},fightMap:{trimTheGround:"正在修整地面...",pavingTheRoad:"正在铺路中...",plantingTree:"正在栽树中...",decorateHouse:"正在装修房屋中...",paintLandmarks:"正在粉刷地标中..."},online:{close:"关闭",clickReceive:"点击领取",dailyIncome:"日常收益可领取"},lottery:{title:"幸运大转盘",free:"免费"},talk:{"你好,请到街对面接我.":"你好,请到街对面接我.","停车!停车!":"停车!停车!","去消费最高的地方.":"去消费最高的地方.","去附近的希尔顿酒店.":"去附近的希尔顿酒店.","司机快来!我老婆要生了!":"司机快来!我老婆要生了!","大哥快点,我赶时间.":"大哥快点,我赶时间.","师傅,5分钟内能到吗?":"师傅,5分钟内能到吗?","师傅,你是老司机嘛?":"师傅,你是老司机嘛?","师傅,你跑一天能赚多少?":"师傅,你跑一天能赚多少?","师傅快点,我要赶飞机.":"师傅快点,我要赶飞机.","师傅跟上那辆法拉利.":"师傅跟上那辆法拉利.","带我去最近的银行.":"带我去最近的银行.","帮我跟上前面那辆车!":"帮我跟上前面那辆车!","快去火车站,我赶车!":"快去火车站,我赶车!","我在酒店大堂门口等你.":"我在酒店大堂门口等你.","要下雨了,你快来!":"要下雨了,你快来!"},showReward:{title:"奖励",normalReceive:"普通领取",ReceiveImmediately:" 立即领取",doubleReceive:"双倍领取",alreadyHadCar:"您已拥有该车辆，自动转成对应金币",buySuccessful:"购买成功",confrim:"确认",signinReward:"签到奖励"},revive:{reviveImmediately:"立即复活",skip:"跳过",tips:"真可惜，只差一点就到终点了!",continue:"复活继续"},clickBox:{title:"神秘大礼",progress:"点击越快奖励越多",clickMe:"快点我",normalReceive:"普通领取",doubleReceive:"双倍领取"},trial:{title:"免费试用",tryItNow:"立即试用",giveUp:"放弃试用, 开始游戏"},invinceible:{title:"无敌开局",confirm:"确认",close:"关闭"},setting:{title:"设置",version:"版本号:",close:"关闭"}},n._RF.pop()}}}));

System.register("chunks:///i18nMaster/runtime-scripts/LocalizedLabel.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","./LanguageData.js"],(function(e,t){var a,i,n,o,r,l,c,d,s,u,p,b,h,f,_,L,D,v,y,I,g,m;return e({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_class3:void 0,_temp:void 0}),{setters:[function(e){a=e.defineProperty,i=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.assertThisInitialized,r=e.initializerDefineProperty,l=e.createClass},function(e){c=e.cclegacy,d=e._decorator,s=e.CCString,u=e.LabelComponent,p=e.Component},function(e){b=e.default}],execute:function(){c._RF.push({},"c4c1axXN+NL4oYQEr2M4qn2","LocalizedLabel",void 0),I=d.ccclass,g=d.property,h=I("LocalizedLabel"),f=g(s),m=h((y=v=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,a(o(t),"_debouncedUpdateLabel",null),a(o(t),"label",null),r(o(t),"_dataID",D,o(t)),t}n(t,e);var i=t.prototype;return i.onLoad=function(){CC_EDITOR&&(this._debouncedUpdateLabel=this.debounce(this.updateLabel,200)),b.inst||b.init(),cc.log("dataID: "+this.dataID+" value: "+b.t(this.dataID)),this.fetchRender()},i.fetchRender=function(){var e=this.getComponent(u);if(e)return this.label=e,void this.updateLabel()},i.updateLabel=function(){this.label?b.t(this.dataID,{})&&(this.label.string=b.t(this.dataID,{})):cc.error("Failed to update localized label, label component is invalid!")},i.debounce=function(e,t,a){var i;return function(){var n=this,o=arguments,r=function(){i=null,a||e.apply(n,o)},l=a&&!i;clearTimeout(i),i=setTimeout(r,t),l&&e.apply(n,o)}},l(t,[{key:"dataID",set:function(e){this._dataID!==e&&(this._dataID=e,CC_EDITOR?this._debouncedUpdateLabel&&this._debouncedUpdateLabel():this.updateLabel())},get:function(){return this._dataID}}]),t}(p),a(v,"editor",{executeInEditMode:!0,menu:"i18n/LocalizedLabel"}),D=i((L=y).prototype,"_dataID",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i(L.prototype,"dataID",[g],Object.getOwnPropertyDescriptor(L.prototype,"dataID"),L.prototype),_=L))||_,c._RF.pop(),e("default",m)}}}));

System.register("chunks:///i18nMaster/runtime-scripts/SpriteFrameSet.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,r){var i,t,n,a,o,c,p,s,l,u,d,m,_,f,v,S,g;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_temp:void 0}),{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.defineProperty,n=e.initializerDefineProperty},function(e){a=e.cclegacy,o=e._decorator,c=e.CCString,p=e.SpriteFrame}],execute:function(){a._RF.push({},"93cd23dxExEBLbD/xbMp1PN","SpriteFrameSet",void 0),v=o.ccclass,S=o.property,s=v("SpriteFrameSet"),l=S(c),u=S({type:p}),g=s((_=i((m=function(){t(this,"name","SpriteFrameSet"),n(this,"language",_,this),n(this,"spriteFrame",f,this)}).prototype,"language",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=i(m.prototype,"spriteFrame",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d,a._RF.pop(),e("default",g)}}}));

System.register("chunks:///i18nMaster/runtime-scripts/LocalizedSprite.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","./SpriteFrameSet.js"],(function(e,t){var i,r,n,s,o,a,p,c,d,l,u,f,h,m,S,v,F,g,y,_;return e({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_class3:void 0,_temp:void 0}),{setters:[function(e){i=e.defineProperty,r=e.applyDecoratedDescriptor,n=e.inheritsLoose,s=e.assertThisInitialized,o=e.initializerDefineProperty},function(e){a=e.cclegacy,p=e._decorator,c=e.SpriteComponent,d=e.Component},function(e){l=e.default}],execute:function(){a._RF.push({},"28bd9xEMv1GKLbTuAi4B4dI","LocalizedSprite",void 0),g=p.ccclass,y=p.property,u=g("LocalizedSprite"),f=y({type:[l],displayOrder:1}),_=u((F=v=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,i(s(t),"sprite",null),o(s(t),"spriteFrameSet",S,s(t)),t}n(t,e);var r=t.prototype;return r.onLoad=function(){this.fetchRender()},r.fetchRender=function(){var e=this.getComponent(c);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},r.getSpriteFrameByLang=function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},r.updateSprite=function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}else cc.error("Failed to update localized sprite, sprite component is invalid!")},t}(d),i(v,"editor",{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"}),S=r((m=F).prototype,"spriteFrameSet",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=m))||h,a._RF.pop(),e("default",_)}}}));

System.register("chunks:///main.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./framework/configuration.js","./framework/audioManager.js","./framework/constant.js","./framework/localConfig.js","./framework/playerData.js","./i18nMaster/runtime-scripts/LanguageData.js","./ui/common/loading.js"],(function(e,i){var o,n,r,a,s,t,c,u,d,g,l,f,h,p,m,P,S,b,L,I,w,v,y,k,U;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_temp:void 0}),{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,s=e.defineProperty},function(e){t=e.cclegacy,c=e._decorator,u=e.LabelComponent,d=e.Component},function(e){g=e.configuration},function(e){l=e.audioManager},function(e){f=e.constant},function(e){h=e.localConfig},function(e){p=e.playerData},function(e){m=e.default},function(e){P=e.loading}],execute:function(){t._RF.push({},"c5aa7IsWr5A4blPeFPanXM/","main",void 0),k=c.ccclass,U=c.property,cc.gameSpace={},cc.gameSpace.TIME_SCALE=1,cc.gameSpace.isStop=!1,cc.gameSpace.isConfigLoadFinished=!1,m.init("zh"),e("main",(S=k("main"),b=U(u),L=U(P),S((v=o((w=function(e){function i(){for(var i,o=arguments.length,n=new Array(o),t=0;t<o;t++)n[t]=arguments[t];return i=e.call.apply(e,[this].concat(n))||this,r(a(i),"lbVersion",v,a(i)),r(a(i),"loadingUI",y,a(i)),s(a(i),"retryTimes",0),s(a(i),"uid",""),s(a(i),"curProgress",0),s(a(i),"isLoginFinished",!1),s(a(i),"isSubPackageFinished",!1),s(a(i),"isConfigLoaded",!1),i}n(i,e);var o=i.prototype;return o.start=function(){var e=this;cc.profiler.hideStats(),this.loadingUI.show(),p.instance.syncServerTime(Date.now()),this.curProgress=5,this.loadingUI.updateProgress(this.curProgress,m.t("main.dataLoading")),h.instance.loadConfig((function(){cc.gameSpace.isConfigLoadFinished=!0,e.lbVersion.string="Version. "+h.instance.getVersion(),e.isConfigLoaded=!0,e.loadMainScene()})),this.curProgress+=5,this.loadingUI&&this.loadingUI.updateProgress(this.curProgress,m.t("main.dataLoadOver")),this.curProgress+=5,this.curProgress+=15,this.loadingUI.updateProgress(this.curProgress,m.t("main.gameResourceLoading")),p.instance.loadGlobalCache(),p.instance.userId?this.uid=p.instance.userId:this.uid=g.generateGuestAccount(),this.startLogin(),this.downloadGameRes((function(){console.log("subpackage download finished!"),e.isSubPackageFinished=!0,e.loadMainScene()}))},o.startLogin=function(){g.instance.setUserId(this.uid),p.instance.syncServerTime(Date.now()),this.userLogin()},o.userLogin=function(){p.instance.loadFromCache(),void 0===p.instance.playerInfo.createDate&&p.instance.createPlayerInfo(),console.log("login finished!"),this.isLoginFinished=!0,this.loadMainScene()},o.downloadGameRes=function(e){this.curProgress+=15,this.loadingUI.updateProgress(this.curProgress),e&&e()},o.showSubPackageError=function(){},o.loadGameSubPackage=function(e){var i=this;this.loadingUI.updateProgress(this.curProgress,m.t("main.audioResourceLoading")),cc.loader.downloader.loadSubpackage("resources",(function(o){if(i.curProgress+=5,i.loadingUI.updateProgress(i.curProgress,m.t("main.audioResourceLoading")),o)return i.showSubPackageError(),console.error(o);cc.loader.downloader.loadSubpackage("textures",(function(o){if(i.curProgress+=5,i.loadingUI.updateProgress(i.curProgress,m.t("main.mappingResourceLoading")),o)return i.showSubPackageError(),console.error(o);cc.loader.downloader.loadSubpackage("model",(function(o){if(i.curProgress+=5,i.loadingUI.updateProgress(i.curProgress,m.t("main.modelResourceLoading")),o)return i.showSubPackageError(),console.error(o);e()}))}))}))},o.loadMainScene=function(){var e=this;this.isConfigLoaded&&this.isLoginFinished&&this.isSubPackageFinished&&(l.instance.playMusic(f.AUDIO_SOUND.BACKGROUND,!0),cc.director.preloadScene("main",(function(i){e.curProgress+=5,e.loadingUI.updateProgress(e.curProgress,m.t("main.entering")),i||cc.director.loadScene("main",(function(){}))})))},i}(d)).prototype,"lbVersion",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=o(w.prototype,"loadingUI",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=w))||I)),t._RF.pop()}}}));

System.register("chunks:///ui/common/blockInputEvent.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc"],(function(t,o){var n,e,i,s,p,c,h;return t({_dec:void 0,_class:void 0}),{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,s=t.Component}],execute:function(){e._RF.push({},"968ba6c9F9AupY/AbKjAj++","blockInputEvent",void 0),h=i.ccclass,i.property,t("blockInputEvent",(p=h("blockInputEvent"),p(c=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var e=o.prototype;return e.start=function(){},e.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.stopPropagation,this),this.node.on(cc.Node.EventType.TOUCH_END,this.stopPropagation,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.stopPropagation,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.stopPropagation,this),this.node.on(cc.Node.EventType.MOUSE_DOWN,this.stopPropagation,this),this.node.on(cc.Node.EventType.MOUSE_ENTER,this.stopPropagation,this),this.node.on(cc.Node.EventType.MOUSE_MOVE,this.stopPropagation,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.stopPropagation,this),this.node.on(cc.Node.EventType.MOUSE_UP,this.stopPropagation,this),this.node.on(cc.Node.EventType.MOUSE_WHEEL,this.stopPropagation,this)},e.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.stopPropagation,this),this.node.off(cc.Node.EventType.TOUCH_END,this.stopPropagation,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.stopPropagation,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.stopPropagation,this),this.node.off(cc.Node.EventType.MOUSE_DOWN,this.stopPropagation,this),this.node.off(cc.Node.EventType.MOUSE_ENTER,this.stopPropagation,this),this.node.off(cc.Node.EventType.MOUSE_MOVE,this.stopPropagation,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this.stopPropagation,this),this.node.off(cc.Node.EventType.MOUSE_UP,this.stopPropagation,this),this.node.off(cc.Node.EventType.MOUSE_WHEEL,this.stopPropagation,this)},e.stopPropagation=function(t){t.propagationImmediateStopped=!0,t.propagationStopped=!0},o}(s))||c)),e._RF.pop()}}}));

System.register("chunks:///ui/common/btnAdapter.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/audioManager.js"],(function(e,i){var t,n,o,r,c,a,l,d,u,p,s,v,f,b,m,_,y,k,h,S,g,P,w,C,z,A,R;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_temp:void 0}),{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){c=e.cclegacy,a=e._decorator,l=e.ButtonComponent,d=e.Component},function(e){u=e.audioManager}],execute:function(){c._RF.push({},"f130br9GwZGkJEkRGonhXxR","btnAdapter",void 0),w=a.ccclass,C=a.property,z=a.menu,A=a.requireComponent,R=a.disallowMultiple,e("btnAdapter",(p=w("btnAdapter"),s=z("自定义组件/btnAdapter"),v=A(l),f=C({tooltip:"点击后是否播放点击音效"}),b=C({tooltip:"点击音效名"}),m=C({tooltip:"是否禁止快速二次点击"}),_=C({tooltip:"点击后多久才能再次点击,仅isPreventSecondClick为true生效"}),p(y=s(y=v(y=R((h=t((k=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return i=e.call.apply(e,[this].concat(n))||this,o(r(i),"isPlaySound",h,r(i)),o(r(i),"clickSoundName",S,r(i)),o(r(i),"isPreventSecondClick",g,r(i)),o(r(i),"preventTime",P,r(i)),i}return n(i,e),i.prototype.start=function(){var e=this,i=this.node.getComponent(l);this.node.on("click",(function(){e.isPreventSecondClick&&(i.interactable=!1,e.scheduleOnce((function(){i.node&&(i.interactable=!0)}),e.preventTime)),e.isPlaySound&&u.instance.playSound(e.clickSoundName,!1)}))},i}(d)).prototype,"isPlaySound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),S=t(k.prototype,"clickSoundName",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"click"}}),g=t(k.prototype,"isPreventSecondClick",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=t(k.prototype,"preventTime",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),y=k))||y)||y)||y)||y)),c._RF.pop()}}}));

System.register("chunks:///ui/common/showReward.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/clientEvent.js","../../framework/resourceUtil.js","../../framework/constant.js","../../framework/poolManager.js","../../framework/localConfig.js","../../framework/playerData.js","../../i18nMaster/runtime-scripts/LanguageData.js","../../framework/uiManager.js","../../logic/gameLogic.js"],(function(e,i){var t,r,n,a,o,l,c,d,s,u,p,f,h,m,b,w,v,g,R,_,y,D,I,C,T,k,E,P,A,B,z,N,j,L,S,G,W,Y,M,F,O,U,V,H,q,x,K,X,J,Q;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_dec8:void 0,_dec9:void 0,_dec10:void 0,_dec11:void 0,_dec12:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_descriptor8:void 0,_descriptor9:void 0,_descriptor10:void 0,_descriptor11:void 0,_temp:void 0}),{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.defineProperty},function(e){l=e.cclegacy,c=e._decorator,d=e.SpriteFrame,s=e.SpriteComponent,u=e.LabelComponent,p=e.Node,f=e.AnimationComponent,h=e.Vec3,m=e.Component},function(e){b=e.clientEvent},function(e){w=e.resourceUtil},function(e){v=e.constant},function(e){g=e.poolManager},function(e){R=e.localConfig},function(e){_=e.playerData},function(e){y=e.default},function(e){D=e.uiManager},function(e){I=e.gameLogic}],execute:function(){l._RF.push({},"880e1kClIdKPqdXdgTIpdv2","showReward",void 0),J=c.ccclass,Q=c.property,e("showReward",(C=J("showReward"),T=Q(d),k=Q(s),E=Q(u),P=Q(u),A=Q(u),B=Q(u),z=Q(p),N=Q(p),j=Q(p),L=Q(p),S=Q(f),C((Y=t((W=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return i=e.call.apply(e,[this].concat(r))||this,n(a(i),"sfGold",Y,a(i)),n(a(i),"spIcon",M,a(i)),n(a(i),"lbRewardValue",F,a(i)),n(a(i),"lbTips",O,a(i)),n(a(i),"lbTitle",U,a(i)),n(a(i),"lbImmediateBtn",V,a(i)),n(a(i),"ndCarParent",H,a(i)),n(a(i),"ndBtnDouble",q,a(i)),n(a(i),"ndBtnNormal",x,a(i)),n(a(i),"ndBtnImmediately",K,a(i)),n(a(i),"aniReward",X,a(i)),o(a(i),"isDouble",void 0),o(a(i),"callback",void 0),o(a(i),"isLast",void 0),o(a(i),"rewardType",void 0),o(a(i),"amount",void 0),o(a(i),"itemInfo",void 0),o(a(i),"_isHadCar",void 0),o(a(i),"currentCar",null),o(a(i),"carDegree",0),o(a(i),"rotateSpeed",30),i}r(i,e);var t=i.prototype;return t.start=function(){},t.show=function(e,i,t,r,n,a){var o=this;this.itemInfo=e,this.rewardType=e.rewardType,this.amount=e.amount,this.ndBtnDouble.active=i,this.ndBtnNormal.active=i,this.ndBtnImmediately.active=!i,this.lbTitle.string=t,this.lbRewardValue.string=e.rewardType===v.REWARD_TYPE.CAR?"":String(this.amount),this.callback=r,n?(this.lbTips.node.active=!0,this.lbTips.string=n):this.lbTips.node.active=!1,this.showRewardPage(),this.aniReward.play("rewardShow"),this.aniReward.once("finished",(function(){o.aniReward.play("rewardIdle")}),this),this.lbImmediateBtn.string=a||y.t("balance.receiveImmediately")},t.showRewardPage=function(){var e=this;switch(this.currentCar&&(g.instance.putNode(this.currentCar),this.currentCar=null),this.rewardType){case v.REWARD_TYPE.DIAMOND:break;case v.REWARD_TYPE.GOLD:this.spIcon.spriteFrame=this.sfGold,this.spIcon.node.active=!0;break;case v.REWARD_TYPE.CAR:this.spIcon.node.active=!1;var i=R.instance.queryByID("car",this.itemInfo.ID).model;w.getUICar(i,(function(i,t){i?console.error(i):(e.currentCar=g.instance.getNode(t,e.ndCarParent),e.carDegree=0)}))}},t.onBtnNormalClick=function(){this.addReward()},t.onBtnDoubleClick=function(){var e=this;I.openReward(v.SHARE_FUNCTION.SIGNIN,(function(i){i||(e.amount*=2,e.addReward())}))},t.onBtnImmediatelyClick=function(){this.addReward()},t.addReward=function(){switch(this.rewardType){case v.REWARD_TYPE.DIAMOND:break;case v.REWARD_TYPE.GOLD:_.instance.updatePlayerInfo("gold",this.amount),I.showFlyReward(v.REWARD_TYPE.GOLD,(function(){b.dispatchEvent("updateGold")}));break;case v.REWARD_TYPE.CAR:I.buyCar(this.itemInfo.ID)}D.instance.hideDialog("common/showReward"),this.callback&&this.callback()},t.update=function(e){this.currentCar&&(this.carDegree-=e*this.rotateSpeed,this.carDegree<=-360&&(this.carDegree+=360),this.currentCar.eulerAngles=new h(0,this.carDegree,0))},i}(m)).prototype,"sfGold",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(W.prototype,"spIcon",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(W.prototype,"lbRewardValue",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(W.prototype,"lbTips",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(W.prototype,"lbTitle",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(W.prototype,"lbImmediateBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(W.prototype,"ndCarParent",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(W.prototype,"ndBtnDouble",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(W.prototype,"ndBtnNormal",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(W.prototype,"ndBtnImmediately",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(W.prototype,"aniReward",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=W))||G)),l._RF.pop()}}}));

System.register("chunks:///ui/fight/balance.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/clientEvent.js","../../framework/audioManager.js","../../framework/constant.js","../../framework/util.js","../../framework/playerData.js","../../i18nMaster/runtime-scripts/LanguageData.js","../../framework/uiManager.js","../../logic/gameLogic.js"],(function(e,i){var r,t,n,o,a,l,s,c,u,d,p,v,g,f,b,m,h,_,y,w,L,F,C,M,z,A,N,E,P,D,T,k,I,S,j,B,G,R,U,O,H,W,Y,x,q,V,X,Z,J,K,Q,$,ee,ie,re,te,ne,oe;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_dec8:void 0,_dec9:void 0,_dec10:void 0,_dec11:void 0,_dec12:void 0,_dec13:void 0,_dec14:void 0,_dec15:void 0,_dec16:void 0,_dec17:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_descriptor8:void 0,_descriptor9:void 0,_descriptor10:void 0,_descriptor11:void 0,_descriptor12:void 0,_descriptor13:void 0,_descriptor14:void 0,_descriptor15:void 0,_descriptor16:void 0,_temp:void 0}),{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.defineProperty},function(e){l=e.cclegacy,s=e._decorator,c=e.SpriteComponent,u=e.LabelComponent,d=e.WidgetComponent,p=e.Node,v=e.SpriteFrame,g=e.Component},function(e){f=e.clientEvent},function(e){b=e.audioManager},function(e){m=e.constant},function(e){h=e.util},function(e){_=e.playerData},function(e){y=e.default},function(e){w=e.uiManager},function(e){L=e.gameLogic}],execute:function(){l._RF.push({},"b6b06mpFMlIZqLpxXisU3Cu","balance",void 0),ne=s.ccclass,oe=s.property,e("balance",(F=ne("balance"),C=oe(c),M=oe(c),z=oe({type:u}),A=oe({type:u}),N=oe(d),E=oe({type:p,displayName:"进度项"}),P=oe(v),D=oe(v),T=oe(v),k=oe(v),I=oe(v),S=oe(u),j=oe(u),B=oe(u),G=oe(c),R=oe(p),F((H=r((O=function(e){function i(){for(var i,r=arguments.length,t=new Array(r),l=0;l<r;l++)t[l]=arguments[l];return i=e.call.apply(e,[this].concat(t))||this,n(o(i),"spStart",H,o(i)),n(o(i),"spEnd",W,o(i)),n(o(i),"lbCurLevel",Y,o(i)),n(o(i),"lbTargetLevel",x,o(i)),n(o(i),"wgMenu",q,o(i)),n(o(i),"progress",V,o(i)),n(o(i),"imgLevelFinished",X,o(i)),n(o(i),"imgLevelUnfinished",Z,o(i)),n(o(i),"imgProgressNoActive",J,o(i)),n(o(i),"imgProgressActive",K,o(i)),n(o(i),"imgProgressFinished",Q,o(i)),n(o(i),"lbTakeCount",$,o(i)),n(o(i),"lbGetNormal",ee,o(i)),n(o(i),"lbGetMulti",ie,o(i)),n(o(i),"spIcon",re,o(i)),n(o(i),"nodeDouble",te,o(i)),a(o(i),"rewardMoney",0),a(o(i),"isFinishLevel",!1),a(o(i),"showBalanceTimes",0),i}t(i,e);var r=i.prototype;return r.start=function(){},r.show=function(e,i,r,t,n,o){this.showBalanceTimes++;for(var a=r?i:i-1,l=0;l<t;l++)this.progress[l].active=!0,this.progress[l].getComponent(c).spriteFrame=l<a?this.imgProgressFinished:this.imgProgressNoActive;r||(this.progress[a].getComponent(c).spriteFrame=this.imgProgressActive);for(var s=t;s<this.progress.length;s++)this.progress[s].active=!1;this.lbCurLevel.string=e.toString(),this.lbTargetLevel.string=""+(e+1),this.isFinishLevel=o,this.spStart.spriteFrame=this.imgLevelFinished,this.spEnd.spriteFrame=o?this.imgLevelFinished:this.imgLevelUnfinished;var u=a>=0?a:0;this.lbTakeCount.string=y.t("balance.你完成了%{value}个订单",{value:u}),this.rewardMoney=n,this.lbGetNormal.string=h.formatMoney(n),this.lbGetMulti.string=h.formatMoney(3*n),o&&b.instance.playSound(m.AUDIO_SOUND.WIN),L.updateRewardIcon(m.SHARE_FUNCTION.BALANCE,this.spIcon,(function(e,i){}));var d=Math.floor(100*Math.random());this.nodeDouble.active=d<30},r.onBtnGetNormalClick=function(){this.rewardOver(this.rewardMoney)},r.onBtnGetMultiClick=function(){var e=this;L.openReward(m.SHARE_FUNCTION.BALANCE,(function(i){i||e.rewardOver(3*e.rewardMoney)}))},r.rewardOver=function(e){this.isFinishLevel?(L.finishBuyTask(m.BUY_CAR_TYPE.PASS_LEVEL,_.instance.playerInfo.level,!1),_.instance.passLevel(e)):_.instance.updatePlayerInfo("gold",e),e>0&&L.showFlyReward(m.REWARD_TYPE.GOLD,(function(){f.dispatchEvent("updateGold")})),w.instance.hideDialog("fight/balance"),_.instance.playerInfo.level,_.instance.isComeFromBalance=!1,f.dispatchEvent("newLevel",this.isFinishLevel)},i}(g)).prototype,"spStart",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=r(O.prototype,"spEnd",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=r(O.prototype,"lbCurLevel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=r(O.prototype,"lbTargetLevel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=r(O.prototype,"wgMenu",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=r(O.prototype,"progress",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=r(O.prototype,"imgLevelFinished",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=r(O.prototype,"imgLevelUnfinished",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=r(O.prototype,"imgProgressNoActive",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=r(O.prototype,"imgProgressActive",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=r(O.prototype,"imgProgressFinished",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=r(O.prototype,"lbTakeCount",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=r(O.prototype,"lbGetNormal",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=r(O.prototype,"lbGetMulti",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=r(O.prototype,"spIcon",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=r(O.prototype,"nodeDouble",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=O))||U)),l._RF.pop()}}}));

System.register("chunks:///ui/fight/clickBox.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../fight/fightConstants.js","../../framework/constant.js","../../framework/uiManager.js","../../logic/gameLogic.js"],(function(e,i){var o,r,t,n,s,c,l,a,u,d,h,p,f,g,v,_,C,B,b,m,w,R,k,y,x,P,I,O,T,L,z,D,M,j,A;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_dec8:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_temp:void 0}),{setters:[function(e){o=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized,s=e.defineProperty},function(e){c=e.cclegacy,l=e._decorator,a=e.ProgressBarComponent,u=e.Node,d=e.LabelComponent,h=e.SpriteComponent,p=e.Component},function(e){f=e.fightConstants},function(e){g=e.constant},function(e){v=e.uiManager},function(e){_=e.gameLogic}],execute:function(){c._RF.push({},"884dcSQc2hHsJby3+7ljIyd","clickBox",void 0),j=l.ccclass,A=l.property,e("clickBox",(C=j("clickBox"),B=A(a),b=A(u),m=A(d),w=A(u),R=A(u),k=A(u),y=A(h),C((I=o((P=function(e){function i(){for(var i,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return i=e.call.apply(e,[this].concat(r))||this,t(n(i),"progress",I,n(i)),t(n(i),"nodeReward",O,n(i)),t(n(i),"lbReward",T,n(i)),t(n(i),"nodeBox",L,n(i)),t(n(i),"nodeMenu",z,n(i)),t(n(i),"nodeClickBtn",D,n(i)),t(n(i),"spIcon",M,n(i)),s(n(i),"scheduleTime",0),s(n(i),"curProgress",50),s(n(i),"clickTimes",15),s(n(i),"curClick",0),s(n(i),"isOpenBox",!1),s(n(i),"rewardValue",void 0),i}r(i,e);var o=i.prototype;return o.start=function(){},o.show=function(){this.scheduleTime=0,this.curProgress=50,this.clickTimes=10+Math.floor(5*Math.random()),this.curClick=0,this.isOpenBox=!1,this.nodeClickBtn.active=!0,this.progress.node.active=!0,this.nodeBox.active=!0,this.nodeReward.active=!1,this.nodeMenu.active=!1,_.updateRewardIcon(g.SHARE_FUNCTION.CLICK_BOX,this.spIcon)},o.onBtnBoxClick=function(){this.isOpenBox||(this.curClick++,this.curClick>this.clickTimes?(this.isOpenBox=!0,this.showReward()):(this.curProgress+=20,this.curProgress=this.curProgress>100?100:this.curProgress))},o.showReward=function(){this.nodeClickBtn.active=!1,this.progress.node.active=!1,this.nodeBox.active=!1,this.nodeReward.active=!0,this.nodeMenu.active=!0,this.lbReward.string="+"+f.CLICK_BOX_REWARD,this.rewardValue=f.CLICK_BOX_REWARD},o.update=function(e){this.scheduleTime+=e,this.scheduleTime>=.1&&(this.curProgress-=3,this.curProgress=this.curProgress<0?0:this.curProgress,this.scheduleTime=0),this.progress.progress=this.curProgress/100},o.onBtnNormalClick=function(){_.addGold(f.CLICK_BOX_REWARD),this.close()},o.onBtnDoubleClick=function(){var e=this;_.openReward(g.SHARE_FUNCTION.CLICK_BOX,(function(i){i||(_.addGold(2*f.CLICK_BOX_REWARD),e.close())}))},o.close=function(){v.instance.hideDialog("fight/clickBox")},i}(p)).prototype,"progress",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=o(P.prototype,"nodeReward",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=o(P.prototype,"lbReward",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=o(P.prototype,"nodeBox",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=o(P.prototype,"nodeMenu",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=o(P.prototype,"nodeClickBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=o(P.prototype,"spIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=P))||x)),c._RF.pop()}}}));

System.register("chunks:///ui/fight/fightUI.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/clientEvent.js","../../framework/resourceUtil.js","../../framework/localConfig.js","../../framework/playerData.js","../../i18nMaster/runtime-scripts/LanguageData.js"],(function(e,i){var t,r,n,o,s,a,l,u,c,d,h,p,g,f,m,v,b,w,y,_,M,k,C,T,G,z,F,L,P,S,E,I,U,A,D,N,j,O,H,R,B,V,x,Z,q,J,K,Q,W,X,Y,$,ee,ie,te,re,ne,oe,se,ae,le,ue,ce,de,he;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_dec8:void 0,_dec9:void 0,_dec10:void 0,_dec11:void 0,_dec12:void 0,_dec13:void 0,_dec14:void 0,_dec15:void 0,_dec16:void 0,_dec17:void 0,_dec18:void 0,_dec19:void 0,_dec20:void 0,_dec21:void 0,_dec22:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_descriptor8:void 0,_descriptor9:void 0,_descriptor10:void 0,_descriptor11:void 0,_descriptor12:void 0,_descriptor13:void 0,_descriptor14:void 0,_descriptor15:void 0,_descriptor16:void 0,_descriptor17:void 0,_descriptor18:void 0,_descriptor19:void 0,_descriptor20:void 0,_descriptor21:void 0,_temp:void 0}),{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.defineProperty},function(e){a=e.cclegacy,l=e._decorator,u=e.SpriteComponent,c=e.LabelComponent,d=e.Node,h=e.SpriteFrame,p=e.AnimationComponent,g=e.Component},function(e){f=e.clientEvent},function(e){m=e.resourceUtil},function(e){v=e.localConfig},function(e){b=e.playerData},function(e){w=e.default}],execute:function(){a._RF.push({},"fb9b7V8bZND35IgNyATVMNv","fightUI",void 0),de=l.ccclass,he=l.property,e("fightUI",(y=de("fightUI"),_=he(u),M=he(u),k=he({type:c}),C=he({type:c}),T=he({type:d,displayName:"进度项"}),G=he(d),z=he(c),F=he(c),L=he(u),P=he(h),S=he(h),E=he(h),I=he(h),U=he(h),A=he(p),D=he(d),N=he(u),j=he(h),O=he(h),H=he(h),R=he(h),y((x=t((V=function(e){function i(){var i;return i=e.call(this)||this,n(o(i),"spStart",x,o(i)),n(o(i),"spEnd",Z,o(i)),n(o(i),"curLevel",q,o(i)),n(o(i),"targetLevel",J,o(i)),n(o(i),"progress",K,o(i)),n(o(i),"nodeTalk",Q,o(i)),n(o(i),"lbTalk",W,o(i)),n(o(i),"lbMake",X,o(i)),n(o(i),"spHead",Y,o(i)),n(o(i),"imgLevelFinished",$,o(i)),n(o(i),"imgLevelUnfinished",ee,o(i)),n(o(i),"imgProgressNoActive",ie,o(i)),n(o(i),"imgProgressActive",te,o(i)),n(o(i),"imgProgressFinished",re,o(i)),n(o(i),"aniMakeMoney",ne,o(i)),n(o(i),"nodeGuide",oe,o(i)),s(o(i),"fightManager",null),s(o(i),"carManager",null),n(o(i),"spShowGuideTip",se,o(i)),n(o(i),"img01",ae,o(i)),n(o(i),"img02",le,o(i)),n(o(i),"img01En",ue,o(i)),n(o(i),"img02En",ce,o(i)),s(o(i),"isShowGuide",!1),s(o(i),"showGuideTime",0),i}r(i,e);var t=i.prototype;return t.start=function(){},t.onEnable=function(){f.on("greetingCustomer",this.updateCarProgress,this),f.on("takeCustomer",this.updateCarProgress,this),f.on("gameOver",this.updateCarProgress,this),f.on("showTalk",this.showCustomerTalk,this),f.on("makeMoney",this.onMakeMoney,this),f.on("showGuide",this.showGuide,this)},t.onDisable=function(){f.off("greetingCustomer",this.updateCarProgress,this),f.off("takeCustomer",this.updateCarProgress,this),f.off("gameOver",this.updateCarProgress,this),f.off("showTalk",this.showCustomerTalk,this),f.off("makeMoney",this.onMakeMoney,this),f.off("showGuide",this.showGuide,this)},t.onTouchStart=function(){this.nodeGuide.getComponent(p).stop(),this.nodeGuide.active=!1},t.show=function(e){this.fightManager=e,this.carManager=this.fightManager.carManager,this.refreshUI(),this.carManager.mainCar.isMoving||this.showGuide(!0)},t.showGuide=function(e){this.nodeGuide.active=e;var i=this.nodeGuide.getComponent(p);e?i.play():i.stop(),e?(this.isShowGuide=!0,this.showGuideTime=0,i.getState("showGuide").setTime(0)):(this.isShowGuide=!1,this.showGuideTime=0)},t.onBtnAgainClick=function(){f.dispatchEvent("newLevel",!1)},t.onBtnChangeCameraRotation=function(){this.carManager.changeCameraFollowRotation()},t.refreshUI=function(){for(var e=this.fightManager.mapManager.levelProgressCnt,i=0;i<e;i++)this.progress[i].active=!0,this.progress[i].getComponent(u).spriteFrame=this.imgProgressNoActive;for(var t=e;t<this.progress.length;t++)this.progress[t].active=!1;var r=b.instance.playerInfo?b.instance.playerInfo.level:1;this.curLevel.string=r,this.targetLevel.string=r+1,this.spStart.spriteFrame=this.imgLevelFinished,this.spEnd.spriteFrame=this.imgLevelUnfinished},t.updateCarProgress=function(){for(var e=this.carManager.getCurrentProgress(),i=e.cur,t=e.isOver?i:i-1,r=0;r<t;r++)this.progress[r].getComponent(u).spriteFrame=this.imgProgressFinished;e.isOver||(this.progress[t].getComponent(u).spriteFrame=this.imgProgressActive),this.fightManager.isFinishedLevel&&(this.spEnd.spriteFrame=this.imgLevelFinished)},t.showCustomerTalk=function(e,i){var t=this,r=v.instance.getTableArr("talk"),n=[];r.forEach((function(e){e.type===i&&n.push(e)}));var o=Math.floor(Math.random()*n.length),s=n[o];this.lbTalk.string=w.t("talk."+s.content),m.setCustomerIcon(e,this.spHead,(function(){})),this.nodeTalk.active=!0,this.nodeTalk.getComponent(p).play(),this.scheduleOnce((function(){t.nodeTalk.active=!1}),4)},t.onMakeMoney=function(e){var i=this;this.aniMakeMoney.node.active=!0,this.lbMake.string="+"+e,this.aniMakeMoney.play(),this.aniMakeMoney.once("finished",(function(){i.aniMakeMoney.node.active=!1}),this)},t.update=function(e){this.isShowGuide&&(0===Math.floor(this.showGuideTime)&&("zh"===window.i18n.curLang?this.spShowGuideTip.spriteFrame=this.img01:"en"===window.i18n.curLang&&(this.spShowGuideTip.spriteFrame=this.img01En)),this.showGuideTime+=e,1===Math.floor(this.showGuideTime)?"zh"===window.i18n.curLang?this.spShowGuideTip.spriteFrame=this.img02:"en"===window.i18n.curLang&&(this.spShowGuideTip.spriteFrame=this.img02En):2===Math.floor(this.showGuideTime)&&("zh"===window.i18n.curLang?this.spShowGuideTip.spriteFrame=this.img01:"en"===window.i18n.curLang&&(this.spShowGuideTip.spriteFrame=this.img01En),this.showGuideTime=0))},i}(g)).prototype,"spStart",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(V.prototype,"spEnd",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(V.prototype,"curLevel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(V.prototype,"targetLevel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(V.prototype,"progress",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=t(V.prototype,"nodeTalk",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(V.prototype,"lbTalk",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(V.prototype,"lbMake",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(V.prototype,"spHead",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(V.prototype,"imgLevelFinished",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(V.prototype,"imgLevelUnfinished",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(V.prototype,"imgProgressNoActive",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(V.prototype,"imgProgressActive",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(V.prototype,"imgProgressFinished",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(V.prototype,"aniMakeMoney",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(V.prototype,"nodeGuide",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(V.prototype,"spShowGuideTip",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(V.prototype,"img01",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(V.prototype,"img02",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(V.prototype,"img01En",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(V.prototype,"img02En",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=V))||B)),a._RF.pop()}}}));

System.register("chunks:///ui/fight/revive.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/clientEvent.js","../../framework/constant.js","../../framework/uiManager.js","../../logic/gameLogic.js"],(function(i,n){var e,t,o,r,c,s,u,a,l,p,v,d,f,g,h,w,C,m,_,D,b,y,I,R,E;return i({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_temp:void 0}),{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,o=i.initializerDefineProperty,r=i.assertThisInitialized,c=i.defineProperty},function(i){s=i.cclegacy,u=i._decorator,a=i.SpriteComponent,l=i.WidgetComponent,p=i.Component},function(i){v=i.clientEvent},function(i){d=i.constant},function(i){f=i.uiManager},function(i){g=i.gameLogic}],execute:function(){s._RF.push({},"95f63L653dBgLBdIgYWzpHv","revive",void 0),R=u.ccclass,E=u.property,i("revive",(h=R("revive"),w=E(a),C=E(a),m=E(l),h((b=e((D=function(i){function n(){for(var n,e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n=i.call.apply(i,[this].concat(t))||this,o(r(n),"spCountDown",b,r(n)),o(r(n),"spIcon",y,r(n)),o(r(n),"wgMenu",I,r(n)),c(r(n),"closeCb",null),c(r(n),"countDownTime",void 0),c(r(n),"currentTime",void 0),c(r(n),"isCountDowning",void 0),n}t(n,i);var e=n.prototype;return e.start=function(){},e.show=function(i){this.closeCb=i,this.countDownTime=5,this.currentTime=0,this.spCountDown.fillRange=1,this.isCountDowning=!0,g.updateRewardIcon(d.SHARE_FUNCTION.RELIVE,this.spIcon,(function(i,n){}))},e.onBtnReviveClick=function(){var i=this;this.isCountDowning=!1,g.openReward(d.SHARE_FUNCTION.RELIVE,(function(n){n?i.isCountDowning=!0:(v.dispatchEvent("revive"),f.instance.hideDialog("fight/revive"))}))},e.onBtnSkipClick=function(){this.isCountDowning=!1,f.instance.hideDialog("fight/revive"),this.closeCb&&this.closeCb()},n}(p)).prototype,"spCountDown",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(D.prototype,"spIcon",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(D.prototype,"wgMenu",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=D))||_)),s._RF.pop()}}}));

System.register("chunks:///ui/lottery/lotteryItem.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/resourceUtil.js","../../framework/constant.js","../../framework/localConfig.js","../../framework/playerData.js","../../i18nMaster/runtime-scripts/LanguageData.js","../../framework/uiManager.js"],(function(e,t){var r,o,n,i,a,c,s,l,u,f,p,d,m,w,h,y,I,v,g,D,_,R,b,C,T,j,E,k;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_temp:void 0}),{setters:[function(e){r=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.defineProperty},function(e){c=e.cclegacy,s=e._decorator,l=e.SpriteFrame,u=e.SpriteComponent,f=e.LabelComponent,p=e.Component},function(e){d=e.resourceUtil},function(e){m=e.constant},function(e){w=e.localConfig},function(e){h=e.playerData},function(e){y=e.default},function(e){I=e.uiManager}],execute:function(){c._RF.push({},"93fc8seXTpPJqvHF6Jlpios","lotteryItem",void 0),E=s.ccclass,k=s.property,e("lotteryItem",(v=E("lotteryItem"),g=k(l),D=k(u),_=k(f),v((C=r((b=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,n(i(t),"imgGold",C,i(t)),n(i(t),"spItem",T,i(t)),n(i(t),"lbValue",j,i(t)),a(i(t),"carInfo",void 0),t}o(t,e);var r=t.prototype;return r.start=function(){},r.show=function(e,t){this.carInfo=w.instance.queryByID("car",e),d.setCarIcon(this.carInfo.model,this.spItem,!1,(function(){}))},r.showReward=function(e){if(console.log(this.carInfo.ID),h.instance.hasCar(this.carInfo.ID)){var t={rewardType:m.REWARD_TYPE.GOLD,amount:m.LOTTERY.EXCHANGE,ID:this.carInfo.ID};I.instance.showDialog("common/showReward",[t,!1,y.t("showReward.title"),function(){},y.t("showReward.alreadyHadCar")])}else{var r={rewardType:m.REWARD_TYPE.CAR,amount:1,ID:this.carInfo.ID};I.instance.showDialog("common/showReward",[r,!1,y.t("showReward.title"),function(){e.receiveCarTimes+=1}])}},t}(p)).prototype,"imgGold",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=r(b.prototype,"spItem",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=r(b.prototype,"lbValue",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=b))||R)),c._RF.pop()}}}));

System.register("chunks:///ui/lottery/lottery.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/clientEvent.js","../../framework/lodash.js","../../framework/constant.js","../../framework/localConfig.js","../../framework/playerData.js","../../framework/uiManager.js","../../logic/gameLogic.js","./lotteryItem.js"],(function(t,e){var n,r,i,o,a,l,s,c,u,d,b,h,p,f,y,m,g,v,w,R,_,B,C,E,L,T,A,I,D,k,M,z,O,N,Y,P,j,F,V,S,x,G,U,H,q,J,W,Z,K,Q,X,$,tt,et,nt,rt,it;return t({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_dec8:void 0,_dec9:void 0,_dec10:void 0,_dec11:void 0,_dec12:void 0,_dec13:void 0,_dec14:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_descriptor8:void 0,_descriptor9:void 0,_descriptor10:void 0,_descriptor11:void 0,_descriptor12:void 0,_descriptor13:void 0,_temp:void 0}),{setters:[function(t){n=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.defineProperty,l=t.createClass},function(t){s=t.cclegacy,c=t._decorator,u=t.Node,d=t.Prefab,b=t.ButtonComponent,h=t.LabelComponent,p=t.SpriteFrame,f=t.SpriteComponent,y=t.Color,m=t.Vec3,g=t.tween,v=t.Component},function(t){w=t.clientEvent},function(t){R=t.lodash},function(t){_=t.constant},function(t){B=t.localConfig},function(t){C=t.playerData},function(t){E=t.uiManager},function(t){L=t.gameLogic},function(t){T=t.lotteryItem}],execute:function(){s._RF.push({},"d7ed7RMvvZIvbdJyWwfIGDy","lottery",void 0),rt=c.ccclass,it=c.property,6,t("lottery",(A=rt("lottery"),I=it(u),D=it(d),k=it(u),M=it(u),z=it(b),O=it(b),N=it(h),Y=it(p),P=it(p),j=it(p),F=it(f),V=it(f),S=it(f),A((U=n((G=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(o(e),"arrRewardNode",U,o(e)),i(o(e),"pfRewardItem",H,o(e)),i(o(e),"nodeTurnable",q,o(e)),i(o(e),"ndBtnClose",J,o(e)),i(o(e),"btnLottery",W,o(e)),i(o(e),"btnAd",Z,o(e)),i(o(e),"lbMoney",K,o(e)),i(o(e),"imgLotteryBtnDisable",Q,o(e)),i(o(e),"imgLotteryBtnEnable",X,o(e)),i(o(e),"imgAdBtnEnable",$,o(e)),i(o(e),"spLotteryBtn",tt,o(e)),i(o(e),"spAdIcon",et,o(e)),i(o(e),"spAdBtn",nt,o(e)),a(o(e),"arrRewardData",[]),a(o(e),"arrLotteryItem",[]),a(o(e),"arrProbability",[]),a(o(e),"randValue",0),a(o(e),"curRotation",null),a(o(e),"_receiveCarTimes",0),e}r(e,t);var n=e.prototype;return n.start=function(){},n.onEnable=function(){w.on("buyCar",this.onBuyCar,this)},n.onDisable=function(){w.off("buyCar",this.onBuyCar,this)},n.onBuyCar=function(){this.initReward()},n.show=function(){this.initReward(),this.initInfo(),this.btnAd.node.active=!0},n.initReward=function(){var t=B.instance.getCars(),e=[];if(t.forEach((function(t){C.instance.hasCar(t.ID)||t.type!==_.BUY_CAR_TYPE.GOLD||e.push(t.ID)})),e.length<6)for(var n=R.cloneDeep(C.instance.playerInfo.cars);e.length<6;){var r=Math.floor(Math.random()*n.length),i=n[r];B.instance.queryByID("car",i).type===_.BUY_CAR_TYPE.GOLD&&e.push(n.splice(r,1)[0])}this.arrRewardData=e,this.arrProbability=[];for(var o=0,a=0;a<this.arrRewardNode.length;a++){var l=this.arrRewardNode[a],s=this.arrLotteryItem[a];if(s||((s=cc.instantiate(this.pfRewardItem)).parent=l,this.arrLotteryItem[a]=s),this.arrRewardData.length>a){var c=this.arrRewardData[a];s.getComponent(T).show(c,this);var u=o,d=o+100/6;this.arrProbability.push({min:u,max:d,idx:a}),o=d}}},n.initInfo=function(){this.lbMoney.string=""+_.LOTTERY.MONEY,this.checkButton()},n.checkButton=function(){C.instance.playerInfo.gold>_.LOTTERY.MONEY?(this.lbMoney.color=new y(163,64,27),this.lotteryBtnEnable=!0):(this.lbMoney.color=y.RED,this.lotteryBtnEnable=!1),this.adBtnEnable=!0,L.updateRewardIcon(_.SHARE_FUNCTION.LOTTERY,this.spAdIcon,(function(){}))},n.getRandValue=function(){for(var t=-1,e=Math.floor(100*Math.random()),n=0;n<this.arrProbability.length;n++){var r=this.arrProbability[n];if(e>=r.min&&e<r.max){t=r.idx;break}}return-1!==t?t:this.getRandValue()},n.onBtnStartClick=function(){L.addGold(-_.LOTTERY.MONEY),this.startRun()},n.onBtnAdClick=function(){var t=this;L.openReward(_.SHARE_FUNCTION.LOTTERY,(function(e){e||t.startRun()}))},n.startRun=function(){var t=this;this.lotteryBtnEnable=!1,this.adBtnEnable=!1,this.ndBtnClose.getComponent(b).interactable=!1,this.randValue=this.getRandValue();var e=this.nodeTurnable.eulerAngles.z%360;this.nodeTurnable.eulerAngles=new m(0,0,e);var n=360-e,r=3+Math.floor(4*Math.random()),i=-360-360*r+60*this.randValue+30-360;this.curRotation=this.nodeTurnable.eulerAngles.clone(),g(this.curRotation).to(n/360+.5*r,new m(0,0,i),{easing:"cubicOut"}).call((function(){t.curRotation=null,t.showReward()})).start()},n.showReward=function(){this.ndBtnClose.getComponent(b).interactable=!0,this.arrLotteryItem[this.randValue].getComponent(T).showReward(this),this.checkButton()},n.onBtnCloseClick=function(){E.instance.hideDialog("lottery/lottery")},n.update=function(t){this.curRotation&&(this.nodeTurnable.eulerAngles=this.curRotation)},l(e,[{key:"receiveCarTimes",set:function(t){console.log("#####receiveCarTimes",t),this._receiveCarTimes=t},get:function(){return this._receiveCarTimes}},{key:"lotteryBtnEnable",set:function(t){t?(this.btnLottery.interactable=!0,this.spLotteryBtn.spriteFrame=this.imgLotteryBtnEnable):(this.btnLottery.interactable=!1,this.spLotteryBtn.spriteFrame=this.imgLotteryBtnDisable)}},{key:"adBtnEnable",set:function(t){t?(this.btnAd.interactable=!0,this.spAdBtn.spriteFrame=this.imgAdBtnEnable):(this.btnAd.interactable=!1,this.spAdBtn.spriteFrame=this.imgLotteryBtnDisable)}}]),e}(v)).prototype,"arrRewardNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=n(G.prototype,"pfRewardItem",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(G.prototype,"nodeTurnable",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(G.prototype,"ndBtnClose",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(G.prototype,"btnLottery",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=n(G.prototype,"btnAd",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(G.prototype,"lbMoney",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=n(G.prototype,"imgLotteryBtnDisable",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(G.prototype,"imgLotteryBtnEnable",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(G.prototype,"imgAdBtnEnable",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=n(G.prototype,"spLotteryBtn",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=n(G.prototype,"spAdIcon",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=n(G.prototype,"spAdBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=G))||x)),s._RF.pop()}}}));

System.register("chunks:///ui/main/invincible.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/clientEvent.js","../../framework/resourceUtil.js","../../framework/constant.js","../../framework/poolManager.js","../../framework/localConfig.js","../../framework/playerData.js","../../framework/uiManager.js","../../logic/gameLogic.js"],(function(n,e){var i,r,t,o,c,a,l,s,u,p,f,d,v,g,C,h,m,b,_,w,y,I,k,N,j,B,D,E,M,P;return n({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_temp:void 0}),{setters:[function(n){i=n.applyDecoratedDescriptor,r=n.inheritsLoose,t=n.initializerDefineProperty,o=n.assertThisInitialized,c=n.defineProperty},function(n){a=n.cclegacy,l=n._decorator,s=n.Node,u=n.WidgetComponent,p=n.SpriteComponent,f=n.Component},function(n){d=n.clientEvent},function(n){v=n.resourceUtil},function(n){g=n.constant},function(n){C=n.poolManager},function(n){h=n.localConfig},function(n){m=n.playerData},function(n){b=n.uiManager},function(n){_=n.gameLogic}],execute:function(){a._RF.push({},"ec04bogempOHrQhVVHVqSZV","invincible",void 0),M=l.ccclass,P=l.property,n("invincible",(w=M("invincible"),y=P(s),I=P(u),k=P(p),w((B=i((j=function(n){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r))||this,t(o(e),"nodeCarParent",B,o(e)),t(o(e),"wgMenu",D,o(e)),t(o(e),"spIcon",E,o(e)),c(o(e),"_callback",void 0),c(o(e),"currentCar",null),e}r(e,n);var i=e.prototype;return i.start=function(){},i.show=function(n){var e=this;this._callback=n,_.updateRewardIcon(g.SHARE_FUNCTION.INVINCIBLE,this.spIcon,(function(n,e){})),this.currentCar&&(C.instance.putNode(this.currentCar),this.currentCar=null);var i=h.instance.queryByID("car",m.instance.showCar.toString());v.getUICar(i.model,(function(n,r){n?console.error(n,i.model):e.currentCar=C.instance.getNode(r,e.nodeCarParent)}))},i.onBtnCloseClick=function(){b.instance.hideDialog("main/invincible"),this._callback&&this._callback()},i.onBtnOKClick=function(){var n=this;_.openReward(g.SHARE_FUNCTION.INVINCIBLE,(function(e,i){e||(d.dispatchEvent("showInvincible"),n.onBtnCloseClick())}))},e}(f)).prototype,"nodeCarParent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(j.prototype,"wgMenu",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(j.prototype,"spIcon",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=j))||N)),a._RF.pop()}}}));

System.register("chunks:///ui/main/mainUI.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/clientEvent.js","../../framework/constant.js","../../framework/util.js","../../framework/localConfig.js","../../framework/playerData.js","../../framework/uiManager.js","../../logic/gameLogic.js"],(function(n,i){var t,e,o,a,r,s,c,l,d,u,h,f,p,g,v,C,w,I,b,y,S,m,D,G,_,k,R,B,E,L,j,z,P,x,A,F,N;return n({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_temp:void 0}),{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,a=n.assertThisInitialized,r=n.defineProperty},function(n){s=n.cclegacy,c=n._decorator,l=n.SpriteComponent,d=n.LabelComponent,u=n.Node,h=n.Vec3,f=n.tween,p=n.Component},function(n){g=n.clientEvent},function(n){v=n.constant},function(n){C=n.util},function(n){w=n.localConfig},function(n){I=n.playerData},function(n){b=n.uiManager},function(n){y=n.gameLogic}],execute:function(){s._RF.push({},"6e662xQs9xPfZ4Gn7vNo4u5","mainUI",void 0),F=c.ccclass,N=c.property,n("mainUI",(S=F("mainUI"),m=N(l),D=N(d),G=N(u),_=N(u),k=N(u),R=N(u),S((L=t((E=function(n){function i(){for(var i,t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return i=n.call.apply(n,[this].concat(e))||this,o(a(i),"spIcon",L,a(i)),o(a(i),"lbGold",j,a(i)),o(a(i),"nodeBtnService",z,a(i)),o(a(i),"nodeSignInRedDot",P,a(i)),o(a(i),"nodeGoldIcon",x,a(i)),o(a(i),"nodeShopRedDot",A,a(i)),r(a(i),"targetScale",new h(1,1,1)),r(a(i),"isGoldPlaying",!1),r(a(i),"arrCars",void 0),r(a(i),"isShowAniFinished",void 0),r(a(i),"debugIdx",0),r(a(i),"debugTimer",void 0),i}e(i,n);var t=i.prototype;return t.start=function(){y.afterLogin(),this.updateSignIn()},t.onEnable=function(){g.on("updateGold",this.updateGold,this),g.on("updateSignIn",this.updateSignIn,this),g.on("receiveGold",this.receiveGold,this),g.on("updateCar",this.updateCar,this),g.on("buyCar",this.updateCarReceived,this)},t.onDisable=function(){g.off("updateGold",this.updateGold,this),g.off("updateSignIn",this.updateSignIn,this),g.off("receiveGold",this.receiveGold,this),g.off("updateCar",this.updateCar,this),g.off("buyCar",this.updateCarReceived,this)},t.updateGold=function(){var n=I.instance.playerInfo?I.instance.playerInfo.gold:0;this.lbGold.string=C.formatMoney(n)},t.receiveGold=function(){var n=this;this.isGoldPlaying=!0,this.nodeGoldIcon.setScale(new h(1,1,1)),f(this.targetScale).to(.2,new h(1.2,1.2,1.2)).to(.2,new h(1,1,1)).call((function(){n.isGoldPlaying=!1})).start()},t.updateSignIn=function(){I.instance.updateSignInCurrentDay();var n=I.instance.getSignInReceivedInfo();this.nodeSignInRedDot.active=!n.isAllReceived},t.onBtnBgClick=function(){var n=this;I.instance.playerInfo.level>v.NEWBEE_LEVEL?b.instance.showDialog("main/trial",[function(){n.askInvincible()}]):this.showStart()},t.askInvincible=function(){var n=this;I.instance.playerInfo.level>v.NEWBEE_LEVEL?b.instance.showDialog("main/invincible",[function(){n.showStart()}]):this.showStart()},t.showStart=function(){g.dispatchEvent("startGame")},t.onBtnDailyClick=function(){b.instance.showDialog("signIn/signIn")},t.onBtnLotteryClick=function(){b.instance.showDialog("lottery/lottery")},t.onBtnRankClick=function(){b.instance.showDialog("rank/rank")},t.onBtnChangeCarClick=function(){b.instance.showDialog("shop/shop")},t.onBtnSettingClick=function(){b.instance.showDialog("main/setting")},t.updateCar=function(){},t.updateCarReceived=function(){this.nodeShopRedDot.active=I.instance.hasCarCanReceived()},t.onBtnLeftClick=function(){var n=I.instance.showCar,i=this.arrCars.indexOf(n);--i<0&&(i=this.arrCars.length-1),I.instance.showCar=this.arrCars[i],g.dispatchEvent("updateCar")},t.onBtnRightClick=function(){var n=I.instance.showCar,i=this.arrCars.indexOf(n);++i>=this.arrCars.length&&(i=0),I.instance.showCar=this.arrCars[i],g.dispatchEvent("updateCar")},t.show=function(){var n=this;this.updateGold(),this.nodeShopRedDot.active=I.instance.hasCarCanReceived(),this.arrCars=[],w.instance.getCars().forEach((function(i){n.arrCars.push(i.ID)})),this.isShowAniFinished=!0,y.updateRewardIcon(v.SHARE_FUNCTION.TRIAL,this.spIcon,(function(){I.instance.hasCar(I.instance.showCar)&&(n.spIcon.node.active=!1)})),I.instance.isComeFromBalance&&this.onBtnBgClick()},t.update=function(n){(this.isGoldPlaying||1!==this.targetScale.x)&&this.nodeGoldIcon.setScale(this.targetScale)},t.onBtnDebugClick=function(){},i}(p)).prototype,"spIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(E.prototype,"lbGold",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(E.prototype,"nodeBtnService",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(E.prototype,"nodeSignInRedDot",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(E.prototype,"nodeGoldIcon",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(E.prototype,"nodeShopRedDot",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=E))||B)),s._RF.pop()}}}));

System.register("chunks:///ui/main/setting.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/configuration.js","../../framework/audioManager.js","../../framework/localConfig.js","../../i18nMaster/runtime-scripts/LanguageData.js","../../framework/uiManager.js","../../logic/gameLogic.js"],(function(i,e){var t,n,r,o,s,c,a,u,l,p,h,d,f,g,S,b,m,w,v,_,O,V,y,C,k,j,F,z,M,D,L,I;return i({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_temp:void 0}),{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,r=i.initializerDefineProperty,o=i.assertThisInitialized,s=i.defineProperty},function(i){c=i.cclegacy,a=i._decorator,u=i.SpriteComponent,l=i.SpriteFrame,p=i.LabelComponent,h=i.Component},function(i){d=i.configuration},function(i){f=i.audioManager},function(i){g=i.localConfig},function(i){S=i.default},function(i){b=i.uiManager},function(i){m=i.gameLogic}],execute:function(){c._RF.push({},"501ddLP5JZNPaa02x+rFKAH","setting",void 0),L=a.ccclass,I=a.property,i("setting",(w=L("setting"),v=I(u),_=I(u),O=I(l),V=I(l),y=I(p),w((j=t((k=function(i){function e(){for(var e,t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return e=i.call.apply(i,[this].concat(n))||this,r(o(e),"spVibrateSwitch",j,o(e)),r(o(e),"spSoundSwitch",F,o(e)),r(o(e),"imgSwitchOpen",z,o(e)),r(o(e),"imgSwitchClose",M,o(e)),r(o(e),"lbVersion",D,o(e)),s(o(e),"isSoundOpen",void 0),s(o(e),"isVibrateOpen",void 0),s(o(e),"clickTimes",0),e}n(e,i);var t=e.prototype;return t.start=function(){},t.show=function(){this.clickTimes+=1,this.lbVersion.string=S.t("setting.version")+" "+g.instance.getVersion(),this.isSoundOpen=f.instance.getConfiguration(!0),this.isVibrateOpen=m.isVibrateOpen(),this.refreshSwitchUI()},t.refreshSwitchUI=function(){this.isVibrateOpen?this.spVibrateSwitch.spriteFrame=this.imgSwitchOpen:this.spVibrateSwitch.spriteFrame=this.imgSwitchClose,this.isSoundOpen?this.spSoundSwitch.spriteFrame=this.imgSwitchOpen:this.spSoundSwitch.spriteFrame=this.imgSwitchClose},t.onBtnVibrateClick=function(){this.isVibrateOpen=!this.isVibrateOpen,d.instance.setGlobalData("vibrate",this.isVibrateOpen),this.refreshSwitchUI()},t.onBtnSoundClick=function(){this.isSoundOpen=!this.isSoundOpen,this.isSoundOpen?(f.instance.openMusic(),f.instance.openSound()):(f.instance.closeMusic(),f.instance.closeSound()),this.refreshSwitchUI()},t.onBtnCloseClick=function(){b.instance.hideDialog("main/setting")},e}(h)).prototype,"spVibrateSwitch",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(k.prototype,"spSoundSwitch",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(k.prototype,"imgSwitchOpen",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(k.prototype,"imgSwitchClose",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(k.prototype,"lbVersion",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=k))||C)),c._RF.pop()}}}));

System.register("chunks:///ui/main/trial.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/clientEvent.js","../../framework/resourceUtil.js","../../framework/constant.js","../../framework/poolManager.js","../../framework/localConfig.js","../../framework/playerData.js","../../framework/uiManager.js","../../logic/gameLogic.js"],(function(e,r){var n,t,i,a,o,c,l,s,u,d,p,f,h,g,C,v,m,_,w,y,I,b,k,D,j,M,R,B,N,S,z;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_temp:void 0}),{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.defineProperty},function(e){c=e.cclegacy,l=e._decorator,s=e.Node,u=e.WidgetComponent,d=e.SpriteComponent,p=e.Vec3,f=e.Component},function(e){h=e.clientEvent},function(e){g=e.resourceUtil},function(e){C=e.constant},function(e){v=e.poolManager},function(e){m=e.localConfig},function(e){_=e.playerData},function(e){w=e.uiManager},function(e){y=e.gameLogic}],execute:function(){c._RF.push({},"5bf756By5JOmoKbG0aoUzq6","trial",void 0),S=l.ccclass,z=l.property,e("trial",(I=S("trial"),b=z(s),k=z(u),D=z(d),I((R=n((M=function(e){function r(){for(var r,n=arguments.length,t=new Array(n),c=0;c<n;c++)t[c]=arguments[c];return r=e.call.apply(e,[this].concat(t))||this,i(a(r),"nodeCarParent",R,a(r)),i(a(r),"wgMenu",B,a(r)),o(a(r),"currentCar",null),o(a(r),"carDegree",0),o(a(r),"rotateSpeed",30),o(a(r),"carId",void 0),i(a(r),"spIcon",N,a(r)),o(a(r),"_callback",void 0),r}t(r,e);var n=r.prototype;return n.start=function(){},n.show=function(e){var r=this;this._callback=e,y.updateRewardIcon(C.SHARE_FUNCTION.TRIAL,this.spIcon,(function(e,r){})),this.currentCar&&(v.instance.putNode(this.currentCar),this.currentCar=null);var n=m.instance.getCars(),t=[];if(n.forEach((function(e){_.instance.hasCar(e.ID)||t.push(e.ID)})),t.length<=0)this.onBtnCloseClick();else{var i=Math.floor(Math.random()*t.length);this.carId=t[i];var a=m.instance.queryByID("car",this.carId.toString());g.getUICar(a.model,(function(e,n){e?console.error(e,a.model):(r.carDegree=0,r.currentCar=v.instance.getNode(n,r.nodeCarParent))}))}},n.onBtnCloseClick=function(){w.instance.hideDialog("main/trial"),this._callback&&this._callback()},n.onBtnTrialClick=function(){var e=this;y.openReward(C.SHARE_FUNCTION.TRIAL,(function(r,n){r||(_.instance.showCar=e.carId,h.dispatchEvent("updateCar"),e.onBtnCloseClick())}))},n.update=function(e){this.currentCar&&(this.carDegree-=e*this.rotateSpeed,this.carDegree<=-360&&(this.carDegree+=360),this.currentCar.eulerAngles=new p(0,this.carDegree,0))},r}(f)).prototype,"nodeCarParent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(M.prototype,"wgMenu",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(M.prototype,"spIcon",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=M))||j)),c._RF.pop()}}}));

System.register("chunks:///ui/online/online.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/clientEvent.js","../../framework/constant.js","../../framework/util.js","../../framework/playerData.js","../../framework/uiManager.js","../../logic/gameLogic.js"],(function(e,i){var r,n,t,o,s,l,a,c,u,f,p,d,h,m,g,T,v,_,E,w,y,I,P,R,b,L,O;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_temp:void 0}),{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.defineProperty},function(e){l=e.cclegacy,a=e._decorator,c=e.SpriteComponent,u=e.LabelComponent,f=e.Component},function(e){p=e.clientEvent},function(e){d=e.constant},function(e){h=e.util},function(e){m=e.playerData},function(e){g=e.uiManager},function(e){T=e.gameLogic}],execute:function(){l._RF.push({},"349acC5lWBNyZL7loxYm/uD","online",void 0),L=a.ccclass,O=a.property,e("online",(v=L("online"),_=O(c),E=O(c),w=O(u),v((P=r((I=function(e){function i(){for(var i,r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return i=e.call.apply(e,[this].concat(n))||this,t(o(i),"spTimeProgress",P,o(i)),t(o(i),"perTimeProgress",R,o(i)),t(o(i),"lbGold",b,o(i)),s(o(i),"currentTime",0),s(o(i),"isOverflow",!1),s(o(i),"currentGold",0),i}n(i,e);var r=i.prototype;return r.start=function(){},r.onEnable=function(){this.refresh()},r.refresh=function(){this.currentTime=0,this.perTimeProgress.fillRange=0;var e=m.instance.getLastOnlineRewardTime(),i=Math.floor((m.instance.getCurrentTime()-e)/1e3);i=(i=i>0?i:0)<d.ONLINE.MAX_TIME?i:d.ONLINE.MAX_TIME,this.isOverflow=i===d.ONLINE.MAX_TIME,this.currentGold=Math.floor(i*d.ONLINE.PROFIT_PER_SECOND),this.lbGold.string=h.formatMoney(this.currentGold);var r=i/d.ONLINE.MAX_TIME;r=r>1?1:r,this.spTimeProgress.fillRange=r},r.clear=function(){this.currentGold=0,this.lbGold.string="0",this.spTimeProgress.fillRange=0,m.instance.updateLastOnlineRewardTime(this.currentTime),this.isOverflow=!1},r.onBtnOnlineClick=function(){var e=this;this.currentGold<=0||(this.spTimeProgress.fillRange>=.5?g.instance.showDialog("main/onlineDouble",[this.currentGold,function(){e.clear()}]):(m.instance.updatePlayerInfo("gold",this.currentGold),T.showFlyReward(d.REWARD_TYPE.GOLD,(function(){p.dispatchEvent("updateGold")})),this.clear()))},r.update=function(e){if(!this.isOverflow)if(this.currentTime+=e,this.currentTime>d.ONLINE.TIME_PER_CIRCLE)this.refresh();else{var i=this.currentTime/d.ONLINE.TIME_PER_CIRCLE;this.perTimeProgress.fillRange=i}},i}(f)).prototype,"spTimeProgress",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=r(I.prototype,"perTimeProgress",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=r(I.prototype,"lbGold",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=I))||y)),l._RF.pop()}}}));

System.register("chunks:///ui/online/onlineDouble.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/clientEvent.js","../../framework/constant.js","../../framework/util.js","../../framework/playerData.js","../../framework/uiManager.js","../../logic/gameLogic.js"],(function(e,n){var o,i,t,r,l,a,c,u,s,d,p,f,b,v,y,m,h,w,g,_,D,C,k,M,N,G,I;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_temp:void 0}),{setters:[function(e){o=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.defineProperty,r=e.assertThisInitialized,l=e.initializerDefineProperty},function(e){a=e.cclegacy,c=e._decorator,u=e.LabelComponent,s=e.SpriteComponent,d=e.Component},function(e){p=e.clientEvent},function(e){f=e.constant},function(e){b=e.util},function(e){v=e.playerData},function(e){y=e.uiManager},function(e){m=e.gameLogic}],execute:function(){a._RF.push({},"5b356wyJ3BCYZpADXUOyafo","onlineDouble",void 0),G=c.ccclass,I=c.property,e("onlineDouble",(h=G("onlineDouble"),w=I(u),g=I(u),_=I(s),h((k=o((C=function(e){function n(){for(var n,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,t(r(n),"rewardMoney",0),t(r(n),"overCallback",null),l(r(n),"lbGoldNormal",k,r(n)),l(r(n),"lbGoldMulti",M,r(n)),l(r(n),"spIcon",N,r(n)),n}i(n,e);var o=n.prototype;return o.start=function(){},o.show=function(e,n){this.rewardMoney=e,this.overCallback=n,this.lbGoldNormal.string=b.formatMoney(e),this.lbGoldMulti.string=b.formatMoney(3*e),m.updateRewardIcon(f.SHARE_FUNCTION.ONLINE,this.spIcon)},o.onBtnGetNormalClick=function(){this.rewardOver(this.rewardMoney)},o.onBtnGetMultiClick=function(){var e=this;m.openReward(f.SHARE_FUNCTION.ONLINE,(function(n){n||e.rewardOver(3*e.rewardMoney)}))},o.rewardOver=function(e){v.instance.updatePlayerInfo("gold",e),y.instance.hideDialog("main/onlineDouble"),m.showFlyReward(f.REWARD_TYPE.GOLD,(function(){p.dispatchEvent("updateGold")})),this.overCallback&&this.overCallback()},o.onBtnCloseClick=function(){y.instance.hideDialog("main/onlineDouble")},n}(d)).prototype,"lbGoldNormal",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=o(C.prototype,"lbGoldMulti",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=o(C.prototype,"spIcon",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=C))||D)),a._RF.pop()}}}));

System.register("chunks:///ui/shop/shopItem.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/clientEvent.js","../../framework/resourceUtil.js","../../framework/poolManager.js","../../framework/playerData.js"],(function(e,t){var n,i,r,o,s,a,c,u,l,d,h,f,p,I,v,C,y,m,b,D,_,g,k,w,S,T,B,U;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_temp:void 0}),{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.defineProperty,a=e.createClass},function(e){c=e.cclegacy,u=e._decorator,l=e.Node,d=e.SpriteComponent,h=e.Component},function(e){f=e.clientEvent},function(e){p=e.resourceUtil},function(e){I=e.poolManager},function(e){v=e.playerData}],execute:function(){c._RF.push({},"2b1f3615PZNnqYSDTVo5tI8","shopItem",void 0),B=u.ccclass,U=u.property,e("shopItem",(C=B("shopItem"),y=U(l),m=U(l),b=U(l),D=U(d),C((k=n((g=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(o(t),"nodeSelect",k,o(t)),r(o(t),"nodeUsed",w,o(t)),r(o(t),"nodeRedDot",S,o(t)),r(o(t),"spCarIcon",T,o(t)),s(o(t),"currentCar",null),s(o(t),"carInfo",null),t}i(t,e);var n=t.prototype;return n.start=function(){},n.onEnable=function(){f.on("buyCar",this.refreshCarIcon,this),f.on("updateBuyTask",this.updateBuyTask,this)},n.onDisable=function(){f.off("buyCar",this.refreshCarIcon,this),f.off("updateBuyTask",this.updateBuyTask,this)},n.refreshCarIcon=function(){this.carInfo&&(p.setCarIcon(this.carInfo.model,this.spCarIcon,!v.instance.hasCar(this.carInfo.ID),(function(){})),this.updateBuyTask())},n.updateBuyTask=function(){if(v.instance.hasCar(this.carInfo.ID))this.nodeRedDot.active=!1;else{var e=v.instance.getBuyTypeProgress(this.carInfo.type);this.nodeRedDot.active=e>=this.carInfo.num}},n.show=function(e){var t=this;this.carInfo=e,this.select=!1,this.nodeUsed.active=!1,this.currentCar&&(I.instance.putNode(this.currentCar),this.currentCar=null),e?(this.spCarIcon.node.active=!0,this.refreshCarIcon(),this.carInfo.ID===v.instance.getCurrentCar()&&this.scheduleOnce((function(){t.onItemClick(!1)}),0)):this.spCarIcon.node.active=!1},n.onItemClick=function(e){if(this.carInfo){var t=v.instance.hasCar(this.carInfo.ID);f.dispatchEvent("onShopItemSelect",this.carInfo.ID,t),this.select=!0,t&&(this.used=!0,v.instance.useCar(this.carInfo.ID),f.dispatchEvent("updateCar"))}},n.updateUseState=function(){this.used=this.carInfo.ID===v.instance.getCurrentCar()},a(t,[{key:"select",set:function(e){this.nodeSelect.active=e},get:function(){return this.nodeSelect.active}},{key:"used",set:function(e){this.nodeUsed.active=e},get:function(){return this.nodeUsed.active}}]),t}(h)).prototype,"nodeSelect",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(g.prototype,"nodeUsed",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(g.prototype,"nodeRedDot",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(g.prototype,"spCarIcon",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=g))||_)),c._RF.pop()}}}));

System.register("chunks:///ui/shop/shopPage.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/localConfig.js","./shopItem.js"],(function(e,n){var t,o,i,r,c,s,a,p,l,h,u,f,d,g,m,v,y,_;return e({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,c=e.defineProperty},function(e){s=e.cclegacy,a=e._decorator,p=e.Prefab,l=e.Component},function(e){h=e.localConfig},function(e){u=e.shopItem}],execute:function(){s._RF.push({},"35980PVGZdO6o5scEE8kciy","shopPage",void 0),y=a.ccclass,_=a.property,9,e("shopPage",(f=y("shopPage"),d=_(p),f((v=t((m=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o))||this,i(r(n),"pfShopItem",v,r(n)),c(r(n),"page",0),n}o(n,e);var t=n.prototype;return t.start=function(){},t.setPage=function(e){this.page=e},t.show=function(){for(var e=h.instance.getCars(),n=9*this.page,t=9*(this.page+1),o=0,i=n;i<t;i++,o++){var r=null;o<this.node.children.length?r=this.node.children[o]:(r=cc.instantiate(this.pfShopItem)).parent=this.node,r.getComponent(u).show(e[i])}},t.unSelectAll=function(){this.node.children.forEach((function(e){e.getComponent(u).select=!1}))},t.unuseAll=function(){this.node.children.forEach((function(e){e.getComponent(u).used=!1}))},t.refreshUse=function(e){this.node.children.forEach((function(n){var t=n.getComponent(u);t.carInfo.ID===e&&t.onItemClick()}))},n}(l)).prototype,"pfShopItem",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g)),s._RF.pop()}}}));

System.register("chunks:///ui/shop/shop.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/clientEvent.js","../../framework/resourceUtil.js","../../framework/constant.js","../../framework/poolManager.js","../../framework/util.js","../../framework/localConfig.js","../../framework/playerData.js","../../i18nMaster/runtime-scripts/LanguageData.js","../../framework/uiManager.js","../../logic/gameLogic.js","./shopPage.js"],(function(e,t){var n,r,i,o,a,s,c,u,l,h,d,p,f,g,C,b,I,_,P,m,v,y,w,B,G,D,R,E,S,k,T,A,Y,U,L,x,N,O,z,j,H,M,F,V,q,W,K,X,J,Q,Z,$,ee,te,ne,re,ie;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_dec8:void 0,_dec9:void 0,_dec10:void 0,_dec11:void 0,_dec12:void 0,_dec13:void 0,_dec14:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_descriptor8:void 0,_descriptor9:void 0,_descriptor10:void 0,_descriptor11:void 0,_descriptor12:void 0,_descriptor13:void 0,_temp:void 0}),{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.defineProperty},function(e){s=e.cclegacy,c=e._decorator,u=e.LabelComponent,l=e.Node,h=e.Prefab,d=e.SpriteComponent,p=e.Vec3,f=e.ButtonComponent,g=e.Color,C=e.Component},function(e){b=e.clientEvent},function(e){I=e.resourceUtil},function(e){_=e.constant},function(e){P=e.poolManager},function(e){m=e.util},function(e){v=e.localConfig},function(e){y=e.playerData},function(e){w=e.default},function(e){B=e.uiManager},function(e){G=e.gameLogic},function(e){D=e.shopPage}],execute:function(){s._RF.push({},"15effXNtKpGeLctODlTRqhl","shop",void 0),re=c.ccclass,ie=c.property,9,e("shop",(R=re("shop"),E=ie(u),S=ie(l),k=ie(l),T=ie(l),A=ie(l),Y=ie(u),U=ie(u),L=ie(u),x=ie(l),N=ie(l),O=ie(h),z=ie(d),j=ie(u),R((F=n((M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(o(t),"lbGold",F,o(t)),i(o(t),"nodeGet",V,o(t)),i(o(t),"nodeGold",q,o(t)),i(o(t),"nodeBuy",W,o(t)),i(o(t),"nodeGo",K,o(t)),i(o(t),"lbDesc",X,o(t)),i(o(t),"lbPrice",J,o(t)),i(o(t),"lbGo",Q,o(t)),i(o(t),"nodeCarParent",Z,o(t)),i(o(t),"nodePages",$,o(t)),i(o(t),"pfPage",ee,o(t)),i(o(t),"spCarBlack",te,o(t)),i(o(t),"lbPage",ne,o(t)),a(o(t),"currentPage",null),a(o(t),"currentCar",null),a(o(t),"carDegree",0),a(o(t),"rotateSpeed",30),a(o(t),"currentCarInfo",void 0),a(o(t),"pageIndex",0),a(o(t),"maxPage",0),a(o(t),"currentCarID",void 0),t}r(t,e);var n=t.prototype;return n.start=function(){},n.onEnable=function(){b.on("updateGold",this.updateGold,this),b.on("onShopItemSelect",this.onShopItemSelect,this),b.on("updateBuyTask",this.updateButtons,this)},n.onDisable=function(){b.off("updateGold",this.updateGold,this),b.off("onShopItemSelect",this.onShopItemSelect,this),b.off("updateBuyTask",this.updateButtons,this)},n.show=function(){var e=v.instance.getCars();this.maxPage=Math.floor(e.length/9),this.updateGold(),this.showPage()},n.showPage=function(){this.currentPage||(this.currentPage=cc.instantiate(this.pfPage),this.currentPage.parent=this.nodePages,this.pageIndex=0,this.refreshPageLabel(),this.currentPage.getComponent(D).setPage(this.pageIndex)),this.currentPage.getComponent(D).show()},n.updateGold=function(){var e=y.instance.playerInfo?y.instance.playerInfo.gold:0;this.lbGold.string=m.formatMoney(e)},n.onBtnCloseClick=function(){B.instance.hideDialog("shop/shop")},n.getCar=function(){var e=this;G.buyCar(this.currentCarInfo.ID);var t={rewardType:_.REWARD_TYPE.CAR,amount:1,ID:this.currentCarInfo.ID};B.instance.showDialog("common/showReward",[t,!1,w.t("showReward.buySuccessful"),function(){G.useCar(e.currentCarInfo.ID),e.currentPage.getComponent(D).refreshUse(e.currentCarInfo.ID)},null,w.t("showReward.confrim")])},n.onBtnGetClick=function(){var e=this.currentCarInfo.ID;if(!y.instance.hasCar(e))if(this.currentCarInfo.type===_.BUY_CAR_TYPE.GOLD){if(this.currentCarInfo.num>y.instance.playerInfo.gold)return void B.instance.showTips(w.t("shop.getGold"),(function(){}));G.addGold(-this.currentCarInfo.num),this.getCar()}else{if(y.instance.getBuyTypeProgress(this.currentCarInfo.type)>=this.currentCarInfo.num)this.getCar();else switch(this.currentCarInfo.type){case _.BUY_CAR_TYPE.GAME:case _.BUY_CAR_TYPE.LOGIN:case _.BUY_CAR_TYPE.CONTINUOUS_LOGIN:case _.BUY_CAR_TYPE.PASS_LEVEL:this.onBtnCloseClick();break;case _.BUY_CAR_TYPE.SIGNIN:this.onBtnCloseClick(),B.instance.showDialog("signIn/signIn");break;case _.BUY_CAR_TYPE.SHARE:G.openReward(_.SHARE_FUNCTION.SHOP_SHARE,(function(e,t){}));break;case _.BUY_CAR_TYPE.VIDEO:G.openReward(_.SHARE_FUNCTION.SHOP_VIDEO,(function(e,t){}))}}},n.checkBtn=function(){},n.onBtnGoldClick=function(){var e=this;G.openReward(_.SHARE_FUNCTION.SHOP_VIDEO,(function(t){t||G.showFlyReward(_.REWARD_TYPE.GOLD,(function(){G.addGold(300),e.updateButtons()}))}))},n.onShopItemSelect=function(e,t){var n=this,r=this.currentPage.getComponent(D);r.unSelectAll(),t&&r.unuseAll(),this.currentCar&&(P.instance.putNode(this.currentCar),this.currentCar=null),this.currentCarInfo=v.instance.queryByID("car",e.toString()),this.currentCarInfo.type===_.BUY_CAR_TYPE.SHARE&&(this.currentCarInfo.type=_.BUY_CAR_TYPE.GOLD,this.currentCarInfo.num=2e3),y.instance.hasCar(e)?(this.spCarBlack.node.active=!1,I.getUICar(this.currentCarInfo.model,(function(e,t){e?console.error(e,n.currentCarInfo.model):(n.carDegree=0,n.currentCar=P.instance.getNode(t,n.nodeCarParent))}))):(this.spCarBlack.node.active=!0,I.setCarIcon(this.currentCarInfo.model,this.spCarBlack,!0,(function(){}))),this.updateButtons()},n.update=function(e){this.currentCar&&(this.carDegree-=e*this.rotateSpeed,this.carDegree<=-360&&(this.carDegree+=360),this.currentCar.eulerAngles=new p(0,this.carDegree,0))},n.updateButtons=function(){if(y.instance.hasCar(this.currentCarInfo.ID))this.lbDesc.string="",this.nodeGo.active=!0,this.nodeBuy.active=!1,this.lbGo.string=w.t("shop.acquired"),this.nodeGet.getComponent(f).interactable=!0;else if(this.currentCarInfo.type===_.BUY_CAR_TYPE.GOLD)this.lbDesc.string="",this.lbPrice.string=this.currentCarInfo.num,y.instance.playerInfo.gold>=this.currentCarInfo.num?(this.lbPrice.color=g.WHITE,this.nodeGet.getComponent(f).interactable=!0):(this.lbPrice.color=g.RED,this.nodeGet.getComponent(f).interactable=!0),this.nodeGo.active=!1,this.nodeBuy.active=!0;else{this.nodeGet.getComponent(f).interactable=!0,this.nodeGo.active=!0,this.nodeBuy.active=!1;var e=y.instance.getBuyTypeProgress(this.currentCarInfo.type);e<this.currentCarInfo.num?this.lbGo.string=w.t("shop.go"):this.lbGo.string=w.t("shop.receive");var t=w.t("carTask."+this.currentCarInfo.show);this.currentCarInfo.type!==_.BUY_CAR_TYPE.SIGNIN&&(t+="("+w.t("shop.current")+"："+e+"/"+this.currentCarInfo.num+")"),this.lbDesc.string=t}},n.refreshPageLabel=function(){this.lbPage.string=this.pageIndex+1+"/"+(this.maxPage+1)},n.onBtnLeftClick=function(){var e=this.currentPage.getComponent(D);this.pageIndex>0?this.pageIndex--:this.pageIndex=this.maxPage,this.refreshPageLabel(),e.setPage(this.pageIndex),e.show()},n.onBtnRightClick=function(){var e=this.currentPage.getComponent(D);this.pageIndex>=this.maxPage?this.pageIndex=0:this.pageIndex++,this.refreshPageLabel(),e.setPage(this.pageIndex),e.show()},t}(C)).prototype,"lbGold",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(M.prototype,"nodeGet",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(M.prototype,"nodeGold",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(M.prototype,"nodeBuy",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(M.prototype,"nodeGo",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(M.prototype,"lbDesc",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(M.prototype,"lbPrice",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=n(M.prototype,"lbGo",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=n(M.prototype,"nodeCarParent",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(M.prototype,"nodePages",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=n(M.prototype,"pfPage",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=n(M.prototype,"spCarBlack",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=n(M.prototype,"lbPage",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=M))||H)),s._RF.pop()}}}));

System.register("chunks:///ui/signIn/signInItem.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/clientEvent.js","../../framework/resourceUtil.js","../../framework/constant.js","../../framework/localConfig.js","../../framework/playerData.js","../../framework/uiManager.js","../../logic/gameLogic.js"],(function(e,i){var t,n,o,r,s,a,l,c,u,I,d,f,p,h,m,g,_,S,R,b,v,A,D,E,w,N,T,y,F,L,C,G,k,B,U,W,z,P,V,j,Y,O,H,q,x;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_dec8:void 0,_dec9:void 0,_dec10:void 0,_dec11:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_descriptor8:void 0,_descriptor9:void 0,_descriptor10:void 0,_temp:void 0}),{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.defineProperty},function(e){a=e.cclegacy,l=e._decorator,c=e.SpriteFrame,u=e.SpriteComponent,I=e.Node,d=e.LabelComponent,f=e.AnimationComponent,p=e.Component},function(e){h=e.clientEvent},function(e){m=e.resourceUtil},function(e){g=e.constant},function(e){_=e.localConfig},function(e){S=e.playerData},function(e){R=e.uiManager},function(e){b=e.gameLogic}],execute:function(){a._RF.push({},"8a6efh8jF9Js7ZZXyAL57KG","signInItem",void 0),q=l.ccclass,x=l.property,e("signInItem",(v=q("signInItem"),A=x(c),D=x(c),E=x(u),w=x(c),N=x(I),T=x(I),y=x(I),F=x(d),L=x(I),C=x(d),v((B=t((k=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return i=e.call.apply(e,[this].concat(n))||this,o(r(i),"sfBgBlue",B,r(i)),o(r(i),"sfYellow",U,r(i)),o(r(i),"spReward",W,r(i)),o(r(i),"sfGold",z,r(i)),o(r(i),"nodeTick",P,r(i)),o(r(i),"nodeBtnFillSign",V,r(i)),o(r(i),"nodeBtnAfterFillSign",j,r(i)),o(r(i),"lbDayIndex",Y,r(i)),o(r(i),"nodeLight",O,r(i)),o(r(i),"lbValue",H,r(i)),s(r(i),"_parent",null),s(r(i),"itemInfo",null),s(r(i),"isHadCar",null),i}n(i,e);var t=i.prototype;return t.start=function(){},t.init=function(e,i){this._parent=i,this.itemInfo=e,this.lbValue.string=e.rewardType===g.REWARD_TYPE.CAR?"":String(e.amount),this.lbDayIndex.string=String(e.ID),this.setIcon(e.rewardType),this.setStatus(e.status),this.node.getComponent(u).spriteFrame=Number(e.ID)>=7?this.sfBgBlue:this.sfYellow},t.setIcon=function(e){switch(e){case g.REWARD_TYPE.DIAMOND:break;case g.REWARD_TYPE.GOLD:this.spReward.spriteFrame=this.sfGold;break;case g.REWARD_TYPE.CAR:var i=_.instance.queryByID("car",this.itemInfo.amount).model;S.instance.isHadCarAndDuringPeriod(this.itemInfo.amount)?(this.spReward.spriteFrame=this.sfGold,2==this.itemInfo.ID?this.lbValue.string=String(g.GOLD_REWARD.SECOND):7==this.itemInfo.ID&&(this.lbValue.string=String(g.GOLD_REWARD.SEVENT))):m.setCarIcon(i,this.spReward,!1,(function(){}))}},t.setStatus=function(e){switch(e){case g.SIGNIN_REWARD_STATUS.RECEIVED:this.showItemUI(!1,!0,!1,!1);break;case g.SIGNIN_REWARD_STATUS.RECEIVABLE:this.showItemUI(!0,!1,!1,!1);break;case g.SIGNIN_REWARD_STATUS.UNRECEIVABLE:this.showItemUI(!1,!1,!1,!1);break;case g.SIGNIN_REWARD_STATUS.FILL_SIGNIN:this.showItemUI(!1,!1,!0,!1);break;case g.SIGNIN_REWARD_STATUS.AFTER_FILL_SIGNIN:this.showItemUI(!0,!1,!1,!0)}},t.showItemUI=function(e,i,t,n){this.nodeLight.active=e;var o=this.nodeLight.getComponent(f);e?o.play():o.stop(),this.nodeTick.active=i,this.nodeBtnFillSign.active=t,this.nodeBtnAfterFillSign.active=n},t.onBtnAfterFillSignClick=function(){this.itemInfo.status!==g.SIGNIN_REWARD_STATUS.AFTER_FILL_SIGNIN&&this.itemInfo.status!==g.SIGNIN_REWARD_STATUS.RECEIVABLE||this._parent.receiveReward(this.itemInfo,!1,this.markReceived.bind(this))},t.markReceived=function(){this.itemInfo.status=g.SIGNIN_REWARD_STATUS.RECEIVED,this.setStatus(this.itemInfo.status),2!==this.itemInfo.ID&&7!==this.itemInfo.ID||this.isHadCar||S.instance.updateDictGetCarTime(this.itemInfo.amount),this.itemInfo.ID&&(S.instance.updateSignInReceivedDays(this.itemInfo.ID),h.dispatchEvent("updateSignIn")),this.close()},t.close=function(){R.instance.shiftFromPopupSeq("common/showReward"),S.instance.getSignInReceivedInfo().isAllReceived?R.instance.shiftFromPopupSeq("common/showReward"):R.instance.pushToPopupSeq("signIn/signIn","signIn",{})},t.markAfterFillSignIn=function(){this.itemInfo.status=g.SIGNIN_REWARD_STATUS.AFTER_FILL_SIGNIN,this.setStatus(this.itemInfo.status),S.instance.updateSignInFillSignInDays(this.itemInfo.ID,!1)},t.onBtnFillSignInClick=function(){var e=this;b.openReward(g.SHARE_FUNCTION.FILL_SIGNIN,(function(i){i||e.markAfterFillSignIn()}))},i}(p)).prototype,"sfBgBlue",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(k.prototype,"sfYellow",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(k.prototype,"spReward",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(k.prototype,"sfGold",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(k.prototype,"nodeTick",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(k.prototype,"nodeBtnFillSign",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(k.prototype,"nodeBtnAfterFillSign",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(k.prototype,"lbDayIndex",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(k.prototype,"nodeLight",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(k.prototype,"lbValue",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=k))||G)),a._RF.pop()}}}));

System.register("chunks:///ui/signIn/signIn.js",["../../_virtual/_rollupPluginBabelHelpers.js","cc","../../framework/clientEvent.js","../../framework/constant.js","../../framework/util.js","../../framework/localConfig.js","../../framework/playerData.js","../../i18nMaster/runtime-scripts/LanguageData.js","../../framework/uiManager.js","../../logic/gameLogic.js","./signInItem.js"],(function(e,i){var n,t,r,o,a,c,s,d,l,u,v,p,I,f,R,h,g,m,y,b,S,_,D,B,N,w,T,E,A,C,G,k,F,L,z,P,W,U,j,O,V,Y,H,q,M,x,J,K,Q,X,Z,$,ee,ie,ne;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_dec8:void 0,_dec9:void 0,_dec10:void 0,_dec11:void 0,_dec12:void 0,_dec13:void 0,_dec14:void 0,_dec15:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_descriptor8:void 0,_descriptor9:void 0,_descriptor10:void 0,_descriptor11:void 0,_descriptor12:void 0,_descriptor13:void 0,_descriptor14:void 0,_temp:void 0}),{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.defineProperty},function(e){c=e.cclegacy,s=e._decorator,d=e.Node,l=e.SpriteComponent,u=e.SpriteFrame,v=e.Prefab,p=e.ButtonComponent,I=e.Component},function(e){f=e.clientEvent},function(e){R=e.constant},function(e){h=e.util},function(e){g=e.localConfig},function(e){m=e.playerData},function(e){y=e.default},function(e){b=e.uiManager},function(e){S=e.gameLogic},function(e){_=e.signInItem}],execute:function(){c._RF.push({},"9d016bBiB5J1prtR6VcBPd4","signIn",void 0),ie=s.ccclass,ne=s.property,e("signIn",(D=ie("signIn"),B=ne(d),N=ne(d),w=ne(d),T=ne(d),E=ne(d),A=ne(d),C=ne(l),G=ne(l),k=ne(u),F=ne(u),L=ne(u),z=ne(u),P=ne(d),W=ne(v),D((O=n((j=function(e){function i(){for(var i,n=arguments.length,t=new Array(n),c=0;c<n;c++)t[c]=arguments[c];return i=e.call.apply(e,[this].concat(t))||this,r(o(i),"ndBtnNormal",O,o(i)),r(o(i),"ndBtnDouble",V,o(i)),r(o(i),"ndBtnReceive",Y,o(i)),r(o(i),"ndReceiveIconn",H,o(i)),r(o(i),"ndBtnClose",q,o(i)),r(o(i),"ndBtnNotYet",M,o(i)),r(o(i),"spDoubleBtnIcon",x,o(i)),r(o(i),"spReceiveBtnIcon",J,o(i)),r(o(i),"sfBlue",K,o(i)),r(o(i),"sfGray",Q,o(i)),r(o(i),"sfVideo",X,o(i)),r(o(i),"sfShare",Z,o(i)),r(o(i),"arrNodeDay",$,o(i)),r(o(i),"pbSignInItem",ee,o(i)),a(o(i),"currentDay",void 0),a(o(i),"arrReceived",void 0),a(o(i),"arrAfterFillSignIn",void 0),a(o(i),"isTodayReceived",void 0),a(o(i),"isAllReceived",void 0),a(o(i),"arrSignInItemScript",void 0),a(o(i),"currentReward",void 0),a(o(i),"currentRewardType",void 0),a(o(i),"isHadCar",void 0),a(o(i),"createDate",void 0),a(o(i),"getCarDate",void 0),i}t(i,e);var n=i.prototype;return n.start=function(){},n.show=function(){m.instance.updateSignInCurrentDay();var e=m.instance.playerInfo.signInInfo;this.currentDay=e.currentDay,this.arrReceived=e.receivedDays,this.arrAfterFillSignIn=e.afterFillSignInDays,S.updateRewardIcon(R.SHARE_FUNCTION.SIGNIN,this.spDoubleBtnIcon),S.updateRewardIcon(R.SHARE_FUNCTION.SIGNIN,this.spReceiveBtnIcon),this.showSignInInfo(),this.setButtonStyle(),this.ndReceiveIconn.active=!0},n.setButtonStyle=function(){var e=m.instance.getSignInReceivedInfo();this.isTodayReceived=e.isTodayReceived,this.isAllReceived=e.isAllReceived,this.ndBtnDouble.getComponent(l).spriteFrame=this.isTodayReceived?this.sfGray:this.sfBlue,this.ndBtnDouble.getComponent(p).interactable=!this.isTodayReceived,this.ndBtnReceive.getComponent(l).spriteFrame=this.isTodayReceived?this.sfGray:this.sfBlue,this.ndBtnReceive.getComponent(p).interactable=!this.isTodayReceived;var i=g.instance.getTableArr("signIn");this.currentReward=i[this.currentDay-1],this.currentRewardType=this.currentReward.rewardType,this.currentRewardType===R.REWARD_TYPE.CAR?m.instance.isHadCarAndDuringPeriod(this.currentReward.amount)?(this.ndBtnDouble.active=!0,this.ndBtnReceive.active=!1,this.ndBtnNormal.active=!this.isTodayReceived,this.ndBtnNotYet.active=!1):(this.ndBtnDouble.active=!1,this.ndBtnReceive.active=!0,this.ndBtnNormal.active=!1,this.ndBtnNotYet.active=!this.isTodayReceived):(this.ndBtnDouble.active=!0,this.ndBtnReceive.active=!1,this.ndBtnNormal.active=!this.isTodayReceived,this.ndBtnNotYet.active=!1)},n.showSignInInfo=function(){this.arrSignInItemScript=[];for(var e=g.instance.getTableArr("signIn"),i=0;i<e.length;i++){var n=e[i].ID,t=!!this.arrReceived.includes(n);n<=this.currentDay?(e[i].status=t?R.SIGNIN_REWARD_STATUS.RECEIVED:R.SIGNIN_REWARD_STATUS.RECEIVABLE,e[i].status===R.SIGNIN_REWARD_STATUS.RECEIVABLE&&n<this.currentDay&&(e[i].status=R.SIGNIN_REWARD_STATUS.FILL_SIGNIN,this.arrAfterFillSignIn.includes(n)&&(e[i].status=R.SIGNIN_REWARD_STATUS.AFTER_FILL_SIGNIN))):e[i].status=R.SIGNIN_REWARD_STATUS.UNRECEIVABLE;var r=this.arrNodeDay[i],o=null;r.getChildByName("signInItem")?o=r.getChildByName("signInItem"):(o=cc.instantiate(this.pbSignInItem),r.addChild(o));var a=o.getComponent(_);a.init(e[i],this),this.arrSignInItemScript.includes(a)||this.arrSignInItemScript.push(a)}},n.receiveReward=function(e,i,n){var t=e.ID;if(!(this.currentDay<t)){var r=y.t("showReward.signinReward"),o=h.clone(e);if(2==e.ID||7==e.ID){var a=g.instance.queryByID("car",e.amount);o.ID=a.ID,-1!==m.instance.playerInfo.cars.indexOf(a.ID)&&(o.rewardType=R.REWARD_TYPE.GOLD,o.amount=2==e.ID?R.GOLD_REWARD.SECOND:R.GOLD_REWARD.SEVENT)}if(o.amount=i?o.amount*=2:o.amount,b.instance.shiftFromPopupSeq("signIn/signIn"),o.rewardType===R.REWARD_TYPE.GOLD)return m.instance.updatePlayerInfo("gold",o.amount),S.showFlyReward(R.REWARD_TYPE.GOLD,(function(){f.dispatchEvent("updateGold")})),void(n&&n());b.instance.pushToPopupSeq("common/showReward","showReward",[o,!1,r,n])}},n.receiveClick=function(e){for(var i=this,n=function(n){var t=i.arrSignInItemScript[n];if(t.itemInfo.status===R.SIGNIN_REWARD_STATUS.RECEIVABLE)return t._parent.receiveReward(t.itemInfo,e,(function(){t.markReceived()})),"break"},t=0;t<this.arrSignInItemScript.length;t++){if("break"===n(t))break}},n.onBtnDoubleClick=function(){var e=this;S.openReward(R.SHARE_FUNCTION.SIGNIN,(function(i){i||e.receiveClick(!0)}))},n.onBtnNormalClick=function(){this.receiveClick(!1)},n.onBtnReceiveClick=function(){var e=this;S.openReward(R.SHARE_FUNCTION.SIGNIN,(function(i){i||e.receiveClick(!1)}))},n.onBtnCloseClick=function(){b.instance.shiftFromPopupSeq("signIn/signIn")},i}(I)).prototype,"ndBtnNormal",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(j.prototype,"ndBtnDouble",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=n(j.prototype,"ndBtnReceive",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(j.prototype,"ndReceiveIconn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(j.prototype,"ndBtnClose",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(j.prototype,"ndBtnNotYet",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(j.prototype,"spDoubleBtnIcon",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(j.prototype,"spReceiveBtnIcon",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(j.prototype,"sfBlue",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=n(j.prototype,"sfGray",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(j.prototype,"sfVideo",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=n(j.prototype,"sfShare",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(j.prototype,"arrNodeDay",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=n(j.prototype,"pbSignInItem",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=j))||U)),c._RF.pop()}}}));

System.register("chunks:///_virtual/main",["../fight/fightConstants.js","../framework/oneToMultiListener.js","../framework/clientEvent.js","../framework/configuration.js","../framework/resourceUtil.js","../framework/lodash.js","../framework/audioManager.js","../framework/constant.js","../framework/poolManager.js","../fight/car.js","../fight/follow.js","../fight/roadPoint.js","../framework/util.js","../framework/csvManager.js","../framework/localConfig.js","../framework/playerData.js","../fight/carManager.js","../fight/customerManager.js","../fight/effectManager.js","../i18nMaster/runtime-scripts/polyglot.min.js","../i18nMaster/runtime-scripts/LanguageData.js","../fight/fightMap.js","../ui/common/tips.js","../framework/uiManager.js","../ui/main/flyRewardItem.js","../ui/main/flyReward.js","../logic/gameLogic.js","../ui/common/updateValueLabel.js","../ui/common/loading.js","../ui/fight/fightCanvas.js","../fight/fightManager.js","../framework/eventListener.js","../i18nMaster/i18n/en.js","../i18nMaster/i18n/zh.js","../i18nMaster/runtime-scripts/LocalizedLabel.js","../i18nMaster/runtime-scripts/SpriteFrameSet.js","../i18nMaster/runtime-scripts/LocalizedSprite.js","../main.js","../ui/common/blockInputEvent.js","../ui/common/btnAdapter.js","../ui/common/showReward.js","../ui/fight/balance.js","../ui/fight/clickBox.js","../ui/fight/fightUI.js","../ui/fight/revive.js","../ui/lottery/lotteryItem.js","../ui/lottery/lottery.js","../ui/main/invincible.js","../ui/main/mainUI.js","../ui/main/setting.js","../ui/main/trial.js","../ui/online/online.js","../ui/online/onlineDouble.js","../ui/shop/shopItem.js","../ui/shop/shopPage.js","../ui/shop/shop.js","../ui/signIn/signInItem.js","../ui/signIn/signIn.js"],(function(n,i){return{setters:[function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){}],execute:function(){}}}));

(function(r) {
  r('project:///assets/script/fight/fightConstants.js', 'chunks:///fight/fightConstants.js');
  r('project:///assets/script/framework/oneToMultiListener.js', 'chunks:///framework/oneToMultiListener.js');
  r('project:///assets/script/framework/clientEvent.js', 'chunks:///framework/clientEvent.js');
  r('project:///assets/script/framework/configuration.js', 'chunks:///framework/configuration.js');
  r('project:///assets/script/framework/resourceUtil.js', 'chunks:///framework/resourceUtil.js');
  r('project:///assets/script/framework/lodash.js', 'chunks:///framework/lodash.js');
  r('project:///assets/script/framework/audioManager.js', 'chunks:///framework/audioManager.js');
  r('project:///assets/script/framework/constant.js', 'chunks:///framework/constant.js');
  r('project:///assets/script/framework/poolManager.js', 'chunks:///framework/poolManager.js');
  r('project:///assets/script/fight/car.js', 'chunks:///fight/car.js');
  r('project:///assets/script/fight/follow.js', 'chunks:///fight/follow.js');
  r('project:///assets/script/fight/roadPoint.js', 'chunks:///fight/roadPoint.js');
  r('project:///assets/script/framework/util.js', 'chunks:///framework/util.js');
  r('project:///assets/script/framework/csvManager.js', 'chunks:///framework/csvManager.js');
  r('project:///assets/script/framework/localConfig.js', 'chunks:///framework/localConfig.js');
  r('project:///assets/script/framework/playerData.js', 'chunks:///framework/playerData.js');
  r('project:///assets/script/fight/carManager.js', 'chunks:///fight/carManager.js');
  r('project:///assets/script/fight/customerManager.js', 'chunks:///fight/customerManager.js');
  r('project:///assets/script/fight/effectManager.js', 'chunks:///fight/effectManager.js');
  r('project:///assets/script/i18nMaster/runtime-scripts/polyglot.min.js', 'chunks:///i18nMaster/runtime-scripts/polyglot.min.js');
  r('project:///assets/script/i18nMaster/runtime-scripts/LanguageData.js', 'chunks:///i18nMaster/runtime-scripts/LanguageData.js');
  r('project:///assets/script/fight/fightMap.js', 'chunks:///fight/fightMap.js');
  r('project:///assets/script/ui/common/tips.js', 'chunks:///ui/common/tips.js');
  r('project:///assets/script/framework/uiManager.js', 'chunks:///framework/uiManager.js');
  r('project:///assets/script/ui/main/flyRewardItem.js', 'chunks:///ui/main/flyRewardItem.js');
  r('project:///assets/script/ui/main/flyReward.js', 'chunks:///ui/main/flyReward.js');
  r('project:///assets/script/logic/gameLogic.js', 'chunks:///logic/gameLogic.js');
  r('project:///assets/script/ui/common/updateValueLabel.js', 'chunks:///ui/common/updateValueLabel.js');
  r('project:///assets/script/ui/common/loading.js', 'chunks:///ui/common/loading.js');
  r('project:///assets/script/ui/fight/fightCanvas.js', 'chunks:///ui/fight/fightCanvas.js');
  r('project:///assets/script/fight/fightManager.js', 'chunks:///fight/fightManager.js');
  r('project:///assets/script/framework/eventListener.js', 'chunks:///framework/eventListener.js');
  r('project:///assets/script/i18nMaster/i18n/en.js', 'chunks:///i18nMaster/i18n/en.js');
  r('project:///assets/script/i18nMaster/i18n/zh.js', 'chunks:///i18nMaster/i18n/zh.js');
  r('project:///assets/script/i18nMaster/runtime-scripts/LocalizedLabel.js', 'chunks:///i18nMaster/runtime-scripts/LocalizedLabel.js');
  r('project:///assets/script/i18nMaster/runtime-scripts/SpriteFrameSet.js', 'chunks:///i18nMaster/runtime-scripts/SpriteFrameSet.js');
  r('project:///assets/script/i18nMaster/runtime-scripts/LocalizedSprite.js', 'chunks:///i18nMaster/runtime-scripts/LocalizedSprite.js');
  r('project:///assets/script/main.js', 'chunks:///main.js');
  r('project:///assets/script/ui/common/blockInputEvent.js', 'chunks:///ui/common/blockInputEvent.js');
  r('project:///assets/script/ui/common/btnAdapter.js', 'chunks:///ui/common/btnAdapter.js');
  r('project:///assets/script/ui/common/showReward.js', 'chunks:///ui/common/showReward.js');
  r('project:///assets/script/ui/fight/balance.js', 'chunks:///ui/fight/balance.js');
  r('project:///assets/script/ui/fight/clickBox.js', 'chunks:///ui/fight/clickBox.js');
  r('project:///assets/script/ui/fight/fightUI.js', 'chunks:///ui/fight/fightUI.js');
  r('project:///assets/script/ui/fight/revive.js', 'chunks:///ui/fight/revive.js');
  r('project:///assets/script/ui/lottery/lotteryItem.js', 'chunks:///ui/lottery/lotteryItem.js');
  r('project:///assets/script/ui/lottery/lottery.js', 'chunks:///ui/lottery/lottery.js');
  r('project:///assets/script/ui/main/invincible.js', 'chunks:///ui/main/invincible.js');
  r('project:///assets/script/ui/main/mainUI.js', 'chunks:///ui/main/mainUI.js');
  r('project:///assets/script/ui/main/setting.js', 'chunks:///ui/main/setting.js');
  r('project:///assets/script/ui/main/trial.js', 'chunks:///ui/main/trial.js');
  r('project:///assets/script/ui/online/online.js', 'chunks:///ui/online/online.js');
  r('project:///assets/script/ui/online/onlineDouble.js', 'chunks:///ui/online/onlineDouble.js');
  r('project:///assets/script/ui/shop/shopItem.js', 'chunks:///ui/shop/shopItem.js');
  r('project:///assets/script/ui/shop/shopPage.js', 'chunks:///ui/shop/shopPage.js');
  r('project:///assets/script/ui/shop/shop.js', 'chunks:///ui/shop/shop.js');
  r('project:///assets/script/ui/signIn/signInItem.js', 'chunks:///ui/signIn/signInItem.js');
  r('project:///assets/script/ui/signIn/signIn.js', 'chunks:///ui/signIn/signIn.js');
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});