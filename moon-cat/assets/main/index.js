System.register("chunks:///_virtual/BattleData.ts",["cc"],(function(e){"use strict";var _;return{setters:[function(e){_=e.cclegacy}],execute:function(){_._RF.push({},"1241cf+PwhDqqxdfHVeuz4N","BattleData",void 0);e("BattleData",{teams:[{members:[{index:0,id:101,row:1,col:1,hp:6120,base_hp:6120,speed:34,move:1,cat_class:1,skills:[{id:"MAGE_6_1",type:5,percent_damage:100,is_used:!1,skill_level:1,idx:0,skill_faction:1},{id:"ATTACKER_2_1",type:1,percent_damage:260,is_used:!1,skill_level:1,idx:1,skill_faction:1},{id:"ATTACKER_5_1",type:1,percent_damage:200,is_used:!1,skill_level:1,idx:2,skill_faction:1}],role:2,passive_skill:{id:"UNIVERSAL_1_0",level:4}},{index:1,id:102,row:1,col:2,hp:6120,base_hp:6120,speed:34,move:1,cat_class:1,skills:[{id:"TANKER_5_3",type:1,percent_damage:300,is_used:!1,skill_level:1,idx:0,skill_faction:1},{id:"MAGE_2_1",type:4,percent_damage:200,is_used:!1,skill_level:2,idx:1,skill_faction:1},{id:"MAGE_5_2",type:5,percent_damage:180,is_used:!1,skill_level:1,idx:2,skill_faction:1}],role:2,passive_skill:{}},{index:2,id:103,row:3,col:2,hp:6120,base_hp:6120,speed:34,move:1,cat_class:1,skills:[{id:"UNIVERSAL_5_1",type:1,percent_damage:150,is_used:!1,skill_level:3,idx:0,skill_faction:1},{id:"TANKER_6_2",type:1,percent_damage:200,is_used:!1,skill_level:1,idx:1,skill_faction:1},{id:"TANKER_6_3",type:1,percent_damage:250,is_used:!1,skill_level:1,idx:2,skill_faction:1}],role:2,passive_skill:{id:"UNIVERSAL_3_0",level:4}}],name:"BOMIPROCUTE"},{members:[{index:3,id:404,row:2,col:2,hp:6120,base_hp:6120,speed:34,move:1,cat_class:1,skills:[{id:"MAGE_6_1",type:5,percent_damage:100,is_used:!1,skill_level:1,idx:0,skill_faction:1},{id:"ATTACKER_2_1",type:1,percent_damage:260,is_used:!1,skill_level:1,idx:1,skill_faction:1},{id:"ATTACKER_5_1",type:1,percent_damage:200,is_used:!1,skill_level:1,idx:2,skill_faction:1}],role:4,passive_skill:{id:"UNIVERSAL_3_0",level:4}},{index:4,id:505,row:3,col:2,hp:6120,base_hp:6120,speed:34,move:1,cat_class:1,skills:[{id:"MAGE_2_2",type:4,percent_damage:200,is_used:!1,skill_level:3,idx:0,skill_faction:1},{id:"ATTACKER_5_1",type:1,percent_damage:200,is_used:!1,skill_level:1,idx:1,skill_faction:1},{id:"ATTACKER_2_2",type:1,percent_damage:360,is_used:!1,skill_level:1,idx:2,skill_faction:1}],role:4,passive_skill:{id:"MAGE_3_0",level:4}},{index:5,id:606,row:1,col:1,hp:6120,base_hp:6120,speed:34,move:1,cat_class:1,skills:[{id:"MAGE_6_1",type:5,percent_damage:100,is_used:!1,skill_level:1,idx:0,skill_faction:1},{id:"ATTACKER_3_1",type:1,percent_damage:200,is_used:!1,skill_level:1,idx:1,skill_faction:1},{id:"ATTACKER_5_1",type:1,percent_damage:200,is_used:!1,skill_level:1,idx:2,skill_faction:1}],role:4,passive_skill:{id:"UNIVERSAL_1_0",level:4}}],name:"ALAMITUOG"}],winner:1,loser:2,turns:[{action:{},target_before:[{index:0,effects:{id:"UNIVERSAL_1_0",percent:9.8}},{index:2,effects:{id:"UNIVERSAL_3_0",percent:9}},{index:3,effects:{id:"UNIVERSAL_3_0",percent:9}},{index:3,effects:{id:"MAGE_3_0",percent:6}},{index:4,effects:{id:"MAGE_3_0",percent:6}},{index:5,effects:{id:"MAGE_3_0",percent:6}},{index:5,effects:{id:"UNIVERSAL_1_0",percent:9.8}}],teams:[[{index:0,hp:6120,base_hp:6120,speed:34,effects:[{id:"UNIVERSAL_1_0",percent:9.8}]},{index:1,hp:6120,base_hp:6120,speed:34,effects:[]},{index:2,hp:6120,base_hp:6120,speed:34,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,hp:6120,base_hp:6120,speed:34,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,hp:6120,base_hp:6120,speed:34,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,hp:6120,base_hp:6120,speed:34,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:0},{attacker:[{index:3}],action:{id:"ATTACKER_5_1",move:0},target:[{index:0,type:"BULLET",effect:[{value:1878}]}],teams:[[{index:0,base_hp:6120,hp:4242,effects:[{id:"UNIVERSAL_1_0",percent:9.8}]},{index:1,base_hp:6120,hp:6120,effects:[]},{index:2,base_hp:6120,hp:6120,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:6120,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:6120,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:6120,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:1},{attacker:[{index:0}],action:{id:"ATTACKER_5_1",move:0},target:[{index:5,type:"BULLET",effect:[{value:0}]},{index:5,type:"DODGE",effects:[{id:"DODGE",turn:0}]}],teams:[[{index:0,base_hp:6120,hp:4242,effects:[{id:"UNIVERSAL_1_0",percent:9.8}]},{index:1,base_hp:6120,hp:6120,effects:[]},{index:2,base_hp:6120,hp:6120,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:6120,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:6120,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:6120,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:2},{attacker:[{index:4}],action:{id:"ATTACKER_5_1",move:0},target:[{index:0,type:"BULLET",effect:[{value:1723}]}],teams:[[{index:0,base_hp:6120,hp:2519,effects:[{id:"UNIVERSAL_1_0",percent:9.8}]},{index:1,base_hp:6120,hp:6120,effects:[]},{index:2,base_hp:6120,hp:6120,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:6120,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:6120,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:6120,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:3},{attacker:[{index:1}],action:{id:"MAGE_2_1",move:0},target:[{index:0,type:"HEAL",effect:[{value:415}]}],teams:[[{index:0,base_hp:6120,hp:2934,effects:[{id:"UNIVERSAL_1_0",percent:9.8}]},{index:1,base_hp:6120,hp:6120,effects:[]},{index:2,base_hp:6120,hp:6120,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:6120,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:6120,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:6120,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:4},{attacker:[{index:5}],action:{id:"ATTACKER_5_1",move:0},target:[{index:0,type:"BULLET",effect:[{value:0}]},{index:0,type:"DODGE",effects:[{id:"DODGE",turn:0}]}],teams:[[{index:0,base_hp:6120,hp:2934,effects:[{id:"UNIVERSAL_1_0",percent:9.8}]},{index:1,base_hp:6120,hp:6120,effects:[]},{index:2,base_hp:6120,hp:6120,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:6120,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:6120,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:6120,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:5},{attacker:[{index:2}],action:{id:"TANKER_6_2",move:0},target:[{index:5,type:"BULLET",effect:[{value:845},{value:865}]}],teams:[[{index:0,base_hp:6120,hp:2934,effects:[{id:"UNIVERSAL_1_0",percent:9.8}]},{index:1,base_hp:6120,hp:6120,effects:[]},{index:2,base_hp:6120,hp:5508,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:6120,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:6120,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:4410,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:6},{attacker:[{index:3}],action:{id:"ATTACKER_2_1",move:0},target:[{index:0,type:"BULLET",effect:[{value:0}]},{index:0,type:"DODGE",effects:[{id:"DODGE",turn:0}]}],teams:[[{index:0,base_hp:6120,hp:2934,effects:[{id:"UNIVERSAL_1_0",percent:9.8}]},{index:1,base_hp:6120,hp:6120,effects:[]},{index:2,base_hp:6120,hp:5508,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:6120,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:6120,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:4410,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:7},{attacker:[{index:0}],action:{id:"ATTACKER_2_1",move:0},target:[{index:5,type:"BULLET",effect:[{value:1268}]}],teams:[[{index:0,base_hp:6120,hp:2934,effects:[{id:"UNIVERSAL_1_0",percent:9.8}]},{index:1,base_hp:6120,hp:6120,effects:[]},{index:2,base_hp:6120,hp:5508,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:6120,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:6120,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:3142,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:8},{attacker:[{index:4}],action:{id:"ATTACKER_2_2",move:0},target:[{index:0,type:"BULLET",effect:[{value:875},{value:895}]}],teams:[[{index:0,base_hp:6120,hp:1164,effects:[{id:"UNIVERSAL_1_0",percent:9.8}]},{index:1,base_hp:6120,hp:6120,effects:[]},{index:2,base_hp:6120,hp:5508,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:6120,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:6120,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:3142,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:9},{attacker:[{index:1}],action:{id:"MAGE_5_2",move:0},target:[{index:3,type:"BULLET",effect:[{value:307}]},{index:4,type:"BULLET",effect:[{value:307}]},{index:5,type:"BULLET",effect:[{value:538}],is_crit:!0}],teams:[[{index:0,base_hp:6120,hp:1164,effects:[{id:"UNIVERSAL_1_0",percent:9.8}]},{index:1,base_hp:6120,hp:6120,effects:[]},{index:2,base_hp:6120,hp:5508,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:5813,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:5813,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:2604,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:10},{attacker:[{index:5}],action:{id:"ATTACKER_3_1",move:0},target:[{index:0,type:"BULLET",effect:[{value:1467}]}],teams:[[{index:1,base_hp:6120,hp:6120,effects:[]},{index:2,base_hp:6120,hp:5508,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:5813,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:5813,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:2604,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:11},{attacker:[{index:2}],action:{id:"TANKER_6_3",move:0},target:[{index:5,type:"BULLET",effect:[{value:0},{value:0},{value:0}]},{index:5,type:"DODGE",effects:[{id:"DODGE",turn:0}]}],teams:[[{index:1,base_hp:6120,hp:6120,effects:[]},{index:2,base_hp:6120,hp:5508,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:5813,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:5813,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:2604,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:12},{attacker:[{index:3}],action:{id:"MAGE_6_1",move:0},target:[{index:1,type:"BULLET",effect:[{value:457}]},{index:2,type:"BULLET",effect:[{value:450}]}],teams:[[{index:1,base_hp:6120,hp:5663,effects:[]},{index:2,base_hp:6120,hp:5058,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:5813,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:5813,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:2604,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:13},{attacker:[{index:1}],action:{id:"MAGE_5_2",move:0},target:[{index:3,type:"BULLET",effect:[{value:307}]},{index:4,type:"BULLET",effect:[{value:307}]},{index:5,type:"BULLET",effect:[{value:307}]}],teams:[[{index:1,base_hp:6120,hp:5663,effects:[]},{index:2,base_hp:6120,hp:5058,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:5506,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:5506,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:2297,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:14},{attacker:[{index:4}],action:{id:"MAGE_2_2",move:0},target:[{index:5,type:"HEAL",effect:[{value:511}]}],teams:[[{index:1,base_hp:6120,hp:5663,effects:[]},{index:2,base_hp:6120,hp:5058,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:5506,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:5506,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:2808,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:15},{attacker:[{index:2}],action:{id:"TANKER_6_3",move:0},target:[{index:5,type:"BULLET",effect:[{value:492},{value:502},{value:512}]}],teams:[[{index:1,base_hp:6120,hp:5663,effects:[]},{index:2,base_hp:6120,hp:5058,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:5506,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:5506,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:1302,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:16},{attacker:[{index:5}],action:{id:"MAGE_6_1",move:0},target:[{index:1,type:"BULLET",effect:[{value:419}]},{index:2,type:"BULLET",effect:[{value:413}]}],teams:[[{index:1,base_hp:6120,hp:5244,effects:[]},{index:2,base_hp:6120,hp:4645,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:5506,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:5506,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:1302,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:17},{attacker:[{index:1}],action:{id:"MAGE_5_2",move:0},target:[{index:3,type:"BULLET",effect:[{value:307}]},{index:4,type:"BULLET",effect:[{value:307}]},{index:5,type:"BULLET",effect:[{value:307}]}],teams:[[{index:1,base_hp:6120,hp:5244,effects:[]},{index:2,base_hp:6120,hp:4645,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:5199,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:5199,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:995,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:18},{attacker:[{index:3}],action:{id:"ATTACKER_5_1",move:0},target:[{index:1,type:"BULLET",effect:[{value:1878}]}],teams:[[{index:1,base_hp:6120,hp:3366,effects:[]},{index:2,base_hp:6120,hp:4645,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:5199,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:5199,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:995,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:19},{attacker:[{index:2}],action:{id:"TANKER_6_3",move:0},target:[{index:5,type:"BULLET",effect:[{value:0},{value:0},{value:0}]},{index:5,type:"DODGE",effects:[{id:"DODGE",turn:0}]}],teams:[[{index:1,base_hp:6120,hp:3366,effects:[]},{index:2,base_hp:6120,hp:4645,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:5199,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:5199,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:995,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:20},{attacker:[{index:4}],action:{id:"ATTACKER_2_2",move:0},target:[{index:2,type:"BULLET",effect:[{value:862},{value:882}]}],teams:[[{index:1,base_hp:6120,hp:3366,effects:[]},{index:2,base_hp:6120,hp:2901,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:5199,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:5199,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:995,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:21},{attacker:[{index:1}],action:{id:"MAGE_5_2",move:0},target:[{index:3,type:"BULLET",effect:[{value:307}]},{index:4,type:"BULLET",effect:[{value:307}]},{index:5,type:"BULLET",effect:[{value:307}]}],teams:[[{index:1,base_hp:6120,hp:3366,effects:[]},{index:2,base_hp:6120,hp:2901,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:4892,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:4892,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:688,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:22},{attacker:[{index:5}],action:{id:"ATTACKER_5_1",move:0},target:[{index:1,type:"BULLET",effect:[{value:1723}]}],teams:[[{index:1,base_hp:6120,hp:1643,effects:[]},{index:2,base_hp:6120,hp:2901,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:4892,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:4892,effects:[{id:"MAGE_3_0",percent:6}]},{index:5,base_hp:6120,hp:688,effects:[{id:"MAGE_3_0",percent:6},{id:"UNIVERSAL_1_0",percent:9.8}]}]],id:23},{attacker:[{index:2}],action:{id:"TANKER_6_3",move:0},target:[{index:5,type:"BULLET",effect:[{value:492},{value:502},{value:512}]}],teams:[[{index:1,base_hp:6120,hp:1643,effects:[]},{index:2,base_hp:6120,hp:2901,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:4892,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:4892,effects:[{id:"MAGE_3_0",percent:6}]}]],id:24},{attacker:[{index:3}],action:{id:"ATTACKER_2_1",move:0},target:[{index:1,type:"BULLET",effect:[{value:1396}]}],teams:[[{index:1,base_hp:6120,hp:247,effects:[]},{index:2,base_hp:6120,hp:2901,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:4892,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:4892,effects:[{id:"MAGE_3_0",percent:6}]}]],id:25},{attacker:[{index:1}],action:{id:"MAGE_5_2",move:0},target:[{index:3,type:"BULLET",effect:[{value:461}]},{index:4,type:"BULLET",effect:[{value:461}]}],teams:[[{index:1,base_hp:6120,hp:247,effects:[]},{index:2,base_hp:6120,hp:2901,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:4431,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:4431,effects:[{id:"MAGE_3_0",percent:6}]}]],id:26},{attacker:[{index:4}],action:{id:"ATTACKER_5_1",move:0},target:[{index:2,type:"BULLET",effect:[{value:1698}]}],teams:[[{index:1,base_hp:6120,hp:247,effects:[]},{index:2,base_hp:6120,hp:1203,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:4431,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:4431,effects:[{id:"MAGE_3_0",percent:6}]}]],id:27},{attacker:[{index:2}],action:{id:"TANKER_6_3",move:0},target:[{index:4,type:"BULLET",effect:[{value:492},{value:502},{value:512}]},{index:4,type:"SWAP_HP",effect:[{value:2925}]}],teams:[[{index:1,base_hp:6120,hp:247,effects:[]},{index:2,base_hp:6120,hp:2925,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:4431,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:1203,effects:[{id:"MAGE_3_0",percent:6}]}]],id:28},{attacker:[{index:3}],action:{id:"MAGE_6_1",move:0},target:[{index:1,type:"BULLET",effect:[{value:0}]},{index:2,type:"BULLET",effect:[{value:450}]},{index:1,type:"DODGE",effects:[{id:"DODGE",turn:0}]}],teams:[[{index:1,base_hp:6120,hp:247,effects:[]},{index:2,base_hp:6120,hp:2475,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:4431,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:1203,effects:[{id:"MAGE_3_0",percent:6}]}]],id:29},{attacker:[{index:1}],action:{id:"MAGE_5_2",move:0},target:[{index:3,type:"BULLET",effect:[{value:461}]},{index:4,type:"BULLET",effect:[{value:461}]}],teams:[[{index:1,base_hp:6120,hp:247,effects:[]},{index:2,base_hp:6120,hp:2475,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:3970,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:742,effects:[{id:"MAGE_3_0",percent:6}]}]],id:30},{attacker:[{index:4}],action:{id:"MAGE_2_2",move:0},target:[{index:4,type:"HEAL",effect:[{value:165}]}],teams:[[{index:1,base_hp:6120,hp:247,effects:[]},{index:2,base_hp:6120,hp:2475,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:3970,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]},{index:4,base_hp:6120,hp:907,effects:[{id:"MAGE_3_0",percent:6}]}]],id:31},{attacker:[{index:2}],action:{id:"TANKER_6_3",move:0},target:[{index:4,type:"BULLET",effect:[{value:744},{value:754},{value:764}],is_crit:!0}],teams:[[{index:1,base_hp:6120,hp:247,effects:[]},{index:2,base_hp:6120,hp:2475,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:3970,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]}]],id:32},{attacker:[{index:3}],action:{id:"ATTACKER_2_1",move:0},target:[{index:1,type:"BULLET",effect:[{value:1396}]}],teams:[[{index:2,base_hp:6120,hp:2475,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:3970,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]}]],id:33},{attacker:[{index:2}],action:{id:"TANKER_6_3",move:0},target:[{index:3,type:"BULLET",effect:[{value:492},{value:502},{value:512}]}],teams:[[{index:2,base_hp:6120,hp:2475,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:2464,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]}]],id:34},{attacker:[{index:3}],action:{id:"ATTACKER_5_1",move:0},target:[{index:2,type:"BULLET",effect:[{value:1851}]}],teams:[[{index:2,base_hp:6120,hp:624,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:2464,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]}]],id:35},{attacker:[{index:2}],action:{id:"TANKER_6_3",move:0},target:[{index:3,type:"BULLET",effect:[{value:492},{value:502},{value:512}]},{index:3,type:"SWAP_HP",effect:[{value:958}]}],teams:[[{index:2,base_hp:6120,hp:958,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:624,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]}]],id:36},{attacker:[{index:3}],action:{id:"MAGE_6_1",move:0},target:[{index:2,type:"BULLET",effect:[{value:900}]}],teams:[[{index:2,base_hp:6120,hp:58,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[{index:3,base_hp:6120,hp:624,effects:[{id:"UNIVERSAL_3_0",percent:9},{id:"MAGE_3_0",percent:6}]}]],id:37},{attacker:[{index:2}],action:{id:"TANKER_6_3",move:0},target:[{index:3,type:"BULLET",effect:[{value:744},{value:754},{value:764}],is_crit:!0}],teams:[[{index:2,base_hp:6120,hp:58,effects:[{id:"UNIVERSAL_3_0",percent:9}]}],[]],id:38}],total_damage:{team_a:20802,team_b:21613},skill_turn:{team_a:[{id:"ATTACKER_5_1",skill_faction:1},{id:"MAGE_2_1",skill_faction:1},{id:"TANKER_6_2",skill_faction:1},{id:"ATTACKER_2_1",skill_faction:1},{id:"MAGE_5_2",skill_faction:1},{id:"TANKER_6_3",skill_faction:1},{id:"MAGE_5_2",skill_faction:1},{id:"TANKER_6_3",skill_faction:1},{id:"MAGE_5_2",skill_faction:1},{id:"TANKER_6_3",skill_faction:1},{id:"MAGE_5_2",skill_faction:1},{id:"TANKER_6_3",skill_faction:1},{id:"MAGE_5_2",skill_faction:1},{id:"TANKER_6_3",skill_faction:1},{id:"MAGE_5_2",skill_faction:1},{id:"TANKER_6_3",skill_faction:1},{id:"TANKER_6_3",skill_faction:1},{id:"TANKER_6_3",skill_faction:1},{id:"TANKER_6_3",skill_faction:1}],team_b:[{id:"ATTACKER_5_1",skill_faction:1},{id:"ATTACKER_5_1",skill_faction:1},{id:"ATTACKER_5_1",skill_faction:1},{id:"ATTACKER_2_1",skill_faction:1},{id:"ATTACKER_2_2",skill_faction:1},{id:"ATTACKER_3_1",skill_faction:1},{id:"MAGE_6_1",skill_faction:1},{id:"MAGE_2_2",skill_faction:1},{id:"MAGE_6_1",skill_faction:1},{id:"ATTACKER_5_1",skill_faction:1},{id:"ATTACKER_2_2",skill_faction:1},{id:"ATTACKER_5_1",skill_faction:1},{id:"ATTACKER_2_1",skill_faction:1},{id:"ATTACKER_5_1",skill_faction:1},{id:"MAGE_6_1",skill_faction:1},{id:"MAGE_2_2",skill_faction:1},{id:"ATTACKER_2_1",skill_faction:1},{id:"ATTACKER_5_1",skill_faction:1},{id:"MAGE_6_1",skill_faction:1}]},map_id:-1,numRand:11,moon_lit:!1});_._RF.pop()}}}));

System.register("chunks:///_virtual/Blinker.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,n,a,l,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,s=t.Node,c=t.Component}],execute:function(){var o,u,p,h,f;a._RF.push({},"0c13bf66stFypm++oUrz63s","Blinker",void 0);var d,k=l.ccclass,v=l.property;!function(t){t[t.Idle=0]="Idle",t[t.Blink=1]="Blink"}(d||(d={}));t("Blinker",(o=k("Blinker"),u=v({type:s}),o((f=e((h=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,r(e,"target",f,n(e)),e.state=d.Idle,e.time=void 0,e.callback=void 0,e}i(e,t);var a=e.prototype;return a.update=function(t){switch(this.state){case d.Blink:this.time-=t,this.time<=0?(this.state=d.Idle,this.target.active=!0,this.callback()):this.target.active=Math.floor(10*this.time)%2==0}},a.blink=function(t,e){this.time=t,this.state=d.Blink,this.callback=e},e}(c)).prototype,"target",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=h))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonSpeaker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ControllerAudio.ts"],(function(t){"use strict";var i,e,n,r,o,s,a,c,p,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.Sprite,c=t.SpriteFrame,p=t.Component},function(t){u=t.ControllerAudio}],execute:function(){var l,h,f,y,d,g,m;o._RF.push({},"568e5JCUiFPG4ygx9d3e3Qh","ButtonSpeaker",void 0);var b=s.ccclass,S=s.property;t("ButtonSpeaker",(l=b("ButtonSpeaker"),h=S({type:a}),f=S({type:[c]}),l((g=i((d=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,n(i,"icon",g,r(i)),n(i,"sprites",m,r(i)),i.isOn=!1,i}e(i,t);var o=i.prototype;return o.onLoad=function(){this.icon.spriteFrame=this.sprites[this.isOn?1:0]},o.onSwitch=function(){this.isOn=!this.isOn,this.icon.spriteFrame=this.sprites[this.isOn?1:0],u.instance.isEnabled=this.isOn,this.isOn?u.instance.playBgm():u.instance.stopBgm()},i}(p)).prototype,"icon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(d.prototype,"sprites",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=d))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/Cat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpAnimator.ts","./EventManager.ts","./CatHud.ts","./Defines.ts","./Config.ts","./Blinker.ts","./ControllerAudio.ts"],(function(t){"use strict";var i,e,n,a,o,s,r,c,h,l,d,u,m,f,p,v,k,w,A,g,y,C,P;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,r=t.Label,c=t.SpriteFrame,h=t.Vec3,l=t.tween,d=t.randomRange,u=t.randomRangeInt,m=t.Color,f=t.Component},function(t){p=t.SpAnimator,v=t.anm},function(t){k=t.default,w=t.EventName},function(t){A=t.CatHud},function(t){g=t.GameTeam},function(t){y=t.Config},function(t){C=t.Blinker},function(t){P=t.ControllerAudio}],execute:function(){var b,I,S,M,F,B,z,D,x;o._RF.push({},"9c16076taFFsKQU5HuGiyCJ","Cat",void 0);var N,T,_=s.ccclass,H=s.property;!function(t){t[t.Move=0]="Move",t[t.Idle=4]="Idle",t[t.Attack=6]="Attack"}(N||(N={})),function(t){t[t.None=0]="None",t[t.Intro=1]="Intro",t[t.Idle=2]="Idle",t[t.MoveForward=3]="MoveForward",t[t.Attack=4]="Attack",t[t.MoveBackward=5]="MoveBackward",t[t.Dead=6]="Dead"}(T||(T={}));t("Cat",(b=_("Cat"),I=H({type:p}),S=H({type:A}),M=H({type:r}),b((z=i((B=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,n(i,"animator",z,a(i)),n(i,"hud",D,a(i)),n(i,"catName",x,a(i)),i.state=T.None,i.team=void 0,i.direction=1,i.startPosition=void 0,i.hudPosition=void 0,i.recivers=[],i.data=null,i.member=void 0,i}e(i,t);var o=i.prototype;return o.init=function(t,i){for(var e=window.moonCatParser.generateMoonCatSpriteSheet(t.id),n=c.createWithImage(e),a=0;a<8;a++){var o=new v;o.start=8*a,o.end=o.start+8-1,o.x=8,o.y=8,o.frame=.05,o.loop=!0,o.sp=n,this.animator.anms.push(o)}this.animator.Anmimation=N.Idle,this.hud.setInformation(this,t),this.catName.string=this.node.name,this.isTeamA()||(this.animator.node.scale=new h(-1,1,1)),this.node.position=i,this.startPosition=i,this.hudPosition=this.hud.node.position,this.member=t,this.setState(T.Intro)},o.setState=function(t){var i=this,e=this.isTeamA()?1:-1;switch(this.state=t,this.state){case T.Intro:this.node.position=new h(this.startPosition.x-400*e,this.startPosition.y,this.startPosition.z),this.animator.Anmimation=N.Move,l(this.node).to(d(1,2),{position:this.startPosition},{easing:"linear"}).call((function(){i.setState(T.Idle)})).start();break;case T.Idle:this.animator.Anmimation=N.Idle;break;case T.MoveForward:var n=h.add(new h,this.startPosition,new h(e*y.Cat.MoveDistance,0,0));this.animator.Anmimation=N.Move,l(this.node).to(.25,{position:n},{easing:"linear"}).call((function(){i.setState(T.Attack)})).start();break;case T.Attack:var a=window.moonCatParser.getPose(this.member.id);this.hud.node.position=new h(this.hudPosition.x,2==a?70:this.hudPosition.y,this.hudPosition.z),this.animator.Anmimation=N.Attack,this.playAttackSound(),k.instance.emit(w.CatAttack,this,this.recivers,this.data);break;case T.MoveBackward:this.animator.Anmimation=N.Move,l(this.node).to(.25,{position:this.startPosition},{easing:"linear"}).call((function(){i.setState(T.Idle)})).start();break;case T.Dead:this.animator.node.scale=new h(this.isTeamA()?-1:1,1,1),this.animator.Anmimation=N.Move,l(this.node).to(.5,{position:new h(this.startPosition.x-400*e,this.startPosition.y,this.startPosition.z)},{easing:"linear"}).call((function(){i.node.active=!1})).start()}},o.attack=function(t,i){this.recivers=t,this.data=i,this.setState(T.MoveForward)},o.attackComplete=function(){this.hud.node.position=new h(this.hudPosition.x,50,this.hudPosition.z),this.setState(T.MoveBackward)},o.hurt=function(){var t=this;this.node.getComponent(C).blink(.5,(function(){t.hud.hp<=0&&t.setState(T.Dead)}))},o.playAttackSound=function(){var t="audios/attack_"+u(1,4);P.instance.playSfx(t,.5)},o.getFactionBySkillId=function(t){for(var i=0;i<this.member.skills.length;i++){var e=this.member.skills[i];if(e.id.toLowerCase()==t)return e.skill_faction-1}return 0},o.getFactionColorBySkillId=function(t){var i=this.getFactionBySkillId(t);return new m(y.Factions.Colors[i])},o.isTeamA=function(){return this.team==g.TeamA},i}(f)).prototype,"animator",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(B.prototype,"hud",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(B.prototype,"catName",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=B))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/CatHud.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProgressBarHp.ts","./EventManager.ts"],(function(t){"use strict";var e,i,n,a,s,h,o,r,l,p,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){s=t.cclegacy,h=t._decorator,o=t.Label,r=t.Component},function(t){l=t.ProgressBarHp},function(t){p=t.default,c=t.EventName}],execute:function(){var u,f,d,C,S,g,H;s._RF.push({},"f45a4U274xOS5LfkOWBxXpR","CatHud",void 0);var v=h.ccclass,B=h.property;t("CatHud",(u=v("CatHud"),f=B({type:l}),d=B({type:o}),u((g=e((S=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),h=0;h<i;h++)s[h]=arguments[h];return e=t.call.apply(t,[this].concat(s))||this,n(e,"hpBar",g,a(e)),n(e,"hpValue",H,a(e)),e.owner=void 0,e.hp=void 0,e.hpBase=void 0,e}i(e,t);var s=e.prototype;return s.onEnable=function(){p.instance.on(c.CatStatsChanged,this.onCatStatsChanged,this),p.instance.on(c.SkillHit,this.onSkillHit,this),p.instance.on(c.SkillHeal,this.onSkillHeal,this)},s.onDisable=function(){p.instance.off(c.CatStatsChanged,this.onCatStatsChanged,this),p.instance.off(c.SkillHit,this.onSkillHit,this),p.instance.off(c.SkillHeal,this.onSkillHeal,this)},s.onCatStatsChanged=function(t,e){if(this.owner==t){var i=e.hp/e.base_hp;this.hpBar.setProgress(i),this.hp=e.hp,this.hpBase=e.base_hp,this.hpValue.string=this.hp+"/"+this.hpBase}},s.onSkillHit=function(t,e,i,n,a){if(this.owner==i&&"BULLET"==n.type){var s=n.effect[a].value;this.hp-=s,p.instance.emit(c.CatStatsChanged,this.owner,{hp:this.hp,base_hp:this.hpBase})}},s.onSkillHeal=function(t,e,i,n,a){if(this.owner==i&&"HEAL"==n.type){var s=n.effect[a].value;this.hp+=s,this.hp>this.hpBase&&(this.hp=this.hpBase),p.instance.emit(c.CatStatsChanged,this.owner,{hp:this.hp,base_hp:this.hpBase})}},s.setInformation=function(t,e){this.owner=t,this.onCatStatsChanged(this.owner,e)},e}(r)).prototype,"hpBar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(S.prototype,"hpValue",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=S))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/Config.ts",["cc"],(function(e){"use strict";var f;return{setters:[function(e){f=e.cclegacy}],execute:function(){f._RF.push({},"c981bDknhxJArVMwZTIqll1","Config",void 0);e("Config",{BaseSpeed:60,Cat:{MoveSpeed:2,MoveDistance:50},Bullets:{MoveSpeed:10,RotateSpeed:10},Factions:{Colors:["#721b46","#970102","#fe0000","#e69137","#ffff00","#878787","#05ff00","#69a84f","#03fffe","#9fc5e9","#0000fe","#674fa7"]}});f._RF.pop()}}}));

System.register("chunks:///_virtual/ControllerAsset.ts",["cc"],(function(t){"use strict";var e,s,n,r;return{setters:[function(t){e=t.cclegacy,s=t.resources,n=t.SpriteFrame,r=t.Texture2D}],execute:function(){e._RF.push({},"5f4d7nEXZVCNKCwkhfzpUoj","ControllerAsset",void 0);t("default",new(function(){function t(){this.assets={}}var e=t.prototype;return e.load=function(t){var e=this;return new Promise((function(n,r){s.load(t,(function(s,o){s?r(s):(e.assets[t]=o,n(o))}))}))},e.loadDir=function(t){var e=this;return new Promise((function(n,r){s.loadDir(t,(function(s,o){if(s)r(s);else{for(var i=0;i<o.length;i++){var u=o[i].name;""==u&&(u=o[i].data.name),e.assets[t+"/"+u]=o[i]}n(o)}}))}))},e.get=function(t){return this.assets[t]?this.assets[t]:(console.error("Asset "+t+" not found"),this.assets["common/bullet_straight"])},e.getSpriteFrame=function(t){var e=new n,s=new r;return s.image=this.get("sprites/skills/"+t),e.texture=s,e},t}()));e._RF.pop()}}}));

System.register("chunks:///_virtual/ControllerAudio.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ControllerAsset.ts"],(function(t){"use strict";var e,n,i,o,r,l,s,u,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.AudioSource,u=t.Component},function(t){a=t.default}],execute:function(){var c,p,f,y,d,b,h,g;r._RF.push({},"90f10yMMspDyqNfD2dCkWfl","ControllerAudio",void 0);var m=l.ccclass,v=l.property;t("ControllerAudio",(c=m("ControllerAudio"),p=v({type:s}),f=v({type:s}),c(((g=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,i(e,"bgm",b,o(e)),i(e,"sfx",h,o(e)),e.isEnabled=!1,e}n(e,t);var r=e.prototype;return r.onLoad=function(){e.instance=this},r.playBgm=function(){this.isEnabled&&this.bgm.play()},r.stopBgm=function(){this.bgm.stop()},r.playSfx=function(t,e){void 0===e&&(e=1),this.isEnabled&&this.sfx.playOneShot(a.get(t),e)},e}(u)).instance=null,b=e((d=g).prototype,"bgm",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=e(d.prototype,"sfx",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=d))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/ControllerDamage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Damage.ts","./ControllerAsset.ts","./EventManager.ts","./Defines.ts"],(function(t){"use strict";var e,n,o,i,a,l,s,r,c,f;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.instantiate,a=t.Component},function(t){l=t.Damage},function(t){s=t.default},function(t){r=t.default,c=t.EventName},function(t){f=t.SkillType}],execute:function(){var u;n._RF.push({},"050c3jrtBpMm7Y3kf/m0839","ControllerDamage",void 0);var h=o.ccclass;o.property,t("ControllerDamage",h("ControllerDamage")(u=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).damages=[],e}e(n,t);var o=n.prototype;return o.onEnable=function(){r.instance.on(c.SkillHit,this.onSkillHit,this),r.instance.on(c.SkillHeal,this.onSkillHeal,this)},o.onDisable=function(){r.instance.off(c.SkillHit,this.onSkillHit,this),r.instance.off(c.SkillHeal,this.onSkillHeal,this)},o.onSkillHit=function(t,e,n,o){if(o.type==f.Bullet){var i=0;o.effect&&o.effect.forEach((function(t){i+=t.value}));var a=0==i?"Miss":i.toString();this.spawn(n.node.position,a,this.getColorByType(o.type)),o.type==f.Bullet&&n.hurt()}},o.onSkillHeal=function(t,e,n,o){var i=0;o.effect&&o.effect.forEach((function(t){i+=t.value})),this.spawn(n.node.position,i.toString(),this.getColorByType(o.type))},o.spawn=function(t,e,n){var o=this.getPool();if(!o){var a=i(s.get("common/damage"));a.parent=this.node,o=a.getComponent(l),this.damages.push(o)}o.node.position=t,o.node.active=!0,o.show(e,n)},o.getPool=function(){for(var t=0;t<this.damages.length;t++)if(!this.damages[t].node.active)return this.damages[t];return null},o.getColorByType=function(t){return t==f.Heal?"#00FF00":"#FF0000"},n}(a))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/ControllerSkill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./Skill.ts","./Defines.ts","./ControllerAsset.ts"],(function(t){"use strict";var i,n,e,l,s,o,r,c,a,u,f;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,l=t.instantiate,s=t.Component},function(t){o=t.default,r=t.EventName},function(t){c=t.Skill},function(t){a=t.SkillType,u=t.SkillAction},function(t){f=t.default}],execute:function(){var h;n._RF.push({},"5889093fJFKwZiwjeOD4clx","ControllerSkill",void 0);var k=e.ccclass;e.property,t("ControllerSkill",k("ControllerSkill")(h=function(t){function n(){for(var i,n=arguments.length,e=new Array(n),l=0;l<n;l++)e[l]=arguments[l];return(i=t.call.apply(t,[this].concat(e))||this).skills={},i}i(n,t);var e=n.prototype;return e.onEnable=function(){o.instance.on(r.CatAttack,this.onCatAttack,this),o.instance.on(r.SkillHit,this.onSkillHit,this),o.instance.on(r.SkillFinish,this.onSkillFinish,this)},e.onDisable=function(){o.instance.off(r.CatAttack,this.onCatAttack,this),o.instance.off(r.SkillHit,this.onSkillHit,this),o.instance.off(r.SkillFinish,this.onSkillFinish,this)},e.onCatAttack=function(t,i,n){for(var e=this,l=function(l,s){var o=n.action.id.toLowerCase(),r="common/"+n.target[l].type.toLowerCase();n.target[l].type==a.Bullet&&(r=e.getBulletAssetId(o,r));var c=e.spawn(r);c.init(o,t,i[l],n.target[l],s),c.doAction(u.Show)},s=function(t){if(n.target[t].effect)for(var i=function(i){e.scheduleOnce((function(){return l(t,i)}),.5*i)},s=0;s<n.target[t].effect.length;s++)i(s);else l(t,0)},o=0;o<i.length;o++)s(o)},e.onSkillHit=function(t,i,n,e,l){this.spawn("common/hit").init(t,i,n,e,l)},e.onSkillFinish=function(t){this.isAllFinish()&&o.instance.emit(r.SkillFinishAll)},e.spawn=function(t){var i=this.getPool(t);if(!i){this.skills[t]||(this.skills[t]=[]);var n=l(f.get(t));n.parent=this.node,i=n.getComponent(c),this.skills[t].push(i)}return i.node.active=!0,i},e.getPool=function(t){var i=this.skills[t];if(i)for(var n=0;n<i.length;n++)if(i[n].isFinish)return i[n];return null},e.getBulletAssetId=function(t,i){switch(t.split("_")[2]){case"1":return i+"_straight";case"2":return i+"_meteor";default:return i+"_rocket"}},e.isAllFinish=function(){var t=this,i=!0;return Object.keys(this.skills).forEach((function(n){t.skills[n].forEach((function(t){t.isFinish||(i=!1)}))})),i},n}(s))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/Damage.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,o,n,r,a,s,l,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Label,l=e.Vec3,c=e.Color,u=e.tween,p=e.Component}],execute:function(){var h,v,f,g,d;r._RF.push({},"b01abu1jlxITbxL5h1xfJ2Y","Damage",void 0);var y=a.ccclass,b=a.property;e("Damage",(h=y("Damage"),v=b({type:s}),h((d=t((g=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"value",d,n(t)),t}return i(t,e),t.prototype.show=function(e,t){var i=this;this.value.string=e.toString(),this.value.node.position=l.ZERO,this.value.color=new c(t),u(this.node).to(.75,{position:new l(this.node.position.x,this.node.position.y+75,this.node.position.z)},{easing:"sineIn",onComplete:function(){i.node.active=!1}}).start()},t}(p)).prototype,"value",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=g))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/Defines.ts",["cc"],(function(e){"use strict";var a;return{setters:[function(e){a=e.cclegacy}],execute:function(){var _,n,t,r;e({GameTeam:void 0,SkillAction:void 0,SkillId:void 0,SkillType:void 0}),a._RF.push({},"07515V80cZMXp0Lbwc9ZaSX","Defines",void 0),function(e){e.TeamA="TeamA",e.TeamB="TeamB"}(_||(_=e("GameTeam",{}))),function(e){e[e.Attacker_1=0]="Attacker_1",e[e.Attacker_2=1]="Attacker_2",e[e.Attacker_3=2]="Attacker_3",e[e.Attacker_4=3]="Attacker_4",e[e.Attacker_5=4]="Attacker_5",e[e.Attacker_6=5]="Attacker_6",e[e.Mage_1=6]="Mage_1",e[e.Mage_2=7]="Mage_2",e[e.Mage_3=8]="Mage_3",e[e.Mage_4=9]="Mage_4",e[e.Mage_5=10]="Mage_5",e[e.Mage_6=11]="Mage_6",e[e.Tanker_1=12]="Tanker_1",e[e.Tanker_2=13]="Tanker_2",e[e.Tanker_3=14]="Tanker_3",e[e.Tanker_4=15]="Tanker_4",e[e.Tanker_5=16]="Tanker_5",e[e.Tanker_6=17]="Tanker_6",e[e.Universal_1=18]="Universal_1",e[e.Universal_2=19]="Universal_2",e[e.Universal_3=20]="Universal_3",e[e.Universal_4=21]="Universal_4",e[e.Universal_5=22]="Universal_5",e[e.Universal_6=23]="Universal_6",e[e.CommonHeal=24]="CommonHeal",e[e.CommonShield=25]="CommonShield"}(n||(n=e("SkillId",{}))),function(e){e[e.Show=0]="Show",e[e.Hit=1]="Hit",e[e.Hide=2]="Hide"}(t||(t=e("SkillAction",{}))),function(e){e.Bullet="BULLET",e.Heal="HEAL"}(r||(r=e("SkillType",{}))),a._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,i,e,a;return{setters:[function(n){t=n.inheritsLoose,i=n.createClass},function(n){e=n.cclegacy,a=n.EventTarget}],execute:function(){n({EventName:void 0,SpAnimationEvent:void 0}),e._RF.push({},"d1200p6dndOSL1x7FfcEcse","EventManager",void 0);var l=function(n){function e(){return n.apply(this,arguments)||this}return t(e,n),i(e,[{key:"instance",get:function(){return null==e.instance&&(e.instance=new e),e.instance}}]),e}(a);l.instance=null;var s,c;n("default",new l);!function(n){n[n.CatAttack=0]="CatAttack",n[n.CatStatsChanged=1]="CatStatsChanged",n[n.SkillHit=2]="SkillHit",n[n.SkillHeal=3]="SkillHeal",n[n.SkillFinish=4]="SkillFinish",n[n.SkillFinishAll=5]="SkillFinishAll"}(s||(s=n("EventName",{}))),function(n){n.Finish="Finish"}(c||(c=n("SpAnimationEvent",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/Game.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenLoading.ts","./ScreenBattle.ts","./BattleData.ts"],(function(t){"use strict";var e,a,n,i,s,o,r,c,l,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,r=t.Component},function(t){c=t.ScreenLoading},function(t){l=t.ScreenBattle},function(t){d=t.BattleData}],execute:function(){var u,p,g,h,f,v,B;s._RF.push({},"719ceSFIDtP6aAnuU6d+t0c","Game",void 0);var b,L=o.ccclass,y=o.property;!function(t){t[t.None=0]="None",t[t.Loading=1]="Loading",t[t.Battle=2]="Battle"}(b||(b={}));t("Game",(u=L("Game"),p=y({type:c}),g=y({type:l}),u((v=e((f=function(t){function e(){for(var e,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,n(e,"screenLoading",v,i(e)),n(e,"screenBattle",B,i(e)),e.state=b.None,e.battleData=void 0,e}a(e,t);var s=e.prototype;return s.start=function(){var t=this;this.screenLoading.node.active=!1,this.screenBattle.node.active=!1,this.battleData=d,window.onmessage=function(e){"battle"==e.data.eventName&&(t.battleData=e.data.data,t.screenBattle.setStage(e.data.stage||0),t.setState(b.Loading))},window.parent.postMessage({eventName:"start"},"*"),CC_PREVIEW&&window.parent.postMessage({eventName:"battle",data:d,stage:0},"*")},s.setState=function(t){var e=this;switch(this.state=t,this.state){case b.Loading:this.screenLoading.node.active=!0,this.screenLoading.load(this.battleData,(function(){e.screenLoading.node.active=!1,e.setState(b.Battle)}));break;case b.Battle:this.screenBattle.node.active=!0,this.screenBattle.play()}},e}(r)).prototype,"screenLoading",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=e(f.prototype,"screenBattle",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f))||h));s._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BattleData.ts","./Config.ts","./Defines.ts","./Game.ts","./Blinker.ts","./ButtonSpeaker.ts","./Cat.ts","./Damage.ts","./ControllerAsset.ts","./ControllerAudio.ts","./ControllerDamage.ts","./ControllerSkill.ts","./EventManager.ts","./Timer.ts","./SpAnimator.ts","./ScreenBattle.ts","./ScreenLoading.ts","./Skill.ts","./SkillBullet.ts","./SkillBulletMeteor.ts","./SkillBulletRocket.ts","./SkillBulletStraight.ts","./SkillHeal.ts","./SkillVfx.ts","./CatHud.ts","./ProgressBar.ts","./ProgressBarHp.ts","./ProgressBarHpBig.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/ProgressBar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var e,t,s,o,n,i,a,c,p;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,s=r.initializerDefineProperty,o=r.assertThisInitialized},function(r){n=r.cclegacy,i=r._decorator,a=r.Sprite,c=r.tween,p=r.Component}],execute:function(){var l,u,g,f,y;n._RF.push({},"4df8a1Fc5BGGp3H4HkC5I2O","ProgressBar",void 0);var h=i.ccclass,P=i.property;r("ProgressBar",(l=h("ProgressBar"),u=P({type:a}),l((y=e((f=function(r){function e(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n))||this,s(e,"progress",y,o(e)),e}return t(e,r),e.prototype.setProgress=function(r){c(this.progress).to(.2,{fillRange:r}).start()},e}(p)).prototype,"progress",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=f))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/ProgressBarHp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProgressBar.ts"],(function(r){"use strict";var t,e,i,s,o,n,a,c,l;return{setters:[function(r){t=r.applyDecoratedDescriptor,e=r.inheritsLoose,i=r.initializerDefineProperty,s=r.assertThisInitialized},function(r){o=r.cclegacy,n=r._decorator,a=r.Sprite,c=r.tween},function(r){l=r.ProgressBar}],execute:function(){var p,u,g,h,f;o._RF.push({},"161f6PJGNZOuYkXFL838PWM","ProgressBarHp",void 0);var P=n.ccclass,y=n.property;r("ProgressBarHp",(p=P("ProgressBarHp"),u=y({type:a}),p((f=t((h=function(r){function t(){for(var t,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return t=r.call.apply(r,[this].concat(o))||this,i(t,"highlight",f,s(t)),t}return e(t,r),t.prototype.setProgress=function(t){r.prototype.setProgress.call(this,t),c(this.highlight).to(.2,{fillRange:t}).start()},t}(l)).prototype,"highlight",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=h))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/ProgressBarHpBig.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProgressBar.ts","./EventManager.ts"],(function(t){"use strict";var i,s,e,n,o,r,h,a,l;return{setters:[function(t){i=t.inheritsLoose},function(t){s=t.cclegacy,e=t._decorator,n=t.UITransform,o=t.tween,r=t.Vec3},function(t){h=t.ProgressBar},function(t){a=t.default,l=t.EventName}],execute:function(){var c;s._RF.push({},"ceba83MCchPW7xQbnhi5tor","ProgressBarHpBig",void 0);var p=e.ccclass;e.property,t("ProgressBarHpBig",p("ProgressBarHpBig")(c=function(t){function s(){for(var i,s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];return(i=t.call.apply(t,[this].concat(e))||this).team=void 0,i.hp=void 0,i.hpBase=void 0,i.width=void 0,i}i(s,t);var e=s.prototype;return e.onLoad=function(){this.width=this.progress.node.getComponent(n).width},e.onEnable=function(){a.instance.on(l.SkillHit,this.onSkillHit,this),a.instance.on(l.SkillHeal,this.onSkillHeal,this)},e.onDisable=function(){a.instance.off(l.SkillHit,this.onSkillHit,this),a.instance.off(l.SkillHeal,this.onSkillHeal,this)},e.onSkillHit=function(t,i,s,e,n){if(s.team==this.team&&"BULLET"==e.type){var o=e.effect[n].value;this.hp-=o,this.hp<0&&(this.hp=0);var r=this.hp/this.hpBase;this.setProgress(r)}},e.onSkillHeal=function(t,i,s,e,n){if(s.team==this.team&&"HEAL"==e.type){var o=e.effect[n].value;this.hp+=o,this.hp>this.hpBase&&(this.hp=this.hpBase);var r=this.hp/this.hpBase;this.setProgress(r)}},e.setProgress=function(t){var i=this.width*(1-t);o(this.progress.node).to(.2,{position:new r(-i,0,0)}).start()},e.init=function(t,i){this.team=t,this.hp=i,this.hpBase=i;var s=this.hp/this.hpBase;this.setProgress(s)},s}(h))||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenBattle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Timer.ts","./Cat.ts","./EventManager.ts","./Defines.ts","./ControllerSkill.ts","./ControllerAsset.ts","./ProgressBarHpBig.ts"],(function(t){"use strict";var e,i,a,n,r,s,l,o,h,u,c,p,m,f,b,g,d,y,k,D,v,A,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,l=t.Sprite,o=t.Node,h=t.Button,u=t.Label,c=t.SpriteFrame,p=t.game,m=t.instantiate,f=t.Vec3,b=t.Component},function(t){g=t.Timer},function(t){d=t.Cat},function(t){y=t.default,k=t.EventName},function(t){D=t.GameTeam},function(t){v=t.ControllerSkill},function(t){A=t.default},function(t){B=t.ProgressBarHpBig}],execute:function(){var S,w,T,C,I,N,x,z,_,F,W,E,U,L,M,P,H,R,j,q,G,V,Z,J,K;r._RF.push({},"f3e76CmtrdF36mgwEfvq85Z","ScreenBattle",void 0);var O,Q=s.ccclass,X=s.property;!function(t){t[t.None=0]="None",t[t.Intro=1]="Intro",t[t.Delay=2]="Delay",t[t.Attack=3]="Attack",t[t.Waiting=4]="Waiting"}(O||(O={}));t("ScreenBattle",(S=Q("ScreenBattle"),w=X({type:v}),T=X({type:B}),C=X({type:B}),I=X({type:l}),N=X({type:o}),x=X({type:h}),z=X({type:u}),_=X({type:u}),F=X({type:u}),W=X({type:u}),E=X({type:[c]}),S((M=e((L=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,a(e,"skillController",M,n(e)),a(e,"hpBarA",P,n(e)),a(e,"hpBarB",H,n(e)),a(e,"forground",R,n(e)),a(e,"positions",j,n(e)),a(e,"buttonSpeed",q,n(e)),a(e,"labelSpeed",G,n(e)),a(e,"labelTurn",V,n(e)),a(e,"labelNameA",Z,n(e)),a(e,"labelNameB",J,n(e)),a(e,"stages",K,n(e)),e.state=O.None,e.timerIntro=new g,e.timerDelay=new g,e.timerWaiting=new g,e.cats=[],e.battleData=void 0,e.speedIndex=0,e.speed=1,e.turn=void 0,e}i(e,t);var r=e.prototype;return r.onLoad=function(){this.timerIntro.setDuration(2),this.timerDelay.setDuration(.5),this.timerWaiting.setDuration(.75),p._calculateDT=function(t){return t||(t=performance.now()),this._deltaTime=t>this._startTime?(t-this._startTime)/1e3:0,this._startTime=t,this._deltaTime*this.speed}.bind(this)},r.onEnable=function(){y.instance.on(k.SkillFinishAll,this.onAttackCompleted,this)},r.onDisable=function(){y.instance.off(k.SkillFinishAll,this.onAttackCompleted,this)},r.update=function(t){switch(this.state){case O.Intro:this.timerIntro.update(t),this.timerIntro.isFinish()&&this.setState(O.Delay);break;case O.Delay:this.timerDelay.update(t),this.timerDelay.isFinish()&&(this.turn<this.battleData.turns.length-1?(this.turn++,this.setState(O.Attack)):this.onAttackCompleted());break;case O.Attack:break;case O.Waiting:this.timerWaiting.update(t),this.timerWaiting.isFinish()&&this.turnAttack(this.battleData.turns[this.turn])}},r.setState=function(t){switch(this.state=t,this.state){case O.Intro:this.timerIntro.reset();break;case O.Delay:this.timerDelay.reset();break;case O.Attack:this.attack();break;case O.Waiting:this.timerWaiting.reset()}},r.onAttackCompleted=function(){this.turn==this.battleData.turns.length-1?(window.parent.postMessage({eventName:"complete",data:this.battleData},"*"),this.setState(O.None)):(this.turnUpdateEffects(),this.setState(O.Delay))},r.attack=function(){if(this.turn!=this.battleData.turns.length){var t=this.battleData.turns[this.turn],e=this.turnUpdateBeforeAttack(t.target_before);this.turnCheckAliveInNextTurn(),e?this.setState(O.Waiting):this.turnAttack(t),this.refreshTurn()}},r.turnUpdateBeforeAttack=function(t){var e=!1;if(null!=t){for(var i=0;i<t.length;i++){var a=t[i];this.cats[a.index];e||(e=!1)}for(var n=0;n<t.length;n++){var r=t[n];this.cats[r.index]}}return e},r.turnCheckAliveInNextTurn=function(){for(var t=0;t<this.cats.length;t++)this.cats[t];if(this.turn<this.battleData.turns.length-1){for(var e=this.battleData.turns[this.turn+1],i=e.teams,a=0;a<i.length;a++)for(var n=0;n<i[a].length;n++)i[a].length,this.cats[e.teams[a][n].index];if(null!=e.attacker&&e.attacker.length>0)this.cats[e.attacker[0].index]}},r.turnAttack=function(t){if(null!=t.action.id){for(var e=t.attacker[0],i=t.target,a=[],n=0;n<i.length;n++)a.push(this.cats[i[n].index]);this.cats[e.index].attack(a,t),this.setState(O.None)}else this.onAttackCompleted()},r.turnUpdateEffects=function(){for(var t=this.battleData.turns[this.turn],e=t.teams,i=0;i<e.length;i++)for(var a=0;a<e[i].length;a++){e[i].length;var n=this.cats[t.teams[i][a].index];y.instance.emit(k.CatStatsChanged,n,t.teams[i][a])}},r.play=function(){this.setState(O.Intro)},r.onSpeed=function(){var t=[1,2,3];this.speedIndex++,this.speedIndex>=t.length&&(this.speedIndex=0),this.speed=t[this.speedIndex],this.labelSpeed.string="x"+this.speed},r.onSkip=function(){window.parent.postMessage({eventName:"skip"},"*")},r.init=function(t){this.battleData=t,this.turn=0,this.initCats(),this.refreshTurn()},r.initCats=function(){for(var t=0,e=0,i=this.getAllyTeamIndex(),a=0;a<this.battleData.teams.length;a++)for(var n=this.battleData.teams[a].members,r=a==i?D.TeamA:D.TeamB,s=0;s<n.length;s++){var l=m(A.get("cat"));this.cats.push(l.getComponent(d));var o=a*n.length+s;l.name="Cat0"+o;var h=r+"_"+n[s].col+n[s].row,u=this.positions.getChildByName(h),c=l.getComponent(d);c.team=r,c.node.parent=this.node,c.init(n[s],f.add(new f,u.position,this.positions.position)),r==D.TeamA?t+=n[s].hp:e+=n[s].hp}this.hpBarA.init(D.TeamA,t),this.hpBarB.init(D.TeamB,e),0==i?(this.labelNameA.string=this.battleData.teams[0].name,this.labelNameB.string=this.battleData.teams[1].name):(this.labelNameA.string=this.battleData.teams[1].name,this.labelNameB.string=this.battleData.teams[0].name)},r.setStage=function(t){this.forground.spriteFrame=this.stages[t]},r.refreshTurn=function(){this.labelTurn.string="TURN\n"+this.turn},r.getAllyTeamIndex=function(){return 1==this.battleData.viewer?0:1},r.getEnemyTeamIndex=function(){return 1==this.battleData.viewer?1:0},e}(b)).prototype,"skillController",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=e(L.prototype,"hpBarA",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(L.prototype,"hpBarB",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(L.prototype,"forground",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(L.prototype,"positions",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=e(L.prototype,"buttonSpeed",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(L.prototype,"labelSpeed",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(L.prototype,"labelTurn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(L.prototype,"labelNameA",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=e(L.prototype,"labelNameB",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(L.prototype,"stages",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=L))||U));r._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenLoading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenBattle.ts","./ControllerSkill.ts","./ControllerAsset.ts"],(function(e){"use strict";var t,r,l,n,o,i,a,s,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,l=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,a=e.Component},function(e){s=e.ScreenBattle},function(e){c=e.ControllerSkill},function(e){u=e.default}],execute:function(){var p,d,f,h,g,v,y;o._RF.push({},"f868d+ng59HmLBy2u6lKOWa","ScreenLoading",void 0);var S=i.ccclass,m=i.property;e("ScreenLoading",(p=S("ScreenLoading"),d=m({type:s}),f=m({type:c}),p((v=t((g=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,l(t,"screenBattle",v,n(t)),l(t,"controllerSkill",y,n(t)),t}r(t,e);var o=t.prototype;return o.load=function(e,t){var r=this;this.loadAll(e).then((function(){r.screenBattle.init(e),t()}))},o.loadAll=function(e){var t=[];return t.concat(this.loadSkills(e.teams)),t.push(u.load("cat")),t.push(u.loadDir("common")),t.push(u.loadDir("audios")),Promise.all(t)},o.loadSkills=function(e){for(var t=[],r=0;r<e.length;r++)for(var l=e[r].members,n=0;n<l.length;n++)for(var o=0;o<l[n].skills.length;o++){var i=l[n].skills[o].id.toLowerCase();t.push(u.load("sprites/skills/"+i))}return t},t}(a)).prototype,"screenBattle",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(g.prototype,"controllerSkill",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=g))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/Skill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(t){"use strict";var i,e,n,s,a,o,h,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,s=t.Vec3,a=t.Quat,o=t.Component},function(t){h=t.default,r=t.EventName}],execute:function(){var c;e._RF.push({},"61597ogFQtATq6cShMWWEU6","Skill",void 0);var l=n.ccclass;n.property,t("Skill",l("Skill")(c=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).id=void 0,i.owner=void 0,i.target=void 0,i.data=void 0,i.hitIndex=0,i.isFinish=!1,i}i(e,t);var n=e.prototype;return n.init=function(t,i,e,n,s){this.id=t,this.owner=i,this.target=e,this.data=n,this.hitIndex=s,this.isFinish=!1},n.doAction=function(t){},n.hit=function(){this.data.effect&&this.hitIndex!=this.data.effect.length-1||this.owner.attackComplete(),h.instance.emit(r.SkillHit,this.id,this.owner,this.target,this.data,this.hitIndex)},n.heal=function(){(this.data.effect||this.hitIndex==this.data.effect.length-1)&&this.owner.attackComplete(),h.instance.emit(r.SkillHeal,this.id,this.owner,this.target,this.data,this.hitIndex)},n.finish=function(){this.isFinish=!0,h.instance.emit(r.SkillFinish,this)},n.getRotationByTarget=function(t){var i=new s(t.x,t.y,t.z),e=new s;s.subtract(e,i,this.node.position).normalize();var n=Math.atan2(e.y,e.x),o=new a;return a.fromAxisAngle(o,s.UNIT_Z,n),o},e}(o))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/SkillBullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Skill.ts","./ControllerAsset.ts"],(function(t){"use strict";var i,e,r,l,o,n,a,s,c,p,u,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){o=t.cclegacy,n=t._decorator,a=t.Node,s=t.Sprite,c=t.ParticleSystem,p=t.Vec3},function(t){u=t.Skill},function(t){y=t.default}],execute:function(){var f,d,h,g,b,S,w,k,v,m,B;o._RF.push({},"e097dF/Lj5Kdpk2wmpjCsal","SkillBullet",void 0);var F=n.ccclass,z=n.property;t("SkillBullet",(f=F("SkillBullet"),d=z({type:a}),h=z({type:s}),g=z({type:s}),b=z({type:c}),f((k=i((w=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return i=t.call.apply(t,[this].concat(o))||this,r(i,"container",k,l(i)),r(i,"sprite",v,l(i)),r(i,"glow",m,l(i)),r(i,"particle",B,l(i)),i.firePosition=void 0,i.velocity=void 0,i.distance=0,i}e(i,t);var o=i.prototype;return o.init=function(i,e,r,l,o){t.prototype.init.call(this,i,e,r,l,o),this.sprite.spriteFrame=y.getSpriteFrame(i),this.glow.color=this.owner.getFactionColorBySkillId(i),this.particle.startColor.color=this.owner.getFactionColorBySkillId(i)},o.isHit=function(){return p.distance(this.firePosition,this.node.position)>=this.distance},i}(u)).prototype,"container",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(w.prototype,"sprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=i(w.prototype,"glow",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(w.prototype,"particle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=w))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/SkillBulletMeteor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkillBullet.ts","./Config.ts","./Timer.ts"],(function(t){"use strict";var e,i,o,s,n,a,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator,s=t.Vec3},function(t){n=t.SkillBullet},function(t){a=t.Config},function(t){r=t.Timer}],execute:function(){var c;i._RF.push({},"445c6V+KHdOt47tLIuvHeFs","SkillBulletMeteor",void 0);var l,h=o.ccclass;o.property;!function(t){t[t.None=0]="None",t[t.Up=1]="Up",t[t.Down=2]="Down",t[t.Hit=3]="Hit",t[t.Hide=4]="Hide"}(l||(l={}));t("SkillBulletMeteor",h("SkillBulletMeteor")(c=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this).state=l.None,e.timerHold=new r,e}e(i,t);var o=i.prototype;return o.onLoad=function(){this.timerHold.setDuration(.5)},o.update=function(t){switch(this.state){case l.Up:case l.Down:var e=s.multiplyScalar(new s,this.velocity,a.Bullets.MoveSpeed*a.BaseSpeed*t);this.node.setPosition(s.add(new s,this.node.position,e)),this.sprite.node.setRotationFromEuler(this.sprite.node.eulerAngles.add3f(0,0,a.Bullets.RotateSpeed*a.BaseSpeed*t)),this.state==l.Up?s.distance(this.node.position,this.owner.node.position)>500&&this.setState(l.Down):this.isHit()&&this.setState(l.Hit)}},o.setState=function(t){switch(this.state=t,this.state){case l.Up:this.node.position=this.owner.node.position;var e=s.add(new s,this.owner.node.position,new s(0,10,0));this.velocity=s.subtract(new s,e,this.node.position).normalize(),this.container.active=!0;break;case l.Down:this.firePosition=this.node.position.clone(),this.velocity=s.subtract(new s,this.target.node.position,this.node.position).normalize(),this.distance=s.distance(this.firePosition,this.target.node.position);break;case l.Hit:this.hit(),this.setState(l.Hide);break;case l.Hide:this.container.active=!1,this.finish(),this.setState(l.None)}},o.doAction=function(t){this.setState(l.Up)},i}(n))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/SkillBulletRocket.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkillBullet.ts","./Config.ts"],(function(t){"use strict";var i,e,o,s,n,a;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,s=t.Vec3},function(t){n=t.SkillBullet},function(t){a=t.Config}],execute:function(){var c;e._RF.push({},"d8b5ak1hgFEipQG0lsi6Cc7","SkillBulletRocket",void 0);var l,r=o.ccclass;o.property;!function(t){t[t.None=0]="None",t[t.Up=1]="Up",t[t.Down=2]="Down",t[t.Hit=3]="Hit",t[t.Hide=4]="Hide"}(l||(l={}));t("SkillBulletRocket",r("SkillBulletRocket")(c=function(t){function e(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(i=t.call.apply(t,[this].concat(o))||this).state=l.None,i}i(e,t);var o=e.prototype;return o.update=function(t){switch(this.state){case l.Up:case l.Down:var i=s.multiplyScalar(new s,this.velocity,a.Bullets.MoveSpeed*a.BaseSpeed*t);this.node.setPosition(s.add(new s,this.node.position,i)),this.sprite.node.setRotationFromEuler(this.sprite.node.eulerAngles.add3f(0,0,a.Bullets.RotateSpeed*a.BaseSpeed*t)),this.state==l.Up?s.distance(this.node.position,this.owner.node.position)>500&&this.setState(l.Down):this.isHit()&&this.setState(l.Hit)}},o.setState=function(t){switch(this.state=t,this.state){case l.Up:this.node.position=this.owner.node.position;var i=s.add(new s,this.owner.node.position,new s(0,10,0));this.velocity=s.subtract(new s,i,this.node.position).normalize(),this.container.active=!0;break;case l.Down:this.node.position=new s(this.target.node.position.x,this.node.position.y,this.target.node.position.z),this.firePosition=this.node.position.clone(),this.velocity=s.subtract(new s,this.target.node.position,this.node.position).normalize(),this.distance=s.distance(this.firePosition,this.target.node.position);break;case l.Hit:this.hit(),this.setState(l.Hide);break;case l.Hide:this.container.active=!1,this.finish(),this.setState(l.None)}},o.doAction=function(t){this.setState(l.Up)},e}(n))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/SkillBulletStraight.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkillBullet.ts","./Config.ts"],(function(t){"use strict";var i,e,s,o,n,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,o=t.Vec3},function(t){n=t.SkillBullet},function(t){r=t.Config}],execute:function(){var a;e._RF.push({},"2c69d7l9N1Kr7aX9SYEvs6q","SkillBulletStraight",void 0);var l,c=s.ccclass;s.property;!function(t){t[t.None=0]="None",t[t.Fire=1]="Fire",t[t.Hit=2]="Hit",t[t.Hide=3]="Hide"}(l||(l={}));t("SkillBulletStraight",c("SkillBulletStraight")(a=function(t){function e(){for(var i,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return(i=t.call.apply(t,[this].concat(s))||this).state=l.None,i}i(e,t);var s=e.prototype;return s.update=function(t){switch(this.state){case l.Fire:var i=o.multiplyScalar(new o,this.velocity,r.Bullets.MoveSpeed*r.BaseSpeed*t);this.node.setPosition(o.add(new o,this.node.position,i)),this.sprite.node.setRotationFromEuler(this.sprite.node.eulerAngles.add3f(0,0,r.Bullets.RotateSpeed*r.BaseSpeed*t)),this.isHit()&&this.setState(l.Hit)}},s.setState=function(t){switch(this.state=t,this.state){case l.Fire:this.node.position=this.owner.node.position,this.firePosition=this.node.position.clone(),this.velocity=o.subtract(new o,this.target.node.position,this.node.position).normalize(),this.distance=o.distance(this.firePosition,this.target.node.position),this.container.active=!0;break;case l.Hit:this.hit(),this.setState(l.Hide);break;case l.Hide:this.container.active=!1,this.finish(),this.setState(l.None)}},s.doAction=function(t){this.setState(l.Fire)},e}(n))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/SkillHeal.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkillVfx.ts"],(function(t){"use strict";var i,l,e,n;return{setters:[function(t){i=t.inheritsLoose},function(t){l=t.cclegacy,e=t._decorator},function(t){n=t.SkillVfx}],execute:function(){var r;l._RF.push({},"7d161nRFrVOm51C2cIU4E/S","SkillHeal",void 0);var c=e.ccclass;e.property,t("SkillHeal",c("SkillHeal")(r=function(t){function l(){return t.apply(this,arguments)||this}return i(l,t),l.prototype.init=function(i,l,e,n){t.prototype.init.call(this,i,l,e,n,0),this.heal()},l}(n))||r);l._RF.pop()}}}));

System.register("chunks:///_virtual/SkillVfx.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Skill.ts"],(function(t){"use strict";var i,n,o,e,r,s,l,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,l=t.ParticleSystem},function(t){p=t.Skill}],execute:function(){var a,c,h,u,f;r._RF.push({},"88353SCTstDFo7DHNBTwcp/","SkillVfx",void 0);var y=s.ccclass,d=s.property;t("SkillVfx",(a=y("SkillVfx"),c=d({type:l}),a((f=i((u=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,o(i,"particles",f,e(i)),i.ps=void 0,i}n(i,t);var r=i.prototype;return r.onLoad=function(){this.ps=this.getComponent(l)},r.update=function(t){this.isFinish||this.ps.isStopped&&(this.stop(),this.finish())},r.init=function(i,n,o,e,r){t.prototype.init.call(this,i,n,o,e,r),this.node.position=o.node.position;for(var s=0;s<this.particles.length;s++)this.particles[s].startColor.color=n.getFactionColorBySkillId(i);this.play()},r.play=function(){for(var t=this.getComponentsInChildren(l),i=0;i<t.length;i++)t[i].play();this.ps.play()},r.stop=function(){for(var t=this.getComponentsInChildren(l),i=0;i<t.length;i++)t[i].stop()},i}(p)).prototype,"particles",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=u))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/SpAnimator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(t){"use strict";var e,i,r,n,s,a,o,l,p,h,u,m,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,r=t.inheritsLoose,n=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,o=t._decorator,l=t.CCInteger,p=t.SpriteFrame,h=t.Vec2,u=t.UITransform,m=t.Sprite},function(t){c=t.SpAnimationEvent}],execute:function(){var y,f,d,b,_,g,A,F,z,w,v,x,S,U,V,N,O,P,E,I,L,D,k,C,M,X,Y,R,T,j,Q;a._RF.push({},"95384Qa21tObZet5aQ4LeZw","SpAnimator",void 0);var Z=o.ccclass,B=o.property,H=o.executeInEditMode,q=o.menu,G=o.disallowMultiple,J=o.executionOrder,K=t("anm",(y=Z("anm"),f=B({type:l,displayOrder:0,displayName:"Start Frame"}),d=B({type:l,displayOrder:0,displayName:"End Frame"}),b=B({type:l,min:1,displayOrder:1,displayName:"Num Tiles X"}),_=B({type:l,min:1,displayOrder:1,displayName:"Num Tiles Y"}),g=B({min:.001,displayName:"Frame time"}),A=B({type:p}),F=B({displayName:"Loop Play"}),y((v=e((w=function(){i(this,"start",v,this),i(this,"end",x,this),i(this,"x",S,this),i(this,"y",U,this),i(this,"frame",V,this),i(this,"sp",N,this),i(this,"loop",O,this)}).prototype,"start",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=e(w.prototype,"end",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),S=e(w.prototype,"x",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),U=e(w.prototype,"y",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),V=e(w.prototype,"frame",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.05}}),N=e(w.prototype,"sp",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(w.prototype,"loop",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z=w))||z));t("SpAnimator",(P=Z("Sprite Sheet Animator"),E=q("2D/Sprite Sheet Animator"),I=G(!0),L=J(109),D=B({type:K}),k=B({type:l,serializable:!0,override:!0}),C=B({serializable:!0,visible:!1}),M=B({serializable:!0,visible:!1}),P(X=E(X=I(X=L(X=H((R=e((Y=function(t){function e(){for(var e,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(e,"anms",R,n(e)),i(e,"_currentAnm",T,n(e)),i(e,"playOnLoad",j,n(e)),i(e,"_editorPlaying",Q,n(e)),e.anmFrame=.05,e.startFrame=0,e.endFrame=10,e.frame=0,e._offset=0,e._size=new h,e}r(e,t);var a=e.prototype;return a.onEnable=function(){this.trim=!0,this._offset=0,(this.playOnLoad||this.playInEditor)&&this.playNewAnm()},a.play=function(){this.schedule(this.playAnm,this.anmFrame)},a.stop=function(){this.unschedule(this.playAnm)},a.playAnm=function(){if(this.frame>this.endFrame){if(!this.anms[this._currentAnm].loop)return this.stop(),void this.node.emit(c.Finish);this.frame=this.startFrame}this.updateRect(this.frame),this.frame++},a.playNewAnm=function(){this.stop(),this.setAnmSize(this._currentAnm)},a.setAnmSize=function(t){var e=this.anms[t];return e?e.sp?e.end<e.start?(this.stop(),void console.error("animation_"+t+" end frame should be greater than start frame")):(this.startFrame=this.frame=e.start,this.endFrame=e.end,this.anmFrame=e.frame,this.spriteFrame!=e.sp&&(this.spriteFrame=e.sp),this._size.x=e.sp.texture.width/e.x,this._size.y=e.sp.texture.height/e.y,this.spriteFrame.rect.width=this._size.x,this.spriteFrame.rect.height=this._size.y,this.node.getComponent(u).setContentSize(this._size.x,this._size.y),this.recalculateUV(),this._flushAssembler(),this._assembler.updateUVs(this),this.playAnm(),void this.play()):(this.stop(),void console.error("animation_"+t+" has not spriteframe")):(this.stop(),void console.error("animation_"+t+" not exist"))},a.updateRect=function(t){var e=this.anms[this._currentAnm].x;this.spriteFrame.rect.x=this._offset+t%e*this._size.x,this.spriteFrame.rect.y=0+Math.floor(t/e)*this._size.y,this.recalculateUV(),this._assembler.updateUVs(this)},a.recalculateUV=function(){var t=this.spriteFrame,e=t.rect,i=t.uv,r=t.texture,n=r.width,s=r.height;if(t._rotated){var a=0===n?0:e.x/n,o=0===n?1:(e.x+e.height)/n,l=0===s?0:e.y/s,p=0===s?1:(e.y+e.width)/s;t._isFlipUVX&&t._isFlipUVY?(i[0]=o,i[1]=p,i[2]=o,i[3]=l,i[4]=a,i[5]=p,i[6]=a,i[7]=l):t._isFlipUVX?(i[0]=o,i[1]=l,i[2]=o,i[3]=p,i[4]=a,i[5]=l,i[6]=a,i[7]=p):t._isFlipUVY?(i[0]=a,i[1]=p,i[2]=a,i[3]=l,i[4]=o,i[5]=p,i[6]=o,i[7]=l):(i[0]=a,i[1]=l,i[2]=a,i[3]=p,i[4]=o,i[5]=l,i[6]=o,i[7]=p)}else{var h=0===n?0:e.x/n,u=0===n?1:(e.x+e.width)/n,m=0===s?1:(e.y+e.height)/s,c=0===s?0:e.y/s;t._isFlipUVX&&t._isFlipUVY?(i[0]=u,i[1]=c,i[2]=h,i[3]=c,i[4]=u,i[5]=m,i[6]=h,i[7]=m):t._isFlipUVX?(i[0]=u,i[1]=m,i[2]=h,i[3]=m,i[4]=u,i[5]=c,i[6]=h,i[7]=c):t._isFlipUVY?(i[0]=h,i[1]=c,i[2]=u,i[3]=c,i[4]=h,i[5]=m,i[6]=u,i[7]=m):(i[0]=h,i[1]=m,i[2]=u,i[3]=m,i[4]=h,i[5]=c,i[6]=u,i[7]=c)}},s(e,[{key:"defaultAnm",get:function(){return this._currentAnm},set:function(t){this._currentAnm=t,this.setAnmSize(t),this._editorPlaying&&this.playNewAnm()}},{key:"playInEditor",get:function(){return this._editorPlaying},set:function(t){this._editorPlaying=t,this._editorPlaying?this.playNewAnm():this.stop()}},{key:"Anmimation",get:function(){return this._currentAnm},set:function(t){t>=this.anms.length&&(t=0),this._currentAnm=t,this.playNewAnm()}},{key:"duration",get:function(){var t=this.anms[this._currentAnm];return t.frame*(t.end-t.start)}}]),e}(m)).prototype,"anms",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),e(Y.prototype,"defaultAnm",[k],Object.getOwnPropertyDescriptor(Y.prototype,"defaultAnm"),Y.prototype),T=e(Y.prototype,"_currentAnm",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=e(Y.prototype,"playOnLoad",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),e(Y.prototype,"playInEditor",[B],Object.getOwnPropertyDescriptor(Y.prototype,"playInEditor"),Y.prototype),Q=e(Y.prototype,"_editorPlaying",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X=Y))||X)||X)||X)||X)||X));a._RF.pop()}}}));

System.register("chunks:///_virtual/Timer.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"82c292D/TpGmpCMRph0UYMg","Timer",void 0);t("Timer",function(){function t(){this.timer=0,this.duration=0,this.overhead=0,this.isDone=!0}var i=t.prototype;return i.setDuration=function(t){this.timer=this.duration=t,this.overhead=0,this.isDone=!1},i.addTime=function(t){this.timer+=t,this.overhead=0,this.isDone=!1},i.getTimePercent=function(){return this.timer/this.duration},i.reset=function(){this.timer=this.duration,this.overhead=0,this.isDone=!1},i.isFinish=function(){return 0==this.timer},i.justFinish=function(){return!(this.timer>0)&&(!this.isDone&&(this.isDone=!0,!0))},i.update=function(t){0!=this.timer&&(this.timer-=t,this.timer<0&&(this.overhead=-this.timer,this.timer=0))},t}());i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});