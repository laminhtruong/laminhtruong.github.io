System.register("chunks:///_virtual/Cat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SpAnimator.ts"],(function(t){"use strict";var i,n,e,r,a,o,s,c,u,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.SpriteFrame,c=t.Component},function(t){u=t.SpAnimator,p=t.anm}],execute:function(){var m,l,f,h,d;a._RF.push({},"9c16076taFFsKQU5HuGiyCJ","Cat",void 0);var y=o.ccclass,v=o.property;t("Cat",(m=y("Cat"),l=v({type:Number}),m((d=i((h=function(t){function i(){for(var i,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=t.call.apply(t,[this].concat(a))||this,e(i,"animId",d,r(i)),i.animatior=void 0,i}n(i,t);var a=i.prototype;return a.onEnable=function(){this.animatior=this.getComponent(u),this.SetId(105),this.SetAnimation(this.animId)},a.update=function(t){},a.SetId=function(t){for(var i=window.moonCatParser.generateMoonCatSpriteSheet(t),n=s.createWithImage(i),e=0;e<8;e++){var r=new p;r.start=8*e,r.end=8*e+7,r.x=8,r.y=8,r.frame=.05,r.loop=!0,r.sp=n,this.animatior.anms.push(r)}},a.SetAnimation=function(t){this.animatior.Anmimation=t},i}(c)).prototype,"animId",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=h))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Cat.ts","./SpAnimator.ts"],(function(){"use strict";return{setters:[null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SpAnimator.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,n,a,s,o,l,p,h,u,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty,r=t.inheritsLoose,n=t.createClass,a=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,l=t.CCInteger,p=t.SpriteFrame,h=t.UITransform,u=t.Vec2,m=t.Sprite}],execute:function(){var c,y,f,d,b,_,g,A,z,F,w,v,x,S,U,V,N,O,P,I,E,L,D,k,C,X,Y,M,R,T,j;s._RF.push({},"95384Qa21tObZet5aQ4LeZw","SpAnimator",void 0);var Q=o.ccclass,Z=o.property,B=o.executeInEditMode,H=o.menu,q=o.disallowMultiple,G=o.executionOrder,J=t("anm",(c=Q("anm"),y=Z({type:l,displayOrder:0,displayName:"Start Frame"}),f=Z({type:l,displayOrder:0,displayName:"End Frame"}),d=Z({type:l,min:1,displayOrder:1,displayName:"Num Tiles X"}),b=Z({type:l,min:1,displayOrder:1,displayName:"Num Tiles Y"}),_=Z({min:.001,displayName:"Frame time"}),g=Z({type:p}),A=Z({displayName:"Loop Play"}),c((w=e((F=function(){i(this,"start",w,this),i(this,"end",v,this),i(this,"x",x,this),i(this,"y",S,this),i(this,"frame",U,this),i(this,"sp",V,this),i(this,"loop",N,this)}).prototype,"start",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=e(F.prototype,"end",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),x=e(F.prototype,"x",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=e(F.prototype,"y",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),U=e(F.prototype,"frame",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.05}}),V=e(F.prototype,"sp",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(F.prototype,"loop",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z=F))||z));t("SpAnimator",(O=Q("Sprite Sheet Animator"),P=H("2D/Sprite Sheet Animator"),I=q(!0),E=G(109),L=Z({type:J}),D=Z({type:l,serializable:!0,override:!0}),k=Z({serializable:!0,visible:!1}),C=Z({serializable:!0,visible:!1}),O(X=P(X=I(X=E(X=B((M=e((Y=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,i(e,"anms",M,a(e)),i(e,"_currentAnm",R,a(e)),i(e,"playOnLoad",T,a(e)),i(e,"_editorPlaying",j,a(e)),e.anmFrame=.05,e.startFrame=0,e.endFrame=10,e.frame=0,e._offset=0,e._size=new u,e}r(e,t);var s=e.prototype;return s.onEnable=function(){this.trim=!0,this.setAnmSize(0),this._offset=0,(this.playOnLoad||this.playInEditor)&&this.playNewAnm()},s.play=function(){this.schedule(this.playAnm,this.anmFrame)},s.stop=function(){this.unschedule(this.playAnm)},s.playAnm=function(){if(this.frame>this.endFrame){if(!this.anms[this._currentAnm].loop)return void this.stop();this.frame=this.startFrame}this.updateRect(this.frame),this.frame++},s.playNewAnm=function(){this.stop(),this.setAnmSize(this._currentAnm)},s.setAnmSize=function(t){var e=this.anms[t];return e?e.sp?e.end<e.start?(this.stop(),void console.error("animation_"+t+" end frame should be greater than start frame")):(this.startFrame=this.frame=e.start,this.endFrame=e.end,this.anmFrame=e.frame,this.spriteFrame!=e.sp&&(this.spriteFrame=e.sp),this._size.x=e.sp.texture.width/e.x,this._size.y=e.sp.texture.height/e.y,this.spriteFrame.rect.width=this._size.x,this.spriteFrame.rect.height=this._size.y,this.node.getComponent(h).setContentSize(this._size.x,this._size.y),this.recalculateUV(),this._assembler.updateUVs(this),this.playAnm(),void this.play()):(this.stop(),void console.error("animation_"+t+" has not spriteframe")):(this.stop(),void console.error("animation_"+t+" not exist"))},s.updateRect=function(t){var e=this.anms[this._currentAnm].x;this.spriteFrame.rect.x=this._offset+t%e*this._size.x,this.spriteFrame.rect.y=0+Math.floor(t/e)*this._size.y,this.recalculateUV(),this._assembler.updateUVs(this)},s.recalculateUV=function(){var t=this.spriteFrame,e=t.rect,i=t.uv,r=t.texture,n=r.width,a=r.height;if(t._rotated){var s=0===n?0:e.x/n,o=0===n?1:(e.x+e.height)/n,l=0===a?0:e.y/a,p=0===a?1:(e.y+e.width)/a;t._isFlipUVX&&t._isFlipUVY?(i[0]=o,i[1]=p,i[2]=o,i[3]=l,i[4]=s,i[5]=p,i[6]=s,i[7]=l):t._isFlipUVX?(i[0]=o,i[1]=l,i[2]=o,i[3]=p,i[4]=s,i[5]=l,i[6]=s,i[7]=p):t._isFlipUVY?(i[0]=s,i[1]=p,i[2]=s,i[3]=l,i[4]=o,i[5]=p,i[6]=o,i[7]=l):(i[0]=s,i[1]=l,i[2]=s,i[3]=p,i[4]=o,i[5]=l,i[6]=o,i[7]=p)}else{var h=0===n?0:e.x/n,u=0===n?1:(e.x+e.width)/n,m=0===a?1:(e.y+e.height)/a,c=0===a?0:e.y/a;t._isFlipUVX&&t._isFlipUVY?(i[0]=u,i[1]=c,i[2]=h,i[3]=c,i[4]=u,i[5]=m,i[6]=h,i[7]=m):t._isFlipUVX?(i[0]=u,i[1]=m,i[2]=h,i[3]=m,i[4]=u,i[5]=c,i[6]=h,i[7]=c):t._isFlipUVY?(i[0]=h,i[1]=c,i[2]=u,i[3]=c,i[4]=h,i[5]=m,i[6]=u,i[7]=m):(i[0]=h,i[1]=m,i[2]=u,i[3]=m,i[4]=h,i[5]=c,i[6]=u,i[7]=c)}},n(e,[{key:"defaultAnm",get:function(){return this._currentAnm},set:function(t){this._currentAnm=t,this.setAnmSize(t),this._editorPlaying&&this.playNewAnm()}},{key:"playInEditor",get:function(){return this._editorPlaying},set:function(t){this._editorPlaying=t,this._editorPlaying?this.playNewAnm():this.stop()}},{key:"Anmimation",get:function(){return this._currentAnm},set:function(t){this._currentAnm=t,this.playNewAnm()}},{key:"duration",get:function(){var t=this.anms[this._currentAnm];return t.frame*(t.end-t.start)}}]),e}(m)).prototype,"anms",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),e(Y.prototype,"defaultAnm",[D],Object.getOwnPropertyDescriptor(Y.prototype,"defaultAnm"),Y.prototype),R=e(Y.prototype,"_currentAnm",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=e(Y.prototype,"playOnLoad",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),e(Y.prototype,"playInEditor",[Z],Object.getOwnPropertyDescriptor(Y.prototype,"playInEditor"),Y.prototype),j=e(Y.prototype,"_editorPlaying",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X=Y))||X)||X)||X)||X)||X));s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});