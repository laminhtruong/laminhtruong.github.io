System.register("chunks:///_virtual/Menu.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./VideoCamera.ts"],(function(t){"use strict";var e,n,r,i,o,a,s,c,u,l,h,p,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.defineProperty,a=t.asyncToGenerator},function(t){s=t.cclegacy,c=t._decorator,u=t.Button,l=t.Label,h=t.Component},function(t){p=t.SaveScreenShoot},function(t){d=t.default}],execute:function(){var m,f,v,C,g,b,y;s._RF.push({},"5aba5DZbFBJrosr5qgJdzZh","Menu",void 0);var S=c.ccclass,w=c.property;t("Menu",(m=S("Menu"),f=w(u),v=w(l),m((b=e((g=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,r(i(e),"buttonCamera",b,i(e)),r(i(e),"textScan",y,i(e)),o(i(e),"videoCamera",new d),o(i(e),"scanner",void 0),o(i(e),"videoDom",void 0),o(i(e),"isFront",!0),e}n(e,t);var s=e.prototype;return s.start=function(){},s.StartScan=function(){null!=this.videoDom&&this.Scan(this.videoDom)},s.StopScan=function(){null!=this.scanner&&this.scanner.stop()},s.Capture=function(){this.videoDom&&p(this.videoDom)},s.Camera=function(){var t=this,e=this.isFront?"user":"environment";this.videoCamera.Setup(e).then((function(e){t.videoCamera.Play(),t.videoDom=e})),this.isFront=!this.isFront,this.isFront?this.buttonCamera.getComponentInChildren(l).string="Front":this.buttonCamera.getComponentInChildren(l).string="Back"},s.Scan=function(){var t=a(regeneratorRuntime.mark((function t(e){var n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new window.ZXingBrowser.BrowserQRCodeReader,t.next=3,n.decodeFromVideoElement(e,(function(t,e){t&&(r.textScan.string=t)}));case 3:this.scanner=t.sent;case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e}(h)).prototype,"buttonCamera",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(g.prototype,"textScan",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=g))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/Timer.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e;return{setters:[function(t){i=t.defineProperty},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"83182rhGv5E5o+cQT5d7b3o","Timer",void 0);t("default",function(){function t(){i(this,"timer",0),i(this,"duration",0),i(this,"overhead",0),i(this,"isDone",!0)}var e=t.prototype;return e.SetDuration=function(t){this.timer=this.duration=t,this.overhead=0,this.isDone=!1},e.AddTime=function(t){this.timer+=t,this.overhead=0,this.isDone=!1},e.GetTimePercent=function(){return this.timer/this.duration},e.Reset=function(){this.timer=this.duration,this.overhead=0,this.isDone=!1},e.IsDone=function(){return 0==this.timer},e.JustFinished=function(){return!(this.timer>0)&&(!this.isDone&&(this.isDone=!0,!0))},e.Update=function(t){0!=this.timer&&(this.timer-=t,this.timer<0&&(this.overhead=-this.timer,this.timer=0))},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/VideoCamera.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n;return{setters:[function(e){t=e.defineProperty,i=e.asyncToGenerator},function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"9578axkwt9GiKmMk2GWznXK","VideoCamera",void 0);e("default",function(){function e(){t(this,"video",void 0)}var n=e.prototype;return n.Setup=function(){var e=i(regeneratorRuntime.mark((function e(t){var i,n,r,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t="environment"),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){e.next=3;break}throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");case 3:return i=document.getElementById("video"),n={audio:!1,video:{facingMode:t,width:{ideal:640},height:{ideal:480}}},e.next=7,navigator.mediaDevices.getUserMedia(n);case 7:return r=e.sent,i.srcObject=r,i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","playsinline"),i.setAttribute("muted",""),i.style.width="640px",i.style.height="480px",i.style.display="none",e.abrupt("return",new Promise((function(e,t){a.video=i,i.onloadedmetadata=function(){a.Resize(i),e(i)}})));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.Play=function(){null!=this.video&&(this.video.play(),this.video.style.display="block")},n.Stop=function(){null!=this.video&&(this.video.pause(),this.video.style.display="none")},n.Resize=function(e){var t=window.innerWidth,i=window.innerHeight,n=e.videoWidth/e.videoHeight;if(t/i<n){var r=n*i;e.style.width=r+"px",e.style.marginLeft=-(r-t)/2+"px",e.style.height=i+"px",e.style.marginTop="0px"}else{var a=1/(n/t);e.style.height=a+"px",e.style.marginTop=-(a-i)/2+"px",e.style.width=t+"px",e.style.marginLeft="0px"}},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){"use strict";var e,n,r,a,i,o,c;return{setters:[function(t){e=t.cclegacy,n=t.assetManager,r=t.SpriteFrame,a=t.Texture2D,i=t.director,o=t.Director,c=t.sys}],execute:function(){function u(t){return t<10?"0"+t:t}t({FormatPrice:function(t){if(t.length>0){return(""+parseInt(t)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return t},FormatTime:function(t){var e=Math.floor(t/1e3),n=3600,r=Math.floor(e/n),a=Math.floor((e-r*n)/60),i=e-r*n-60*a;r>100&&(r=99);return""+u(r)+u(a)+u(i)},GetSpriteFromUrl:function(t){return new Promise((function(e,i){n.loadRemote(t,{xhrMimeType:"image/png"},(function(t,n){if(t)i(null);else{var o=new r,c=new a;c.image=n,o.texture=c,e(o)}}))}))},RandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},SaveScreenShoot:function(t){i.on(o.EVENT_AFTER_DRAW,(function e(){var n=document.getElementById("GameCanvas"),r=n.getContext("experimental-webgl",{preserveDrawingBuffer:!0}),a=n.width,u=n.height,s=document.getElementById("CaptureCanvas");null==s&&((s=document.createElement("canvas")).id="CaptureCanvas",s.width=a,s.height=u);var l=function(t){return 2*parseFloat(t.replace("px",""))},m=s.getContext("2d");m.drawImage(t,l(t.style.marginLeft),0,l(t.style.width),l(t.style.height)),m.drawImage(r.canvas,0,0,a,u),s.toBlob((function(t){c.openURL(URL.createObjectURL(t))})),i.off(o.EVENT_AFTER_DRAW,e)}))},StringDateToShortDate:function(t,e){void 0===e&&(e=!0);try{var n=t.split(" "),r=n[0].split(":"),a=n[1].split("-");return e?a[0]+"/"+a[1]+"\n"+r[0]+":"+r[1]:r[0]+":"+r[1]+" - "+a[0]+"/"+a[1]}catch(e){return t}},StringDateToTimestamp:function(t){try{var e=t.split(" "),n=e[0].split(":"),r=e[1].split("-");return new Date(parseInt(r[2]),parseInt(r[1])-1,parseInt(r[0]),parseInt(n[0]),parseInt(n[1]),parseInt(n[2])).getTime()}catch(t){return(new Date).getTime()}},TextLimit:function(t,e){t.length>e&&(t=t.substring(0,e)+"...");return t},convert2Character:u}),e._RF.push({},"ceaaasKiCFOKJzHWmAeEI8E","Utils",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,r,i,s;return{setters:[function(n){t=n.inheritsLoose,e=n.defineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,s=n.EventTarget}],execute:function(){i._RF.push({},"f8ad5rydN9EIZ62nOSFY4Dg","EventMgr",void 0);n("default",new(function(n){function i(){for(var t,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return t=n.call.apply(n,[this].concat(s))||this,e(r(t),"instance",null),t}return t(i,n),i.prototype.GetInstance=function(){return null==this.instance&&(this.instance=new i),this.instance},i}(s)));i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Utils.ts","./VideoCamera.ts","./Menu.ts","./Timer.ts","./EventMgr.ts"],(function(){"use strict";return{setters:[null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});