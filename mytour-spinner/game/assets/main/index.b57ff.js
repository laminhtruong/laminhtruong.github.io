System.register("chunks:///_virtual/BackgroundLight.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,i,e,o,r,a,l,s,c,u,h,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Node,s=t.tween,c=t.Component,u=t.Vec3,h=t.Sprite,p=t.Color}],execute:function(){var g,f,d,m,v;r._RF.push({},"180c9lqTTZHVpxGKnnQEokO","BackgroundLight",void 0);var y=a.ccclass,D=a.property;t("BackgroundLight",(g=y("BackgroundLight"),f=D([l]),g((v=n((m=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,e(o(n),"lights",v,o(n)),n}i(n,t);var r=n.prototype;return r.start=function(){this.DoAnimation(this.lights[0],10,-30,8),this.DoAnimation(this.lights[1],-20,20,6),this.DoAnimation(this.lights[2],20,-20,6),this.DoAnimation(this.lights[3],-10,30,8)},r.update=function(t){},r.DoAnimation=function(t,n,i,e){var o=function(){t.eulerAngles=new u(0,0,r.angle),t.getComponent(h).color=new p(255,251,240,r.alpha)},r={angle:n,alpha:64};o(),s(r).repeatForever(s(r).to(e,{angle:i,alpha:128},{onUpdate:o}).to(e,{angle:n,alpha:164},{onUpdate:o})).start()},n}(c)).prototype,"lights",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=m))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemGift.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(t){"use strict";var e,i,r,n,o,c,a,l,u,f,s,p,m,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.defineProperty},function(t){c=t.cclegacy,a=t._decorator,l=t.Sprite,u=t.Label,f=t.Color,s=t.Component},function(t){p=t.GetSpriteFromUrl,m=t.StringDateToShortDate,b=t.TextLimit}],execute:function(){var h,g,y,d,v,I,S,w,z,D,G;c._RF.push({},"2ae10c7koBII5m9zSeuZOfS","ItemGift",void 0);var _=a.ccclass,F=a.property;t("ItemGift",(h=_("ItemGift"),g=F(l),y=F(l),d=F(u),v=F(u),h((w=e((S=function(t){function e(){for(var e,i=arguments.length,c=new Array(i),a=0;a<i;a++)c[a]=arguments[a];return e=t.call.apply(t,[this].concat(c))||this,r(n(e),"bg",w,n(e)),r(n(e),"icon",z,n(e)),r(n(e),"description",D,n(e)),r(n(e),"time",G,n(e)),o(n(e),"item",void 0),e}i(e,t);var c=e.prototype;return c.start=function(){},c.SetInformation=function(t,e){var i=this;this.bg.color=new f(e%2==0?"#ffffff":"#ffeffc"),null!=t.icon&&p(t.icon).then((function(t){i.icon.spriteFrame=t})).catch((function(t){})),this.time.string=m(t.rewardedTime),this.description.string=b(t.name,18),this.item=t},e}(s)).prototype,"bg",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(S.prototype,"icon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(S.prototype,"description",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(S.prototype,"time",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=S))||I));c._RF.pop()}}}));

System.register("chunks:///_virtual/GameMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./API.ts","./EventMgr.ts","./Loading.ts","./Defines.ts","./Timer.ts","./Main.ts","./PopupError.ts","./PopupWarning.ts","./PopupExchangeTurn.ts","./PopupGift.ts","./PopupHistory.ts"],(function(e){"use strict";var t,n,i,a,o,r,s,c,u,p,h,l,f,d,S,g,T,m,v,E,I,w,b,G;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.defineProperty},function(e){r=e.cclegacy,s=e._decorator,c=e.AudioSource,u=e.Component},function(e){p=e.default},function(e){h=e.default},function(e){l=e.Loading},function(e){f=e.Profiles,d=e.UserInfos,S=e.EventName,g=e.ActionLogin,T=e.ActionMain},function(e){m=e.default},function(e){v=e.Main},function(e){E=e.PopupError},function(e){I=e.PopupWarning},function(e){w=e.PopupExchangeTurn},function(e){b=e.PopupGift},function(e){G=e.PopupHistory}],execute:function(){var P,R,N,M,y,O,k,_,L,A,U,D,F,H,x,W,j,z,C;r._RF.push({},"2df67cPW6dPX48dJVTWAnOy","GameMgr",void 0);var Y,B=s.ccclass,J=s.property;!function(e){e[e.INIT=0]="INIT",e[e.LOGIN=1]="LOGIN",e[e.GET_USER_INFO=2]="GET_USER_INFO",e[e.GET_TURNS=3]="GET_TURNS",e[e.GET_GIFT_LIST=4]="GET_GIFT_LIST",e[e.GET_REFERAL=5]="GET_REFERAL",e[e.GET_PROGRAM=6]="GET_PROGRAM",e[e.MAIN=7]="MAIN",e[e.PLAY=8]="PLAY",e[e.WIN=9]="WIN"}(Y||(Y={}));e("GameMgr",(P=B("GameMgr"),R=J(v),N=J(l),M=J(E),y=J(I),O=J(b),k=J(w),_=J(G),L=J(c),P((D=t((U=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(a(t),"main",D,a(t)),i(a(t),"loading",F,a(t)),i(a(t),"popupError",H,a(t)),i(a(t),"popupWarning",x,a(t)),i(a(t),"popupGift",W,a(t)),i(a(t),"popupExchangeTurn",j,a(t)),i(a(t),"popupHistory",z,a(t)),i(a(t),"audioTap",C,a(t)),o(a(t),"state",void 0),o(a(t),"profiles",new f),o(a(t),"userinfos",new d),o(a(t),"timerTurnRefresh",new m),o(a(t),"gifts",void 0),o(a(t),"params",void 0),o(a(t),"exchangeRate",void 0),t}n(t,e);var r=t.prototype;return r.start=function(){h.GetInstance().on(S.LOGIN,this.OnLoginAction,this),h.GetInstance().on(S.MAIN,this.OnMainAction,this),this.timerTurnRefresh.SetDuration(window.TURN_REFRESH_TIME),this.params=this.ParseUrl(window.location.href),this.SetState(Y.INIT),document.getElementById("splash").style.display="none"},r.update=function(e){var t=this;switch(this.state){case Y.INIT:case Y.WIN:}this.timerTurnRefresh.Update(e),this.timerTurnRefresh.IsDone()&&""!=this.profiles.token&&(p.GetTurns(this.profiles.token).then((function(e){var n=t.ParseData(e);n instanceof Object&&(t.userinfos.turns=n.currentTurn)})).catch((function(e){})),this.timerTurnRefresh.Reset())},r.SetState=function(e){var t=this;switch(this.state=e,this.state){case Y.INIT:this.main.node.active=!1,this.loading.node.active=!0,this.LoadProfile(),p.GetGiftList().then((function(e){var n=t.ParseData(e);n instanceof Object?(t.gifts=n.giftItemDtoList,t.main.SetInformation(t.gifts,t.params.platform).then((function(e){t.SetState(Y.GET_PROGRAM)})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}))):(t.loading.node.active=!1,t.ShowMessage(n))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case Y.GET_PROGRAM:p.GetProgram().then((function(e){var n=t.ParseData(e);n instanceof Object?(t.exchangeRate=n.pointToTurn,""!=t.profiles.token?t.SetState(Y.GET_USER_INFO):t.SetState(Y.LOGIN)):(t.loading.node.active=!1,t.ShowMessage(n))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case Y.LOGIN:this.params.geToken?(this.profiles.token=this.params.geToken,this.SaveProfiles(),this.SetState(Y.GET_USER_INFO)):this.params.token?this.OnLoginAction({action:g.LOGIN_SUCCESS,data:{token:this.params.token,platform:"mytour"}}):this.SetState(Y.MAIN);break;case Y.GET_USER_INFO:p.GetUserInfo(this.profiles.token).then((function(e){var n=t.ParseData(e);n instanceof Object?(t.userinfos.name=n.name,t.userinfos.email=n.email,t.userinfos.phone=n.phone,t.userinfos.points=n.pointInfo.amount,t.SetState(Y.GET_TURNS)):(t.loading.node.active=!1,t.ShowMessage(n))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case Y.GET_TURNS:p.GetTurns(this.profiles.token).then((function(e){var n=t.ParseData(e);n instanceof Object?(t.userinfos.turns=n.currentTurn,t.main.SetTurns(t.userinfos.turns),t.SetState(Y.GET_REFERAL)):(t.loading.node.active=!1,t.ShowMessage(n))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case Y.GET_REFERAL:p.GetReferralCode(this.profiles.token).then((function(e){var n=t.ParseData(e);n instanceof Object?(t.userinfos.code=n.referralCode,t.SetState(Y.MAIN)):(t.loading.node.active=!1,t.ShowMessage(n))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case Y.MAIN:this.loading.node.active=!1,this.loading.EnableOverlay(),""!=this.profiles.token?this.main.EnableHistoryButton():this.main.DisableHistoryButton(),this.main.node.active=!0,this.SetState(Y.PLAY);break;case Y.PLAY:}},r.LoadProfile=function(){},r.SaveProfiles=function(){},r.ShowMessage=function(e){this.popupError.Show(e)},r.ParseData=function(e){try{return 200==(e=JSON.parse(e)).code?e.data:e.message}catch(e){return"Data Invalid"}},r.ParseError=function(e){try{return 200==(e=JSON.parse(e)).code?e.data:e.errors.map((function(e){return e.message})).join("\n")}catch(e){return"Data Invalid"}},r.ParseUrl=function(e){for(var t,n=/[?&]([^=#]+)=([^&#]*)/g,i={};t=n.exec(e);)i[t[1]]=decodeURIComponent(t[2]);return i},r.Share=function(e){"mobile"==this.params.platform?window.location.href="gh://sharing?content="+e:this.ShareFallback(e)},r.ShareNative=function(e){navigator.share({url:e})},r.ShareFallback=function(e){var t=document.querySelector("web-social-share");if(t&&window){var n={displayNames:!0,config:[{facebook:{socialShareUrl:e,socialSharePopupWidth:400,socialSharePopupHeight:400}},{twitter:{socialShareUrl:e,socialSharePopupWidth:300,socialSharePopupHeight:400}},{whatsapp:{socialShareUrl:e}},{copy:{socialShareUrl:e}}]};t.share=n,t.show=!0}},r.OnLoginAction=function(e){var t=this;switch(e.action){case g.LOGIN:this.audioTap.play(),this.loading.node.active=!0;break;case g.LOGIN_SUCCESS:var n=e.data;p.Login(n.token,n.platform,this.params.code||"").then((function(e){var n=t.ParseData(e);n instanceof Object?(t.profiles.token=n.token,t.SaveProfiles(),t.SetState(Y.GET_USER_INFO)):(t.loading.node.active=!1,t.ShowMessage(n))})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case g.LOGIN_FAIL:this.loading.node.active=!1}},r.OnMainAction=function(e){var t=this;switch(e.action){case T.SPIN:if(this.audioTap.play(),""!=this.profiles.token)if(this.userinfos.turns>0){var n=null,i=this.main.StartSpinFake((function(){null!=n&&(i.stop(),t.main.StopSpinFake(!1),t.userinfos.turns=n.currentTurn,t.main.SetTurns(t.userinfos.turns),t.main.DoSpin(n.giftItemInfo.id-1,window.SPINNER_TIME,window.SPINNER_ROTATE,(function(e){t.popupGift.Show(e)})))}));p.SpinTheWheel(this.profiles.token).then((function(e){var a=t.ParseData(e);a instanceof Object?n=a:(i.stop(),t.main.StopSpinFake(!0),t.ShowMessage(a))})).catch((function(e){i.stop(),t.main.StopSpinFake(!0),t.ShowMessage(e)}))}else this.popupExchangeTurn.Show(this.userinfos.points,this.exchangeRate);else"mobile"==this.params.platform?this.OnMainAction({action:T.LOGIN}):this.popupWarning.Show();break;case T.LOGIN:this.audioTap.play(),window.location.href="gh://redirect-to-login";break;case T.HISTORY:this.audioTap.play(),this.loading.node.active=!0,""!=this.profiles.token&&p.GetMyList(this.profiles.token).then((function(e){var n=t.ParseData(e);if(n instanceof Object){var i=JSON.parse(e).data.myGiftItemList;t.popupHistory.SetInformation(i),t.popupHistory.Show()}else t.ShowMessage(n);t.loading.node.active=!1})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case T.SHARE:this.audioTap.play();var a=window.SHARE_URL;this.Share(a+"/?code="+this.userinfos.code);break;case T.EXCHANGE:this.loading.node.active=!0,p.ExchangeTurn(e.turn,this.profiles.token).then((function(e){var n=t.ParseData(e);n instanceof Object?(t.userinfos.turns=n.currentTurn,t.userinfos.points=n.currentPoint,t.main.SetTurns(t.userinfos.turns),t.popupExchangeTurn.Hide()):t.ShowMessage(n),t.loading.node.active=!1})).catch((function(e){t.loading.node.active=!1,t.ShowMessage(e)}));break;case T.EXIT:this.audioTap.play(),window.location.href="gh://exit"}},t}(u)).prototype,"main",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(U.prototype,"loading",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(U.prototype,"popupError",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(U.prototype,"popupWarning",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(U.prototype,"popupGift",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(U.prototype,"popupExchangeTurn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(U.prototype,"popupHistory",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(U.prototype,"audioTap",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=U))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/Main.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./Defines.ts","./Spinner.ts"],(function(t){"use strict";var n,i,e,o,r,a,l,s,u,c,p,b,f,S,h,y,v;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Sprite,s=t.RichText,u=t.ParticleSystem,c=t.Button,p=t.SpriteFrame,b=t.tween,f=t.Component},function(t){S=t.default},function(t){h=t.EventName,y=t.ActionMain},function(t){v=t.Spinner}],execute:function(){var m,g,d,D,I,z,B,w,M,H,E,F,N,k,A,T,C,R,_,G,L;r._RF.push({},"418ddTz9+lC7bF5livsSJvo","Main",void 0);var P=a.ccclass,x=a.property;t("Main",(m=P("Main"),g=x(v),d=x(l),D=x(s),I=x(u),z=x(c),B=x(c),w=x(c),M=x(p),H=x(p),m((N=n((F=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,e(o(n),"spinner",N,o(n)),e(o(n),"overlay",k,o(n)),e(o(n),"turns",A,o(n)),e(o(n),"confettiDrop",T,o(n)),e(o(n),"buttonSpin",C,o(n)),e(o(n),"buttonHistory",R,o(n)),e(o(n),"buttonBack",_,o(n)),e(o(n),"spirteSpinNormal",G,o(n)),e(o(n),"spirteSpinDisable",L,o(n)),n}i(n,t);var r=n.prototype;return r.start=function(){},r.update=function(t){},r.SetInformation=function(t,n){return this.buttonBack.node.active="mobile"==n,this.spinner.SetInformation(t)},r.SetTurns=function(t){this.turns.string="<color=#0b3b59>Còn lại</color><color=#ff245f><b> "+t+" </b></color><color=#0b3b59>lượt</color>"},r.EnableHistoryButton=function(){this.buttonHistory.node.active=!0},r.DisableHistoryButton=function(){this.buttonHistory.node.active=!1},r.EnableSpinButton=function(){this.buttonSpin.interactable=!0,this.buttonSpin.getComponent(l).spriteFrame=this.spirteSpinNormal},r.DisableSpinButton=function(){this.buttonSpin.interactable=!1,this.buttonSpin.getComponent(l).spriteFrame=this.spirteSpinDisable},r.DoSpin=function(t,n,i,e){var o=this;this.spinner.Spin(t,n,i+t,(function(t){o.EnableSpinButton(),o.confettiDrop.node.active=!0,b(o.overlay).to(1,{color:{r:0,g:0,b:0,a:0}},{easing:"sineOut"}).call((function(){return o.overlay.node.active=!1})).start(),e(t)}))},r.StartSpinFake=function(t){return this.DisableSpinButton(),this.overlay.node.active=!0,b(this.overlay).to(.5,{color:{r:0,g:0,b:0,a:128}},{easing:"sineIn"}).start(),this.confettiDrop.node.active=!1,this.spinner.SpinFake(t)},r.StopSpinFake=function(t){var n=this;t&&(this.EnableSpinButton(),this.confettiDrop.node.active=!0,b(this.overlay).to(1,{color:{r:0,g:0,b:0,a:0}},{easing:"sineOut"}).call((function(){return n.overlay.node.active=!1})).start());for(var i=0;i<8;i++)this.spinner.SetItemLight(i,!1);this.spinner.SetSpinnerLight(!1)},r.Spin=function(){S.GetInstance().emit(h.MAIN,{action:y.SPIN})},r.History=function(){S.GetInstance().emit(h.MAIN,{action:y.HISTORY})},r.Share=function(){S.GetInstance().emit(h.MAIN,{action:y.SHARE})},r.Exit=function(){S.GetInstance().emit(h.MAIN,{action:y.EXIT})},n}(f)).prototype,"spinner",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=n(F.prototype,"overlay",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=n(F.prototype,"turns",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=n(F.prototype,"confettiDrop",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=n(F.prototype,"buttonSpin",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(F.prototype,"buttonHistory",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=n(F.prototype,"buttonBack",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=n(F.prototype,"spirteSpinNormal",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=n(F.prototype,"spirteSpinDisable",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=F))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemNotification.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,n,e,r,o,a,c,s;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Label,s=t.Component}],execute:function(){var u,l,f,p,m;o._RF.push({},"45db9SjQ7xMLrjPwl8puXSz","ItemNotification",void 0);var y=a.ccclass,g=a.property;t("ItemNotification",(u=y("ItemNotification"),l=g(c),u((m=i((p=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,e(r(i),"information",m,r(i)),i}n(i,t);var o=i.prototype;return o.start=function(){},o.SetInformation=function(t){t.name.length>18&&(t.name=t.name.substring(0,18)+"..."),this.information.string=t.name+" vừa quay trúng "+t.itemName},i}(s)).prototype,"information",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=p))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/FloatingItems.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(t){"use strict";var i,e,o,s,n,r,a,c,p,f,l,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,s=t.assertThisInitialized,n=t.defineProperty},function(t){r=t.cclegacy,a=t._decorator,c=t.Node,p=t.tween,f=t.Vec3,l=t.Component},function(t){u=t.RandomInt}],execute:function(){var h,y,m,d,g;r._RF.push({},"59a412K1NxEW77Yknuvdy8e","FloatingItems",void 0);var v=a.ccclass,F=a.property;t("FloatingItems",(h=v("FloatingItems"),y=F({type:[c]}),h((g=i((d=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i=t.call.apply(t,[this].concat(r))||this,o(s(i),"items",g,s(i)),n(s(i),"offset",[]),n(s(i),"direction",[]),n(s(i),"positionY",[]),i}e(i,t);var r=i.prototype;return r.start=function(){for(var t=0;t<this.items.length;t++)this.offset[t]={y:u(0,100)/20},p(this.offset[t]).repeatForever(p(this.offset[t]).to(3,{y:5}).to(3,{y:-5})).start(),this.direction[t]=u(0,100)<50?1:-1,this.positionY[t]=this.items[t].position.y},r.update=function(t){for(var i=0;i<this.items.length;i++)this.items[i].setPosition(new f(this.items[i].position.x,this.positionY[i]+this.direction[i]*this.offset[i].y,0))},i}(l)).prototype,"items",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=d))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/Defines.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var i,t;return{setters:[function(n){i=n.defineProperty},function(n){t=n.cclegacy}],execute:function(){var e,o,s;n({ActionLogin:void 0,ActionMain:void 0,EventName:void 0}),t._RF.push({},"71218fYhlJHzoDWjLv2DGMl","Defines",void 0),function(n){n.LOGIN="event_login",n.MAIN="event_main",n.BID="event_bid"}(e||(e=n("EventName",{}))),function(n){n[n.LOGIN=0]="LOGIN",n[n.LOGIN_SUCCESS=1]="LOGIN_SUCCESS",n[n.LOGIN_FAIL=2]="LOGIN_FAIL"}(o||(o=n("ActionLogin",{}))),function(n){n[n.SPIN=0]="SPIN",n[n.LOGIN=1]="LOGIN",n[n.HISTORY=2]="HISTORY",n[n.SHARE=3]="SHARE",n[n.EXCHANGE=4]="EXCHANGE",n[n.EXIT=5]="EXIT"}(s||(s=n("ActionMain",{})));n("Profiles",(function(){i(this,"token","")})),n("UserInfos",(function(){i(this,"name",""),i(this,"email",""),i(this,"phone",""),i(this,"image",""),i(this,"code",""),i(this,"turns",0),i(this,"points",0)}));t._RF.pop()}}}));

System.register("chunks:///_virtual/SpinnerLight.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(t){"use strict";var i,l,n,e,a,r,f,o,s,h,u,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,l=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized,a=t.defineProperty},function(t){r=t.cclegacy,f=t._decorator,o=t.Sprite,s=t.Vec3,h=t.tween,u=t.Component},function(t){c=t.RandomInt}],execute:function(){var p,g,F,L,R;r._RF.push({},"729d4KJjzhGfL0qDutk2ZsF","SpinnerLight",void 0);var S,d,U=f.ccclass,C=f.property;!function(t){t[t.CLOCKWISE=-1]="CLOCKWISE",t[t.COUNTER_CLOCKWISE=1]="COUNTER_CLOCKWISE"}(S||(S={})),function(t){t[t.FULL_FILL=0]="FULL_FILL",t[t.RUN_FILL=1]="RUN_FILL"}(d||(d={}));t("SpinnerLight",(p=U("SpinnerLight"),g=C(o),p((R=i((L=function(t){function i(){for(var i,l=arguments.length,r=new Array(l),f=0;f<l;f++)r[f]=arguments[f];return i=t.call.apply(t,[this].concat(r))||this,n(e(i),"light",R,e(i)),a(e(i),"fillData",{fillStart:0,fillRange:0}),a(e(i),"tween",void 0),i}l(i,t);var r=i.prototype;return r.start=function(){},r.update=function(t){},r.AngleToFill=function(t){return t%360/15*.0416},r.UpdateFill=function(t){var i=15*Math.floor(this.fillData.fillStart/15);this.light.fillStart=t*this.AngleToFill(i+7.5*t);var l=15*Math.floor(this.fillData.fillRange/15);this.light.fillRange=t*this.AngleToFill(l)},r.ResetFill=function(){this.fillData.fillStart=0,this.fillData.fillRange=0,this.light.fillStart=this.AngleToFill(this.fillData.fillStart),this.light.fillRange=this.AngleToFill(this.fillData.fillRange),this.node.eulerAngles=new s(0,0,15*c(0,23))},r.TurnOn=function(){null!=this.tween&&this.tween.stop(),this.light.fillStart=0,this.light.fillRange=1},r.TurnOff=function(){null!=this.tween&&this.tween.stop(),this.light.fillStart=0,this.light.fillRange=0},r.DoBlink=function(t){var i=c(d.FULL_FILL,d.RUN_FILL),l=c(0,100)<50?S.CLOCKWISE:S.COUNTER_CLOCKWISE;switch(i){case d.FULL_FILL:this.FullFill(l,1,t);case d.RUN_FILL:this.RunFill(l,1,t)}},r.FullFill=function(t,i,l){var n=this;this.ResetFill(),this.tween=h(this.fillData).to(i,{fillRange:360},{onUpdate:function(){return n.UpdateFill(t)}}).delay(1).to(i,{fillRange:0},{onUpdate:function(){return n.UpdateFill(t)}}).call(l).start()},r.RunFill=function(t,i,l){var n=this,e=[8,16,24],a=e[c(0,e.length-1)],r=i/24*a;this.ResetFill(),this.tween=h(this.fillData).to(r,{fillRange:15*a},{onUpdate:function(){return n.UpdateFill(t)}}).to(i-r,{fillStart:375-15*a},{onUpdate:function(){return n.UpdateFill(t)}}).to(r,{fillStart:375,fillRange:0},{onUpdate:function(){return n.UpdateFill(t)}}).delay(1).call(l).start()},r.Spin=function(t,i){var l=this;this.fillData.fillStart=0,this.fillData.fillRange=120,this.tween=h(this.fillData).to(t,{fillStart:i},{easing:"quadOut",onUpdate:function(){return l.UpdateFill(S.COUNTER_CLOCKWISE)}}).call((function(){l.TurnOff()})).start()},r.SpinFake=function(){var t=this;this.fillData.fillStart=0,this.fillData.fillRange=120,this.tween=h(this.fillData).repeatForever(h(this.fillData).to(window.SPINNER_FAKE_TIME,{fillStart:360},{onUpdate:function(){return t.UpdateFill(S.COUNTER_CLOCKWISE)}}).call((function(){t.fillData.fillStart=0}))).start()},i}(u)).prototype,"light",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=L))||F));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemSpin.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,r,o,c,l,a,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,l=t.Node,a=t.Sprite,u=t.Component}],execute:function(){var p,s,f,h,g,b,m,v,y;o._RF.push({},"80778T/Aw5KTqtRMvdABmlf","ItemSpin",void 0);var S=c.ccclass,d=c.property;t("ItemSpin",(p=S("ItemSpin"),s=d(l),f=d(a),h=d(l),p((m=e((b=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,n(r(e),"bg",m,r(e)),n(r(e),"icon",v,r(e)),n(r(e),"light",y,r(e)),e}i(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){},o.Select=function(){this.bg.active=!0},o.Unselect=function(){this.bg.active=!1},o.SetLight=function(t){this.light.active=t},o.SetIcon=function(t){this.icon.spriteFrame=t},o.GetIcon=function(){return this.icon.spriteFrame},e}(u)).prototype,"bg",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(b.prototype,"icon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=e(b.prototype,"light",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=b))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/Timer.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e;return{setters:[function(t){i=t.defineProperty},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"83182rhGv5E5o+cQT5d7b3o","Timer",void 0);t("default",function(){function t(){i(this,"timer",0),i(this,"duration",0),i(this,"overhead",0),i(this,"isDone",!0)}var e=t.prototype;return e.SetDuration=function(t){this.timer=this.duration=t,this.overhead=0,this.isDone=!1},e.AddTime=function(t){this.timer+=t,this.overhead=0,this.isDone=!1},e.GetTimePercent=function(){return this.timer/this.duration},e.Reset=function(){this.timer=this.duration,this.overhead=0,this.isDone=!1},e.IsDone=function(){return 0==this.timer},e.JustFinished=function(){return!(this.timer>0)&&(!this.isDone&&(this.isDone=!0,!0))},e.Update=function(t){0!=this.timer&&(this.timer-=t,this.timer<0&&(this.overhead=-this.timer,this.timer=0))},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Login.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./Defines.ts"],(function(o){"use strict";var t,n,e,i,a,c,s,g,l;return{setters:[function(o){t=o.inheritsLoose,n=o.defineProperty,e=o.assertThisInitialized},function(o){i=o.cclegacy,a=o._decorator,c=o.Component},function(o){s=o.default},function(o){g=o.EventName,l=o.ActionLogin}],execute:function(){var u;i._RF.push({},"88819R1zIVFQawyuDuWo1i2","Login",void 0);var r=a.ccclass;a.property,o("Login",r("Login")(u=function(o){function i(){for(var t,i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return t=o.call.apply(o,[this].concat(a))||this,n(e(t),"fbSDK",null),n(e(t),"googleApi",null),n(e(t),"googleAuth",null),n(e(t),"googleUser",null),t}t(i,o);var a=i.prototype;return a.onLoad=function(){this.fbSDK=window.FB,this.googleApi=window.gapi,this.googleApi.load("auth2",this.GoogleApiLoaded.bind(this))},a.update=function(o){},a.FacebookLogin=function(){var o=this;this.fbSDK.getLoginStatus((function(t){var n="";s.GetInstance().emit(g.LOGIN,{action:l.LOGIN,data:{platform:"facebook"}}),o.fbSDK.login((function(o){o.authResponse?(n=o.authResponse.accessToken,s.GetInstance().emit(g.LOGIN,{action:l.LOGIN_SUCCESS,data:{platform:"facebook",token:n}})):s.GetInstance().emit(g.LOGIN,{action:l.LOGIN_FAIL,data:{platform:"facebook"}})}))}))},a.GoogleLogin=function(){this.googleAuth&&(this.googleAuth.signIn().then((function(o){var t=o.getAuthResponse().access_token;s.GetInstance().emit(g.LOGIN,{action:l.LOGIN_SUCCESS,data:{platform:"google",token:t}})})).catch((function(o){s.GetInstance().emit(g.LOGIN,{action:l.LOGIN_FAIL,data:{platform:"google"}})})),s.GetInstance().emit(g.LOGIN,{action:l.LOGIN,data:{platform:"google"}}))},a.GoogleApiLoaded=function(){this.googleAuth=this.googleApi.auth2.init({client_id:window.GOOGLE_APP_ID,scope:"profile"}),1==this.googleAuth.isSignedIn.get()&&this.GoogleLogin()},a.GoogleSigninChanged=function(o){console.log(o)},a.GoogleUserChanged=function(o){var t=o.getAuthResponse().access_token;null!=t&&s.GetInstance().emit(g.LOGIN,{action:l.LOGIN_SUCCESS,data:{platform:"google",token:t}})},i}(c))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/PopupWarning.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,t,o,i,r,a,c,s,l,p,u,f,d;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,c=n.Node,s=n.Vec3,l=n.tween,p=n.UITransform,u=n.view,f=n.sys,d=n.Component}],execute:function(){var g,h,w,y,v;r._RF.push({},"9c69ay9pCVG/5YDrJ1oySld","PopupWarning",void 0);var _=a.ccclass,L=a.property;n("PopupWarning",(g=_("PopupWarning"),h=L(c),g((v=e((y=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r))||this,o(i(e),"container",v,i(e)),e}t(e,n);var r=e.prototype;return r.onEnable=function(){this.container.setScale(new s(0,0,1)),l(this.container).to(.5,{scale:new s(1,1,1)},{easing:"elasticOut"}).start()},r.start=function(){},r.Show=function(){this.node.active=!0,this.node.getComponent(p).contentSize=u.getVisibleSize()},r.Close=function(){var n=this;l(this.container).to(.5,{scale:new s(0,0,1)},{easing:"elasticIn"}).call((function(){return n.node.active=!1})).start()},r.DownloadApple=function(){f.openURL(window.APPLE_STORE_URL)},r.DownloadGoogle=function(){f.openURL(window.GOOGLE_STORE_URL)},e}(d)).prototype,"container",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=y))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/PopupGift.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./Defines.ts"],(function(t){"use strict";var e,i,n,r,o,a,c,s,l,p,u,f,h,g,v,y,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Node,s=t.Sprite,l=t.ParticleSystem,p=t.Vec3,u=t.tween,f=t.UITransform,h=t.view,g=t.Component},function(t){v=t.default},function(t){y=t.EventName,b=t.ActionMain}],execute:function(){var d,m,w,S,z,P,A,D,G;o._RF.push({},"ae5e6oHii1DAp8iAq9daOTv","PopupGift",void 0);var I=a.ccclass,W=a.property;t("PopupGift",(d=I("PopupGift"),m=W(c),w=W(s),S=W([l]),d((A=e((P=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(r(e),"container",A,r(e)),n(r(e),"gift",D,r(e)),n(r(e),"particleWin",G,r(e)),e}i(e,t);var o=e.prototype;return o.onEnable=function(){this.container.setScale(new p(0,0,1)),u(this.container).to(.5,{scale:new p(1,1,1)},{easing:"elasticOut"}).start()},o.start=function(){},o.Show=function(t){this.gift.spriteFrame=t,this.node.active=!0,this.node.getComponent(f).contentSize=h.getVisibleSize();for(var e=0;e<this.particleWin.length;e++)this.particleWin[e].stop(),this.particleWin[e].play()},o.Close=function(){var t=this;u(this.container).to(.5,{scale:new p(0,0,1)},{easing:"elasticIn"}).call((function(){return t.node.active=!1})).start()},o.Share=function(){v.GetInstance().emit(y.MAIN,{action:b.SHARE})},e}(g)).prototype,"container",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(P.prototype,"gift",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(P.prototype,"particleWin",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=P))||z));o._RF.pop()}}}));

System.register("chunks:///_virtual/PopupExchangeTurn.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./EventMgr.ts","./Defines.ts"],(function(t){"use strict";var n,e,i,r,o,a,u,c,s,l,h,b,p,f,g,d,E,m,y,v;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.defineProperty},function(t){a=t.cclegacy,u=t._decorator,c=t.Node,s=t.Button,l=t.Label,h=t.Vec3,b=t.tween,p=t.UITransform,f=t.view,g=t.Sprite,d=t.Color,E=t.Component},function(t){m=t.default},function(t){y=t.EventName,v=t.ActionMain}],execute:function(){var w,x,z,A,T,C,M,I,S,P,R,H,N,_,D;a._RF.push({},"b495dvYo/BJlKfocklL9tQG","PopupExchangeTurn",void 0);var G=u.ccclass,L=u.property;t("PopupExchangeTurn",(w=G("PopupExchangeTurn"),x=L(c),z=L(s),A=L(s),T=L(s),C=L(l),M=L(l),w((P=n((S=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),u=0;u<e;u++)a[u]=arguments[u];return n=t.call.apply(t,[this].concat(a))||this,i(r(n),"container",P,r(n)),i(r(n),"buttonMinus",R,r(n)),i(r(n),"buttonAdd",H,r(n)),i(r(n),"buttonExchange",N,r(n)),i(r(n),"labelTurn",_,r(n)),i(r(n),"labelCoin",D,r(n)),o(r(n),"coin",0),o(r(n),"rate",0),o(r(n),"turn",0),n}e(n,t);var a=n.prototype;return a.onEnable=function(){this.container.setScale(new h(0,0,1)),b(this.container).to(.5,{scale:new h(1,1,1)},{easing:"elasticOut"}).start()},a.start=function(){},a.Show=function(t,n){this.coin=t,this.rate=n,this.turn=0,this.Refresh(),this.node.active=!0,this.node.getComponent(p).contentSize=f.getVisibleSize()},a.Hide=function(){var t=this;b(this.container).to(.5,{scale:new h(0,0,1)},{easing:"elasticIn"}).call((function(){return t.node.active=!1})).start()},a.Refresh=function(){this.labelTurn.string=""+this.turn,this.labelCoin.string=""+(this.coin-this.turn*this.rate),this.buttonMinus.interactable=this.turn>0,this.buttonAdd.interactable=this.coin>0&&this.coin>=this.turn*this.rate,this.buttonExchange.interactable=this.turn>0,this.buttonExchange.interactable?this.buttonExchange.getComponent(g).color=d.WHITE:this.buttonExchange.getComponent(g).color=new d(180,180,180)},a.Add=function(){this.coin>(this.turn+1)*this.rate&&(this.turn++,this.Refresh())},a.Minus=function(){this.turn--,this.Refresh()},a.Exchange=function(){m.GetInstance().emit(y.MAIN,{action:v.EXCHANGE,turn:this.turn})},a.Share=function(){m.GetInstance().emit(y.MAIN,{action:v.SHARE})},n}(E)).prototype,"container",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=n(S.prototype,"buttonMinus",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=n(S.prototype,"buttonAdd",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=n(S.prototype,"buttonExchange",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=n(S.prototype,"labelTurn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=n(S.prototype,"labelCoin",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=S))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/PopupHistory.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./ItemGift.ts"],(function(t){"use strict";var e,n,i,o,r,a,s,c,l,u,p,f,h,m,g,b,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.defineProperty},function(t){a=t.cclegacy,s=t._decorator,c=t.Node,l=t.Prefab,u=t.Vec3,p=t.tween,f=t.UITransform,h=t.view,m=t.instantiate,g=t.Component},function(t){b=t.convert2Character},function(t){d=t.ItemGift}],execute:function(){var y,v,w,I,S,P,z,H,C;a._RF.push({},"bdf99lAQSJLuJR79SBJsE50","PopupHistory",void 0);var D=s.ccclass,_=s.property;t("PopupHistory",(y=D("PopupHistory"),v=_(c),w=_(l),I=_(c),y((z=e((P=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,i(o(e),"container",z,o(e)),i(o(e),"prefabItem",H,o(e)),i(o(e),"content",C,o(e)),r(o(e),"items",[]),r(o(e),"gifts",void 0),e}n(e,t);var a=e.prototype;return a.onEnable=function(){this.container.setScale(new u(0,0,1)),p(this.container).to(.5,{scale:new u(1,1,1)},{easing:"elasticOut"}).start()},a.start=function(){},a.Show=function(){this.node.active=!0,this.node.getComponent(f).contentSize=h.getVisibleSize()},a.Close=function(){var t=this;p(this.container).to(.5,{scale:new u(0,0,1)},{easing:"elasticIn"}).call((function(){return t.node.active=!1})).start()},a.SetInformation=function(t){var e=this;t.forEach((function(t,n){var i=null;n<e.items.length?i=e.items[n]:((i=m(e.prefabItem)).parent=e.content,e.items.push(i)),i.getComponent(d).SetInformation(t,n)})),this.gifts=t},a.AddHistory=function(t,e,n){var i=this,o=new Date,r=m(this.prefabItem);r.parent=this.content,this.items.push(r),this.gifts.unshift({name:t,image:n,description:e,rewardedTime:b(o.getHours())+":"+b(o.getMinutes())+":"+b(o.getSeconds())+" "+b(o.getDate())+"-"+b(o.getMonth()+1)+"-"+o.getFullYear()}),this.items.forEach((function(t,e){t.getComponent(d).SetInformation(i.gifts[e],e)}))},e}(g)).prototype,"container",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(P.prototype,"prefabItem",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(P.prototype,"content",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=P))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollingText.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,o,s,h,r,d,x,a,p,c,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.defineProperty},function(t){h=t.cclegacy,r=t._decorator,d=t.Node,x=t.Label,a=t.view,p=t.UITransform,c=t.Vec3,l=t.Component}],execute:function(){var u,w,z,S,g,f,v,b,m;h._RF.push({},"bf50fwUJItJvYyJzbCOdU+b","ScrollingText",void 0);var y=r.ccclass,T=r.property;t("ScrollingText",(u=y("ScrollingText"),w=T(d),z=T(x),S=T(x),u((v=i((f=function(t){function i(){for(var i,e=arguments.length,h=new Array(e),r=0;r<e;r++)h[r]=arguments[r];return i=t.call.apply(t,[this].concat(h))||this,n(o(i),"background",v,o(i)),n(o(i),"text1",b,o(i)),n(o(i),"text2",m,o(i)),s(o(i),"screenSize",void 0),s(o(i),"text1Size",void 0),s(o(i),"text2Size",void 0),s(o(i),"padding",10),i}e(i,t);var h=i.prototype;return h.start=function(){},h.update=function(t){if(this.text1.node.position.x==this.text2.node.position.x){if(this.screenSize=a.getVisibleSize(),this.padding=this.screenSize.width,this.text1Size=this.text1.getComponent(p).contentSize,this.text2Size=this.text2.getComponent(p).contentSize,this.text1.node.position=new c(this.screenSize.width/2,0,0),this.text2.node.position=new c(this.screenSize.width/2+this.text1Size.width+this.padding,0,0),this.text1Size.width+this.text2Size.width+this.padding<this.screenSize.width){var i=-this.text1Size.width/2;this.text1.node.setPosition(new c(i,0,0)),this.text2.node.setPosition(new c(i,0,0))}}else if(this.text1Size.width+this.text2Size.width+this.padding>this.screenSize.width){var e=-60*t;this.text1.node.position=this.text1.node.position.add(new c(e,0,0)),this.text2.node.position=this.text2.node.position.add(new c(e,0,0)),this.text1.node.position.x<this.text2.node.position.x?this.text1.node.position.x<-(this.text1Size.width+this.screenSize.width/2)&&(this.text1.node.position=new c(this.text2.node.position.x+this.text2Size.width+this.padding,0,0)):this.text2.node.position.x<-(this.text2Size.width+this.screenSize.width/2)&&(this.text2.node.position=new c(this.text1.node.position.x+this.text1Size.width+this.padding,0,0))}this.text1.node.active=this.text1.node.position.x!=this.text2.node.position.x,this.text2.node.active=this.text1.node.position.x!=this.text2.node.position.x,this.background.active=this.text1.node.position.x!=this.text2.node.position.x},h.SetInformation=function(t){var i=t.map((function(t){return t.name+" vừa quay trúng "+t.itemName+" lúc "+t.rewardedTime})).join(" - ");this.text1.string=i,this.text2.string=i,this.text1.updateRenderData(!0),this.text2.updateRenderData(!0)},i}(l)).prototype,"background",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=i(f.prototype,"text1",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=i(f.prototype,"text2",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=f))||g));h._RF.pop()}}}));

System.register("chunks:///_virtual/Spinner.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./SpinnerLight.ts","./Timer.ts","./ItemSpin.ts"],(function(t){"use strict";var e,n,i,o,r,s,a,c,h,u,l,p,f,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.defineProperty},function(t){s=t.cclegacy,a=t._decorator,c=t.Node,h=t.tween,u=t.Component},function(t){l=t.GetSpriteFromUrl},function(t){p=t.SpinnerLight},function(t){f=t.default},function(t){S=t.ItemSpin}],execute:function(){var m,g,I,d,L,N,v;s._RF.push({},"c86cddfDZxLm7NGiOKG8yCW","Spinner",void 0);var T,b,y=a.ccclass,D=a.property;!function(t){t[t.INIT=0]="INIT",t[t.IDLE=1]="IDLE",t[t.BLINK=2]="BLINK",t[t.SPIN=3]="SPIN"}(T||(T={})),function(t){t[t.BLINK=0]="BLINK",t[t.RUN=1]="RUN"}(b||(b={}));t("Spinner",(m=y("Spinner"),g=D(p),I=D([c]),m((N=e((L=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(o(e),"light",N,o(e)),i(o(e),"items",v,o(e)),r(o(e),"blinkTimer",new f),r(o(e),"state",void 0),e}n(e,t);var s=e.prototype;return s.start=function(){this.SetState(T.INIT)},s.update=function(t){switch(this.state){case T.INIT:break;case T.IDLE:this.blinkTimer.Update(t),this.blinkTimer.IsDone()&&this.SetState(T.BLINK);break;case T.BLINK:case T.SPIN:}},s.SetState=function(t){switch(this.state=t,this.state){case T.INIT:for(var e=0;e<this.items.length;e++){var n=this.items[e].getComponent(S);n.Unselect(),n.SetLight(!1)}this.blinkTimer.SetDuration(3),this.SetState(T.IDLE);break;case T.IDLE:this.blinkTimer.Reset();break;case T.BLINK:case T.SPIN:}},s.DoSpin=function(t,e,n,i){var o=this;void 0===i&&(i=!1);var r=-1,s={index:0},a=function(t,e){var n=Math.floor(s.index%8);n!=r&&(r>=0&&(o.items[r].getComponent(S).SetLight(!1),o.items[r].getComponent(S).Unselect()),n>=0&&n<=7&&(o.items[n].getComponent(S).SetLight(!0),o.items[n].getComponent(S).Select(),r=n))};return i?h(s).repeatForever(h(s).to(t,{index:e},{onUpdate:a}).call((function(){s.index=0,n()}))).start():h(s).to(t,{index:e},{easing:"quadOut",onUpdate:a}).call((function(){o.items[r].getComponent(S).SetLight(!1),o.items[r].getComponent(S).Unselect(),n()})).start()},s.Spin=function(t,e,n,i){var o=this;this.light.Spin(e,45*n),this.DoSpin(e,n,(function(){o.Win(t,(function(){i(o.items[t].getComponent(S).GetIcon())}))}))},s.SpinFake=function(t){return this.light.SpinFake(),this.DoSpin(window.SPINNER_FAKE_TIME,8,(function(){t()}),!0)},s.SetInformation=function(t){for(var e=this,n=[],i=0;i<t.length;i++)n.push(l(t[i].icon));return new Promise((function(t,i){Promise.all(n).then((function(n){for(var i=0;i<n.length;i++){e.items[i].getComponent(S).SetIcon(n[i])}t(n)})).catch((function(t){i("Có lỗi xảy ra khi lấy danh sách quà!")}))}))},s.SetItemLight=function(t,e){var n=this.items[t].getComponent(S);e?(n.Select(),n.SetLight(!0)):(n.Unselect(),n.SetLight(!1))},s.SetSpinnerLight=function(t){t?this.light.TurnOn():this.light.TurnOff()},s.Win=function(t,e){var n=this;h(this.node).repeat(3,h(this.node).to(1,{},{onUpdate:function(e,i){var o=Math.floor(100*i)%50;n.SetItemLight(t,o%25<12),o%25<12?n.light.TurnOn():n.light.TurnOff()}})).call((function(){n.SetItemLight(t,!1),n.light.TurnOff(),e()})).start()},e}(u)).prototype,"light",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(L.prototype,"items",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=L))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/PopupError.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,r,i,o,a,s,c,l,u,p,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Node,c=e.Label,l=e.Vec3,u=e.tween,p=e.UITransform,f=e.view,h=e.Component}],execute:function(){var g,v,y,b,d,w,m;o._RF.push({},"cd786OL4KtC4rtPw+E8R6+f","PopupError",void 0);var P=a.ccclass,z=a.property;e("PopupError",(g=P("PopupError"),v=z(s),y=z({type:c}),g((w=t((d=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(i(t),"container",w,i(t)),r(i(t),"message",m,i(t)),t}n(t,e);var o=t.prototype;return o.onEnable=function(){this.container.setScale(new l(0,0,1)),u(this.container).to(.5,{scale:new l(1,1,1)},{easing:"elasticOut"}).start()},o.start=function(){},o.Show=function(e){this.message.string=e,this.node.active=!0,this.node.getComponent(p).contentSize=f.getVisibleSize()},o.Close=function(){var e=this;u(this.container).to(.5,{scale:new l(0,0,1)},{easing:"elasticIn"}).call((function(){return e.node.active=!1})).start()},t}(h)).prototype,"container",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(d.prototype,"message",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=d))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){"use strict";var e,r,n,i,a,o;return{setters:[function(t){e=t.cclegacy,r=t.assetManager,n=t.SpriteFrame,i=t.Texture2D,a=t.director,o=t.Director}],execute:function(){function u(t){return t<10?"0"+t:t}t({FormatPrice:function(t){if(t.length>0){return(""+parseInt(t)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return t},FormatTime:function(t){var e=Math.floor(t/1e3),r=3600,n=Math.floor(e/r),i=Math.floor((e-n*r)/60),a=e-n*r-60*i;n>100&&(n=99);return""+u(n)+u(i)+u(a)},GetSpriteFromUrl:function(t){return new Promise((function(e,a){r.loadRemote(t,{xhrMimeType:"image/png"},(function(t,r){if(t)a(null);else{var o=new n,u=new i;u.image=r,o.texture=u,e(o)}}))}))},RandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},SaveScreenShoot:function(){a.on(o.EVENT_AFTER_DRAW,(function t(){var e=document.getElementById("GameCanvas"),r=e.getContext("experimental-webgl",{preserveDrawingBuffer:!0}),n=new Uint8Array(e.width*e.height*4);r.readPixels(0,0,e.width,e.height,r.RGBA,r.UNSIGNED_BYTE,n),a.off(o.EVENT_AFTER_DRAW,t)}))},StringDateToShortDate:function(t,e){void 0===e&&(e=!0);try{var r=t.split(" "),n=r[0].split(":"),i=r[1].split("-");return e?i[0]+"/"+i[1]+"\n"+n[0]+":"+n[1]:n[0]+":"+n[1]+" - "+i[0]+"/"+i[1]}catch(e){return t}},StringDateToTimestamp:function(t){try{var e=t.split(" "),r=e[0].split(":"),n=e[1].split("-");return new Date(parseInt(n[2]),parseInt(n[1])-1,parseInt(n[0]),parseInt(r[0]),parseInt(r[1]),parseInt(r[2])).getTime()}catch(t){return(new Date).getTime()}},TextLimit:function(t,e){t.length>e&&(t=t.substring(0,e)+"...");return t},convert2Character:u}),e._RF.push({},"ceaaasKiCFOKJzHWmAeEI8E","Utils",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/NotificationController.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./API.ts","./Timer.ts","./ItemNotification.ts","./ScrollingText.ts"],(function(t){"use strict";var i,n,o,a,e,r,c,s,f,l,h,u,p,N,g,m,d,D;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized,e=t.defineProperty},function(t){r=t.cclegacy,c=t._decorator,s=t.Node,f=t.Vec3,l=t.Sprite,h=t.Color,u=t.tween,p=t.Component},function(t){N=t.RandomInt},function(t){g=t.default},function(t){m=t.default},function(t){d=t.ItemNotification},function(t){D=t.ScrollingText}],execute:function(){var S,v,w,y,I,T,x;r._RF.push({},"e6329fh7QdHiYn7arpg1TCs","NotificationController",void 0);var C=c.ccclass,G=c.property;t("Notification",(S=C("Notification"),v=G({type:[s]}),w=G(D),S((T=i((I=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return i=t.call.apply(t,[this].concat(r))||this,o(a(i),"Notifications",T,a(i)),o(a(i),"scrollingText",x,a(i)),e(a(i),"timerTransition",new m),e(a(i),"timerFetch",new m),e(a(i),"notificationData",[]),i}n(i,t);var r=i.prototype;return r.start=function(){this.timerTransition.SetDuration(1),this.Hide()},r.update=function(t){this.notificationData.length>0&&(this.timerTransition.Update(t),this.timerTransition.IsDone()&&this.notificationData.length>this.Notifications.length&&(this.NotificationTransition(),this.timerTransition.SetDuration(N(100,500)/100))),this.timerFetch.Update(t),this.timerFetch.IsDone()&&this.notificationData.length<10&&(this.SyncNotification(),this.timerFetch.SetDuration(60))},r.SyncNotification=function(){var t=this;this.timerFetch.IsDone()?(g.GetRecentSpinner().then((function(i){var n=JSON.parse(i).data;t.notificationData=t.notificationData.concat(n.recentSpinnerList).concat(n.recentSpinnerList),t.notificationData.length>t.Notifications.length?t.NotificationUpdateInfo():t.Hide(),t.scrollingText.SetInformation(n.recentSpinnerBigGift)})).catch((function(i){t.Hide()})),this.timerFetch.SetDuration(30)):this.notificationData.length>this.Notifications.length&&this.Notifications.forEach((function(i,n){var o=t.NotificationGetAlpha(n),a=t.NotificationGetScale(n);i.scale=new f(a.start,a.start,a.start),i.getComponent(l).color=new h(255,255,255,o.start),i.getComponent(d).SetInformation(t.notificationData[n]),i.active=!0}))},r.NotificationUpdateInfo=function(){var t=this;this.Notifications.forEach((function(i,n){var o=t.NotificationGetAlpha(n),a=t.NotificationGetScale(n);i.scale=new f(a.start,a.start,a.start),i.getComponent(l).color=new h(255,255,255,o.start),i.getComponent(d).SetInformation(t.notificationData[n]),i.active=!0})),this.notificationData.length<10&&this.SyncNotification()},r.NotificationGetAlpha=function(t){var i=150*[1,2,1,0][t],n=150*[0,1,2,1][t];return{start:i=Math.min(Math.max(i,1),255),end:n=Math.min(Math.max(n,1),255)}},r.NotificationGetScale=function(t){return{start:[.95,1,.95,.9][t],end:[.9,.95,1,.95][t]}},r.NotificationTransition=function(){var t=this;this.Notifications.forEach((function(i,n){var o=t.NotificationGetAlpha(n),a=t.NotificationGetScale(n),e=i.position;u(i).to(.75,{position:new f(e.x,e.y+45,0)}).start();var r=i.getComponent(l);r.color=new h(255,255,255,o.start),i.scale=new f(a.start,a.start,a.start),u(i).to(.75,{scale:new f(a.end,a.end,a.end)},{easing:"sineIn"}).start(),u(r).to(.75,{color:{r:255,g:255,b:255,a:o.end}},{easing:"sineIn"}).call((function(){0==n&&t.notificationData.length>t.Notifications.length&&(t.notificationData.shift(),t.NotificationUpdateInfo()),i.position=new f(e.x,e.y-45,0),i.scale=new f(a.start,a.start,a.start),r.color=new h(255,255,255,o.start)})).start()}))},r.Hide=function(){this.Notifications.forEach((function(t,i){t.active=!1}))},i}(p)).prototype,"Notifications",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=i(I.prototype,"scrollingText",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=I))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,i,o,r,a,c,l,s,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.Node,l=e.UITransform,s=e.view,u=e.Component}],execute:function(){var p,f,v,y,d;r._RF.push({},"f2b2fXBSjhBZ4KwKnXZ/HX5","Loading",void 0);var g=a.ccclass,h=a.property;e("Loading",(p=g("Loading"),f=h(c),p((d=n((y=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,i(o(n),"overlay",d,o(n)),n}t(n,e);var r=n.prototype;return r.onEnable=function(){this.node.getComponent(l).contentSize=s.getVisibleSize()},r.update=function(e){},r.EnableOverlay=function(){this.overlay.active=!0},n}(u)).prototype,"overlay",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/EventMgr.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,r,i,s;return{setters:[function(n){t=n.inheritsLoose,e=n.defineProperty,r=n.assertThisInitialized},function(n){i=n.cclegacy,s=n.EventTarget}],execute:function(){i._RF.push({},"f8ad5rydN9EIZ62nOSFY4Dg","EventMgr",void 0);n("default",new(function(n){function i(){for(var t,i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return t=n.call.apply(n,[this].concat(s))||this,e(r(t),"instance",null),t}return t(i,n),i.prototype.GetInstance=function(){return null==this.instance&&(this.instance=new i),this.instance},i}(s)));i._RF.pop()}}}));

System.register("chunks:///_virtual/API.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"fbcf8GwQ39CFpEpDpslNfpR","API",void 0);e("default",new(function(){function e(){}var t=e.prototype;return t.Request=function(e,t,n,r){var u=this;void 0===r&&(r=null);var s=window.API_URL;return new Promise((function(i,o){var l=new XMLHttpRequest;l.open(e,s+t,!0),l.setRequestHeader("Content-type","application/json"),l.setRequestHeader("version","1.0"),l.setRequestHeader("appId","tripi-feed"),l.setRequestHeader("appHash",u.GetHash()),null!=r&&l.setRequestHeader("ge-token",r),l.onreadystatechange=function(){4==l.readyState&&(200==l.status?i(l.response):""==l.response?o("Có lỗi xảy ra, vui lòng kiểm tra kết nối mạng."):o(l.response))},l.send(n)}))},t.GetHash=function(){var e=(new Date).getTime(),t=(e=e/1e3-e/1e3%300)+":"+window.API_HASH,n=window.CryptoJS;return n.enc.Base64.stringify(n.SHA256(t))},t.Login=function(e,t,n){var r={accessToken:e,providerName:t,programCode:"luckywheel",referralCode:n};return this.Request("post","/login/oauth2",JSON.stringify(r))},t.GetUserInfo=function(e){return this.Request("get","/get-user-info",null,e)},t.SpinTheWheel=function(e){return this.Request("post","/lucky-wheel/spin-the-wheel",JSON.stringify({programCode:"luckywheel"}),e)},t.ExchangeTurn=function(e,t){var n={turn:e,programCode:"luckywheel"};return this.Request("post","/lucky-wheel/exchange-available-turn",JSON.stringify(n),t)},t.GetReferralCode=function(e){return this.Request("get","/lucky-wheel/get-referral-code?programCode=luckywheel",null,e)},t.GetTurns=function(e){return this.Request("get","/lucky-wheel/get-available-turn?programCode=luckywheel",null,e)},t.GetMyList=function(e){return this.Request("get","/lucky-wheel/get-my-gift?programCode=luckywheel",null,e)},t.GetGiftList=function(){return this.Request("get","/lucky-wheel/get-gift-list?programCode=luckywheel",null)},t.GetProgram=function(){return this.Request("get","/program/get-program-info?programCode=luckywheel",null)},t.GetRecentSpinner=function(){return this.Request("get","/lucky-wheel/get-recent-spinner?programCode=luckywheel",null)},e}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BackgroundLight.ts","./Utils.ts","./ItemGift.ts","./API.ts","./EventMgr.ts","./Loading.ts","./Defines.ts","./SpinnerLight.ts","./Timer.ts","./ItemSpin.ts","./Spinner.ts","./Main.ts","./PopupError.ts","./PopupWarning.ts","./PopupExchangeTurn.ts","./PopupGift.ts","./PopupHistory.ts","./GameMgr.ts","./ItemNotification.ts","./FloatingItems.ts","./Login.ts","./ScrollingText.ts","./NotificationController.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});